module.exports=(()=>{var t={7333:(t,e,s)=>{const i=s(8240).js;const r=s(2489);t.exports=(async({content:t,context:e})=>{const s=await fetchFile(t,e.token);const r=i(s,{indent_size:2});const n=`<pre><code>${r}</code></pre>`;return{html:n}});async function fetchFile(t,e){const s=e?{headers:{token:e}}:{};const i=await r(t,s);return i.body}},5526:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});const s=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function isTypedArrayName(t){return s.includes(t)}const i=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement",...s];function isObjectTypeName(t){return i.includes(t)}const r=["null","undefined","string","number","bigint","boolean","symbol"];function isPrimitiveTypeName(t){return r.includes(t)}function isOfType(t){return e=>typeof e===t}const{toString:n}=Object.prototype;const a=t=>{const e=n.call(t).slice(8,-1);if(/HTML\w+Element/.test(e)&&is.domElement(t)){return"HTMLElement"}if(isObjectTypeName(e)){return e}return undefined};const o=t=>e=>a(e)===t;function is(t){if(t===null){return"null"}switch(typeof t){case"undefined":return"undefined";case"string":return"string";case"number":return"number";case"boolean":return"boolean";case"function":return"Function";case"bigint":return"bigint";case"symbol":return"symbol";default:}if(is.observable(t)){return"Observable"}if(is.array(t)){return"Array"}if(is.buffer(t)){return"Buffer"}const e=a(t);if(e){return e}if(t instanceof String||t instanceof Boolean||t instanceof Number){throw new TypeError("Please don't use object wrappers for primitive types")}return"Object"}is.undefined=isOfType("undefined");is.string=isOfType("string");const u=isOfType("number");is.number=(t=>u(t)&&!is.nan(t));is.bigint=isOfType("bigint");is.function_=isOfType("function");is.null_=(t=>t===null);is.class_=(t=>is.function_(t)&&t.toString().startsWith("class "));is.boolean=(t=>t===true||t===false);is.symbol=isOfType("symbol");is.numericString=(t=>is.string(t)&&!is.emptyStringOrWhitespace(t)&&!Number.isNaN(Number(t)));is.array=((t,e)=>{if(!Array.isArray(t)){return false}if(!is.function_(e)){return true}return t.every(e)});is.buffer=(t=>{var e,s,i,r;return(r=(i=(s=(e=t)===null||e===void 0?void 0:e.constructor)===null||s===void 0?void 0:s.isBuffer)===null||i===void 0?void 0:i.call(s,t))!==null&&r!==void 0?r:false});is.nullOrUndefined=(t=>is.null_(t)||is.undefined(t));is.object=(t=>!is.null_(t)&&(typeof t==="object"||is.function_(t)));is.iterable=(t=>{var e;return is.function_((e=t)===null||e===void 0?void 0:e[Symbol.iterator])});is.asyncIterable=(t=>{var e;return is.function_((e=t)===null||e===void 0?void 0:e[Symbol.asyncIterator])});is.generator=(t=>is.iterable(t)&&is.function_(t.next)&&is.function_(t.throw));is.asyncGenerator=(t=>is.asyncIterable(t)&&is.function_(t.next)&&is.function_(t.throw));is.nativePromise=(t=>o("Promise")(t));const _=t=>{var e,s;return is.function_((e=t)===null||e===void 0?void 0:e.then)&&is.function_((s=t)===null||s===void 0?void 0:s.catch)};is.promise=(t=>is.nativePromise(t)||_(t));is.generatorFunction=o("GeneratorFunction");is.asyncGeneratorFunction=(t=>a(t)==="AsyncGeneratorFunction");is.asyncFunction=(t=>a(t)==="AsyncFunction");is.boundFunction=(t=>is.function_(t)&&!t.hasOwnProperty("prototype"));is.regExp=o("RegExp");is.date=o("Date");is.error=o("Error");is.map=(t=>o("Map")(t));is.set=(t=>o("Set")(t));is.weakMap=(t=>o("WeakMap")(t));is.weakSet=(t=>o("WeakSet")(t));is.int8Array=o("Int8Array");is.uint8Array=o("Uint8Array");is.uint8ClampedArray=o("Uint8ClampedArray");is.int16Array=o("Int16Array");is.uint16Array=o("Uint16Array");is.int32Array=o("Int32Array");is.uint32Array=o("Uint32Array");is.float32Array=o("Float32Array");is.float64Array=o("Float64Array");is.bigInt64Array=o("BigInt64Array");is.bigUint64Array=o("BigUint64Array");is.arrayBuffer=o("ArrayBuffer");is.sharedArrayBuffer=o("SharedArrayBuffer");is.dataView=o("DataView");is.directInstanceOf=((t,e)=>Object.getPrototypeOf(t)===e.prototype);is.urlInstance=(t=>o("URL")(t));is.urlString=(t=>{if(!is.string(t)){return false}try{new URL(t);return true}catch(t){return false}});is.truthy=(t=>Boolean(t));is.falsy=(t=>!t);is.nan=(t=>Number.isNaN(t));is.primitive=(t=>is.null_(t)||isPrimitiveTypeName(typeof t));is.integer=(t=>Number.isInteger(t));is.safeInteger=(t=>Number.isSafeInteger(t));is.plainObject=(t=>{if(n.call(t)!=="[object Object]"){return false}const e=Object.getPrototypeOf(t);return e===null||e===Object.getPrototypeOf({})});is.typedArray=(t=>isTypedArrayName(a(t)));const h=t=>is.safeInteger(t)&&t>=0;is.arrayLike=(t=>!is.nullOrUndefined(t)&&!is.function_(t)&&h(t.length));is.inRange=((t,e)=>{if(is.number(e)){return t>=Math.min(0,e)&&t<=Math.max(e,0)}if(is.array(e)&&e.length===2){return t>=Math.min(...e)&&t<=Math.max(...e)}throw new TypeError(`Invalid range: ${JSON.stringify(e)}`)});const l=1;const f=["innerHTML","ownerDocument","style","attributes","nodeValue"];is.domElement=(t=>{return is.object(t)&&t.nodeType===l&&is.string(t.nodeName)&&!is.plainObject(t)&&f.every(e=>e in t)});is.observable=(t=>{var e,s,i,r;if(!t){return false}if(t===((s=(e=t)[Symbol.observable])===null||s===void 0?void 0:s.call(e))){return true}if(t===((r=(i=t)["@@observable"])===null||r===void 0?void 0:r.call(i))){return true}return false});is.nodeStream=(t=>is.object(t)&&is.function_(t.pipe)&&!is.observable(t));is.infinite=(t=>t===Infinity||t===-Infinity);const c=t=>e=>is.integer(e)&&Math.abs(e%2)===t;is.evenInteger=c(0);is.oddInteger=c(1);is.emptyArray=(t=>is.array(t)&&t.length===0);is.nonEmptyArray=(t=>is.array(t)&&t.length>0);is.emptyString=(t=>is.string(t)&&t.length===0);is.nonEmptyString=(t=>is.string(t)&&t.length>0);const p=t=>is.string(t)&&!/\S/.test(t);is.emptyStringOrWhitespace=(t=>is.emptyString(t)||p(t));is.emptyObject=(t=>is.object(t)&&!is.map(t)&&!is.set(t)&&Object.keys(t).length===0);is.nonEmptyObject=(t=>is.object(t)&&!is.map(t)&&!is.set(t)&&Object.keys(t).length>0);is.emptySet=(t=>is.set(t)&&t.size===0);is.nonEmptySet=(t=>is.set(t)&&t.size>0);is.emptyMap=(t=>is.map(t)&&t.size===0);is.nonEmptyMap=(t=>is.map(t)&&t.size>0);const d=(t,e,s)=>{if(!is.function_(e)){throw new TypeError(`Invalid predicate: ${JSON.stringify(e)}`)}if(s.length===0){throw new TypeError("Invalid number of values")}return t.call(s,e)};is.any=((t,...e)=>{const s=is.array(t)?t:[t];return s.some(t=>d(Array.prototype.some,t,e))});is.all=((t,...e)=>d(Array.prototype.every,t,e));const m=(t,e,s)=>{if(!t){throw new TypeError(`Expected value which is \`${e}\`, received value of type \`${is(s)}\`.`)}};e.assert={undefined:t=>m(is.undefined(t),"undefined",t),string:t=>m(is.string(t),"string",t),number:t=>m(is.number(t),"number",t),bigint:t=>m(is.bigint(t),"bigint",t),function_:t=>m(is.function_(t),"Function",t),null_:t=>m(is.null_(t),"null",t),class_:t=>m(is.class_(t),"Class",t),boolean:t=>m(is.boolean(t),"boolean",t),symbol:t=>m(is.symbol(t),"symbol",t),numericString:t=>m(is.numericString(t),"string with a number",t),array:(t,e)=>{const s=m;s(is.array(t),"Array",t);if(e){t.forEach(e)}},buffer:t=>m(is.buffer(t),"Buffer",t),nullOrUndefined:t=>m(is.nullOrUndefined(t),"null or undefined",t),object:t=>m(is.object(t),"Object",t),iterable:t=>m(is.iterable(t),"Iterable",t),asyncIterable:t=>m(is.asyncIterable(t),"AsyncIterable",t),generator:t=>m(is.generator(t),"Generator",t),asyncGenerator:t=>m(is.asyncGenerator(t),"AsyncGenerator",t),nativePromise:t=>m(is.nativePromise(t),"native Promise",t),promise:t=>m(is.promise(t),"Promise",t),generatorFunction:t=>m(is.generatorFunction(t),"GeneratorFunction",t),asyncGeneratorFunction:t=>m(is.asyncGeneratorFunction(t),"AsyncGeneratorFunction",t),asyncFunction:t=>m(is.asyncFunction(t),"AsyncFunction",t),boundFunction:t=>m(is.boundFunction(t),"Function",t),regExp:t=>m(is.regExp(t),"RegExp",t),date:t=>m(is.date(t),"Date",t),error:t=>m(is.error(t),"Error",t),map:t=>m(is.map(t),"Map",t),set:t=>m(is.set(t),"Set",t),weakMap:t=>m(is.weakMap(t),"WeakMap",t),weakSet:t=>m(is.weakSet(t),"WeakSet",t),int8Array:t=>m(is.int8Array(t),"Int8Array",t),uint8Array:t=>m(is.uint8Array(t),"Uint8Array",t),uint8ClampedArray:t=>m(is.uint8ClampedArray(t),"Uint8ClampedArray",t),int16Array:t=>m(is.int16Array(t),"Int16Array",t),uint16Array:t=>m(is.uint16Array(t),"Uint16Array",t),int32Array:t=>m(is.int32Array(t),"Int32Array",t),uint32Array:t=>m(is.uint32Array(t),"Uint32Array",t),float32Array:t=>m(is.float32Array(t),"Float32Array",t),float64Array:t=>m(is.float64Array(t),"Float64Array",t),bigInt64Array:t=>m(is.bigInt64Array(t),"BigInt64Array",t),bigUint64Array:t=>m(is.bigUint64Array(t),"BigUint64Array",t),arrayBuffer:t=>m(is.arrayBuffer(t),"ArrayBuffer",t),sharedArrayBuffer:t=>m(is.sharedArrayBuffer(t),"SharedArrayBuffer",t),dataView:t=>m(is.dataView(t),"DataView",t),urlInstance:t=>m(is.urlInstance(t),"URL",t),urlString:t=>m(is.urlString(t),"string with a URL",t),truthy:t=>m(is.truthy(t),"truthy",t),falsy:t=>m(is.falsy(t),"falsy",t),nan:t=>m(is.nan(t),"NaN",t),primitive:t=>m(is.primitive(t),"primitive",t),integer:t=>m(is.integer(t),"integer",t),safeInteger:t=>m(is.safeInteger(t),"integer",t),plainObject:t=>m(is.plainObject(t),"plain object",t),typedArray:t=>m(is.typedArray(t),"TypedArray",t),arrayLike:t=>m(is.arrayLike(t),"array-like",t),domElement:t=>m(is.domElement(t),"HTMLElement",t),observable:t=>m(is.observable(t),"Observable",t),nodeStream:t=>m(is.nodeStream(t),"Node.js Stream",t),infinite:t=>m(is.infinite(t),"infinite number",t),emptyArray:t=>m(is.emptyArray(t),"empty array",t),nonEmptyArray:t=>m(is.nonEmptyArray(t),"non-empty array",t),emptyString:t=>m(is.emptyString(t),"empty string",t),nonEmptyString:t=>m(is.nonEmptyString(t),"non-empty string",t),emptyStringOrWhitespace:t=>m(is.emptyStringOrWhitespace(t),"empty string or whitespace",t),emptyObject:t=>m(is.emptyObject(t),"empty object",t),nonEmptyObject:t=>m(is.nonEmptyObject(t),"non-empty object",t),emptySet:t=>m(is.emptySet(t),"empty set",t),nonEmptySet:t=>m(is.nonEmptySet(t),"non-empty set",t),emptyMap:t=>m(is.emptyMap(t),"empty map",t),nonEmptyMap:t=>m(is.nonEmptyMap(t),"non-empty map",t),evenInteger:t=>m(is.evenInteger(t),"even integer",t),oddInteger:t=>m(is.oddInteger(t),"odd integer",t),directInstanceOf:(t,e)=>m(is.directInstanceOf(t,e),"T",t),inRange:(t,e)=>m(is.inRange(t,e),"in range",t),any:(t,...e)=>m(is.any(t,...e),"predicate returns truthy for any value",e),all:(t,...e)=>m(is.all(t,...e),"predicate returns truthy for all values",e)};Object.defineProperties(is,{class:{value:is.class_},function:{value:is.function_},null:{value:is.null_}});Object.defineProperties(e.assert,{class:{value:e.assert.class_},function:{value:e.assert.function_},null:{value:e.assert.null_}});e.default=is;t.exports=is;t.exports.default=is;t.exports.assert=e.assert},7408:(t,e,s)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});const i=s(1151);const r=Number(process.versions.node.split(".")[0]);const n=t=>{const e={start:Date.now(),socket:undefined,lookup:undefined,connect:undefined,secureConnect:undefined,upload:undefined,response:undefined,end:undefined,error:undefined,abort:undefined,phases:{wait:undefined,dns:undefined,tcp:undefined,tls:undefined,request:undefined,firstByte:undefined,download:undefined,total:undefined}};t.timings=e;const s=t=>{const s=t.emit.bind(t);t.emit=((i,...r)=>{if(i==="error"){e.error=Date.now();e.phases.total=e.error-e.start;t.emit=s}return s(i,...r)})};s(t);t.prependOnceListener("abort",()=>{e.abort=Date.now();if(!e.response||r>=13){e.phases.total=Date.now()-e.start}});const n=t=>{e.socket=Date.now();e.phases.wait=e.socket-e.start;const s=()=>{e.lookup=Date.now();e.phases.dns=e.lookup-e.socket};t.prependOnceListener("lookup",s);i.default(t,{connect:()=>{e.connect=Date.now();if(e.lookup===undefined){t.removeListener("lookup",s);e.lookup=e.connect;e.phases.dns=e.lookup-e.socket}e.phases.tcp=e.connect-e.lookup},secureConnect:()=>{e.secureConnect=Date.now();e.phases.tls=e.secureConnect-e.connect}})};if(t.socket){n(t.socket)}else{t.prependOnceListener("socket",n)}const a=()=>{var t;e.upload=Date.now();e.phases.request=e.upload-(t=e.secureConnect,t!==null&&t!==void 0?t:e.connect)};const o=()=>{if(typeof t.writableFinished==="boolean"){return t.writableFinished}return t.finished&&t.outputSize===0&&(!t.socket||t.socket.writableLength===0)};if(o()){a()}else{t.prependOnceListener("finish",a)}t.prependOnceListener("response",t=>{e.response=Date.now();e.phases.firstByte=e.response-e.upload;t.timings=e;s(t);t.prependOnceListener("end",()=>{e.end=Date.now();e.phases.download=e.end-e.response;e.phases.total=e.end-e.start})});return e};e.default=n;t.exports=n;t.exports.default=n},7169:(t,e,s)=>{"use strict";const{V4MAPPED:i,ADDRCONFIG:r,ALL:n,promises:{Resolver:a},lookup:o}=s(881);const{promisify:u}=s(1669);const _=s(2087);const h=Symbol("cacheableLookupCreateConnection");const l=Symbol("cacheableLookupInstance");const f=Symbol("expires");const c=typeof n==="number";const p=t=>{if(!(t&&typeof t.createConnection==="function")){throw new Error("Expected an Agent instance as the first argument")}};const d=t=>{for(const e of t){if(e.family===6){continue}e.address=`::ffff:${e.address}`;e.family=6}};const m=()=>{let t=false;let e=false;for(const s of Object.values(_.networkInterfaces())){for(const i of s){if(i.internal){continue}if(i.family==="IPv6"){e=true}else{t=true}if(t&&e){return{has4:t,has6:e}}}}return{has4:t,has6:e}};const y=t=>{return Symbol.iterator in t};const g={ttl:true};const b={all:true};class CacheableLookup{constructor({cache:t=new Map,maxTtl:e=Infinity,fallbackDuration:s=3600,errorTtl:i=.15,resolver:r=new a,lookup:n=o}={}){this.maxTtl=e;this.errorTtl=i;this._cache=t;this._resolver=r;this._dnsLookup=u(n);if(this._resolver instanceof a){this._resolve4=this._resolver.resolve4.bind(this._resolver);this._resolve6=this._resolver.resolve6.bind(this._resolver)}else{this._resolve4=u(this._resolver.resolve4.bind(this._resolver));this._resolve6=u(this._resolver.resolve6.bind(this._resolver))}this._iface=m();this._pending={};this._nextRemovalTime=false;this._hostnamesToFallback=new Set;if(s<1){this._fallback=false}else{this._fallback=true;const t=setInterval(()=>{this._hostnamesToFallback.clear()},s*1e3);if(t.unref){t.unref()}}this.lookup=this.lookup.bind(this);this.lookupAsync=this.lookupAsync.bind(this)}set servers(t){this.clear();this._resolver.setServers(t)}get servers(){return this._resolver.getServers()}lookup(t,e,s){if(typeof e==="function"){s=e;e={}}else if(typeof e==="number"){e={family:e}}if(!s){throw new Error("Callback must be a function.")}this.lookupAsync(t,e).then(t=>{if(e.all){s(null,t)}else{s(null,t.address,t.family,t.expires,t.ttl)}},s)}async lookupAsync(t,e={}){if(typeof e==="number"){e={family:e}}let s=await this.query(t);if(e.family===6){const t=s.filter(t=>t.family===6);if(e.hints&i){if(c&&e.hints&n||t.length===0){d(s)}else{s=t}}else{s=t}}else if(e.family===4){s=s.filter(t=>t.family===4)}if(e.hints&r){const{_iface:t}=this;s=s.filter(e=>e.family===6?t.has6:t.has4)}if(s.length===0){const e=new Error(`cacheableLookup ENOTFOUND ${t}`);e.code="ENOTFOUND";e.hostname=t;throw e}if(e.all){return s}return s[0]}async query(t){let e=await this._cache.get(t);if(!e){const s=this._pending[t];if(s){e=await s}else{const s=this.queryAndCache(t);this._pending[t]=s;try{e=await s}finally{delete this._pending[t]}}}e=e.map(t=>{return{...t}});return e}async _resolve(t){const e=async t=>{try{return await t}catch(t){if(t.code==="ENODATA"||t.code==="ENOTFOUND"){return[]}throw t}};const[s,i]=await Promise.all([this._resolve4(t,g),this._resolve6(t,g)].map(t=>e(t)));let r=0;let n=0;let a=0;const o=Date.now();for(const t of s){t.family=4;t.expires=o+t.ttl*1e3;r=Math.max(r,t.ttl)}for(const t of i){t.family=6;t.expires=o+t.ttl*1e3;n=Math.max(n,t.ttl)}if(s.length>0){if(i.length>0){a=Math.min(r,n)}else{a=r}}else{a=n}return{entries:[...s,...i],cacheTtl:a}}async _lookup(t){try{const e=await this._dnsLookup(t,{all:true});return{entries:e,cacheTtl:0}}catch(t){return{entries:[],cacheTtl:0}}}async _set(t,e,s){if(this.maxTtl>0&&s>0){s=Math.min(s,this.maxTtl)*1e3;e[f]=Date.now()+s;try{await this._cache.set(t,e,s)}catch(t){this.lookupAsync=(async()=>{const e=new Error("Cache Error. Please recreate the CacheableLookup instance.");e.cause=t;throw e})}if(y(this._cache)){this._tick(s)}}}async queryAndCache(t){if(this._hostnamesToFallback.has(t)){return this._dnsLookup(t,b)}let e=await this._resolve(t);if(e.entries.length===0&&this._fallback){e=await this._lookup(t);if(e.entries.length!==0){this._hostnamesToFallback.add(t)}}const s=e.entries.length===0?this.errorTtl:e.cacheTtl;await this._set(t,e.entries,s);return e.entries}_tick(t){const e=this._nextRemovalTime;if(!e||t<e){clearTimeout(this._removalTimeout);this._nextRemovalTime=t;this._removalTimeout=setTimeout(()=>{this._nextRemovalTime=false;let t=Infinity;const e=Date.now();for(const[s,i]of this._cache){const r=i[f];if(e>=r){this._cache.delete(s)}else if(r<t){t=r}}if(t!==Infinity){this._tick(t-e)}},t);if(this._removalTimeout.unref){this._removalTimeout.unref()}}}install(t){p(t);if(h in t){throw new Error("CacheableLookup has been already installed")}t[h]=t.createConnection;t[l]=this;t.createConnection=((e,s)=>{if(!("lookup"in e)){e.lookup=this.lookup}return t[h](e,s)})}uninstall(t){p(t);if(t[h]){if(t[l]!==this){throw new Error("The agent is not owned by this CacheableLookup instance")}t.createConnection=t[h];delete t[h];delete t[l]}}updateInterfaceInfo(){const{_iface:t}=this;this._iface=m();if(t.has4&&!this._iface.has4||t.has6&&!this._iface.has6){this._cache.clear()}}clear(t){if(t){this._cache.delete(t);return}this._cache.clear()}}t.exports=CacheableLookup;t.exports.default=CacheableLookup},7251:(t,e,s)=>{"use strict";const i=s(8614);const r=s(8835);const n=s(9044);const a=s(7452);const o=s(6526);const u=s(1762);const _=s(2878);const h=s(7961);const l=s(3347);class CacheableRequest{constructor(t,e){if(typeof t!=="function"){throw new TypeError("Parameter `request` must be a function")}this.cache=new l({uri:typeof e==="string"&&e,store:typeof e!=="string"&&e,namespace:"cacheable-request"});return this.createCacheableRequest(t)}createCacheableRequest(t){return(e,s)=>{let l;if(typeof e==="string"){l=normalizeUrlObject(r.parse(e));e={}}else if(e instanceof r.URL){l=normalizeUrlObject(r.parse(e.toString()));e={}}else{const[t,...s]=(e.path||"").split("?");const i=s.length>0?`?${s.join("?")}`:"";l=normalizeUrlObject({...e,pathname:t,search:i})}e={headers:{},method:"GET",cache:true,strictTtl:false,automaticFailover:false,...e,...urlObjectToRequestOptions(l)};e.headers=_(e.headers);const f=new i;const c=n(r.format(l),{stripWWW:false,removeTrailingSlash:false,stripAuthentication:false});const p=`${e.method}:${c}`;let d=false;let m=false;const y=e=>{m=true;let i=false;let r;const n=new Promise(t=>{r=(()=>{if(!i){i=true;t()}})});const _=t=>{if(d&&!e.forceRefresh){t.status=t.statusCode;const s=o.fromObject(d.cachePolicy).revalidatedPolicy(e,t);if(!s.modified){const e=s.policy.responseHeaders();t=new u(d.statusCode,e,d.body,d.url);t.cachePolicy=s.policy;t.fromCache=true}}if(!t.fromCache){t.cachePolicy=new o(e,t,e);t.fromCache=false}let r;if(e.cache&&t.cachePolicy.storable()){r=h(t);(async()=>{try{const s=a.buffer(t);await Promise.race([n,new Promise(e=>t.once("end",e))]);if(i){return}const r=await s;const o={cachePolicy:t.cachePolicy.toObject(),url:t.url,statusCode:t.fromCache?d.statusCode:t.statusCode,body:r};let u=e.strictTtl?t.cachePolicy.timeToLive():undefined;if(e.maxTtl){u=u?Math.min(u,e.maxTtl):e.maxTtl}await this.cache.set(p,o,u)}catch(t){f.emit("error",new CacheableRequest.CacheError(t))}})()}else if(e.cache&&d){(async()=>{try{await this.cache.delete(p)}catch(t){f.emit("error",new CacheableRequest.CacheError(t))}})()}f.emit("response",r||t);if(typeof s==="function"){s(r||t)}};try{const s=t(e,_);s.once("error",r);s.once("abort",r);f.emit("request",s)}catch(t){f.emit("error",new CacheableRequest.RequestError(t))}};(async()=>{const t=async t=>{await Promise.resolve();const e=t.cache?await this.cache.get(p):undefined;if(typeof e==="undefined"){return y(t)}const i=o.fromObject(e.cachePolicy);if(i.satisfiesWithoutRevalidation(t)&&!t.forceRefresh){const t=i.responseHeaders();const r=new u(e.statusCode,t,e.body,e.url);r.cachePolicy=i;r.fromCache=true;f.emit("response",r);if(typeof s==="function"){s(r)}}else{d=e;t.headers=i.revalidationHeaders(t);y(t)}};const i=t=>f.emit("error",new CacheableRequest.CacheError(t));this.cache.once("error",i);f.on("response",()=>this.cache.removeListener("error",i));try{await t(e)}catch(t){if(e.automaticFailover&&!m){y(e)}f.emit("error",new CacheableRequest.CacheError(t))}})();return f}}}function urlObjectToRequestOptions(t){const e={...t};e.path=`${t.pathname||"/"}${t.search||""}`;delete e.pathname;delete e.search;return e}function normalizeUrlObject(t){return{protocol:t.protocol,auth:t.auth,hostname:t.hostname||t.host||"localhost",port:t.port,pathname:t.pathname,search:t.search}}CacheableRequest.RequestError=class extends Error{constructor(t){super(t.message);this.name="RequestError";Object.assign(this,t)}};CacheableRequest.CacheError=class extends Error{constructor(t){super(t.message);this.name="CacheError";Object.assign(this,t)}};t.exports=CacheableRequest},7961:(t,e,s)=>{"use strict";const i=s(2413).PassThrough;const r=s(4206);const n=t=>{if(!(t&&t.pipe)){throw new TypeError("Parameter `response` must be a response stream.")}const e=new i;r(t,e);return t.pipe(e)};t.exports=n},2453:(t,e,s)=>{"use strict";const{Transform:i,PassThrough:r}=s(2413);const n=s(8761);const a=s(5249);t.exports=(t=>{const e=(t.headers["content-encoding"]||"").toLowerCase();if(!["gzip","deflate","br"].includes(e)){return t}const s=e==="br";if(s&&typeof n.createBrotliDecompress!=="function"){t.destroy(new Error("Brotli is not supported on Node.js < 12"));return t}let o=true;const u=new i({transform(t,e,s){o=false;s(null,t)},flush(t){t()}});const _=new r({autoDestroy:false,destroy(e,s){t.destroy();s(e)}});const h=s?n.createBrotliDecompress():n.createUnzip();h.once("error",e=>{if(o&&!t.readable){_.end();return}_.destroy(e)});a(t,_);t.pipe(u).pipe(h).pipe(_);return _})},5249:t=>{"use strict";const e=["aborted","complete","headers","httpVersion","httpVersionMinor","httpVersionMajor","method","rawHeaders","rawTrailers","setTimeout","socket","statusCode","statusMessage","trailers","url"];t.exports=((t,s)=>{if(s._readableState.autoDestroy){throw new Error("The second stream must have the `autoDestroy` option set to `false`")}const i=new Set(Object.keys(t).concat(e));const r={};for(const e of i){if(e in s){continue}r[e]={get(){const s=t[e];const i=typeof s==="function";return i?s.bind(t):s},set(s){t[e]=s},enumerable:true,configurable:false}}Object.defineProperties(s,r);t.once("aborted",()=>{s.destroy();s.emit("aborted")});t.once("close",()=>{if(t.complete){if(s.readable){s.once("end",()=>{s.emit("close")})}else{s.emit("close")}}else{s.emit("close")}});return s})},1151:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});function isTLSSocket(t){return t.encrypted}const s=(t,e)=>{let s;if(typeof e==="function"){const t=e;s={connect:t}}else{s=e}const i=typeof s.connect==="function";const r=typeof s.secureConnect==="function";const n=typeof s.close==="function";const a=()=>{if(i){s.connect()}if(isTLSSocket(t)&&r){if(t.authorized){s.secureConnect()}else if(!t.authorizationError){t.once("secureConnect",s.secureConnect)}}if(n){t.once("close",s.close)}};if(t.writable&&!t.connecting){a()}else if(t.connecting){t.once("connect",a)}else if(t.destroyed&&n){s.close(t._hadError)}};e.default=s;t.exports=s;t.exports.default=s},3254:(t,e,s)=>{var i=s(9691);var r=function(){};var n=function(t){return t.setHeader&&typeof t.abort==="function"};var a=function(t){return t.stdio&&Array.isArray(t.stdio)&&t.stdio.length===3};var o=function(t,e,s){if(typeof e==="function")return o(t,null,e);if(!e)e={};s=i(s||r);var u=t._writableState;var _=t._readableState;var h=e.readable||e.readable!==false&&t.readable;var l=e.writable||e.writable!==false&&t.writable;var f=false;var c=function(){if(!t.writable)p()};var p=function(){l=false;if(!h)s.call(t)};var d=function(){h=false;if(!l)s.call(t)};var m=function(e){s.call(t,e?new Error("exited with error code: "+e):null)};var y=function(e){s.call(t,e)};var g=function(){process.nextTick(b)};var b=function(){if(f)return;if(h&&!(_&&(_.ended&&!_.destroyed)))return s.call(t,new Error("premature close"));if(l&&!(u&&(u.ended&&!u.destroyed)))return s.call(t,new Error("premature close"))};var w=function(){t.req.on("finish",p)};if(n(t)){t.on("complete",p);t.on("abort",g);if(t.req)w();else t.on("request",w)}else if(l&&!u){t.on("end",c);t.on("close",c)}if(a(t))t.on("exit",m);t.on("end",d);t.on("finish",p);if(e.error!==false)t.on("error",y);t.on("close",g);return function(){f=true;t.removeListener("complete",p);t.removeListener("abort",g);t.removeListener("request",w);if(t.req)t.req.removeListener("finish",p);t.removeListener("end",c);t.removeListener("close",c);t.removeListener("finish",p);t.removeListener("exit",m);t.removeListener("end",d);t.removeListener("error",y);t.removeListener("close",g)}};t.exports=o},9675:(t,e,s)=>{"use strict";const{PassThrough:i}=s(2413);t.exports=(t=>{t={...t};const{array:e}=t;let{encoding:s}=t;const r=s==="buffer";let n=false;if(e){n=!(s||r)}else{s=s||"utf8"}if(r){s=null}const a=new i({objectMode:n});if(s){a.setEncoding(s)}let o=0;const u=[];a.on("data",t=>{u.push(t);if(n){o=u.length}else{o+=t.length}});a.getBufferedValue=(()=>{if(e){return u}return r?Buffer.concat(u,o):u.join("")});a.getBufferedLength=(()=>o);return a})},7452:(t,e,s)=>{"use strict";const{constants:i}=s(4293);const r=s(838);const n=s(9675);class MaxBufferError extends Error{constructor(){super("maxBuffer exceeded");this.name="MaxBufferError"}}async function getStream(t,e){if(!t){return Promise.reject(new Error("Expected a stream"))}e={maxBuffer:Infinity,...e};const{maxBuffer:s}=e;let a;await new Promise((o,u)=>{const _=t=>{if(t&&a.getBufferedLength()<=i.MAX_LENGTH){t.bufferedData=a.getBufferedValue()}u(t)};a=r(t,n(e),t=>{if(t){_(t);return}o()});a.on("data",()=>{if(a.getBufferedLength()>s){_(new MaxBufferError)}})});return a.getBufferedValue()}t.exports=getStream;t.exports.default=getStream;t.exports.buffer=((t,e)=>getStream(t,{...e,encoding:"buffer"}));t.exports.array=((t,e)=>getStream(t,{...e,array:true}));t.exports.MaxBufferError=MaxBufferError},7143:(t,e,s)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});const i=s(4465);function createRejection(t,...e){const s=(async()=>{if(t instanceof i.RequestError){try{for(const s of e){if(s){for(const e of s){t=await e(t)}}}}catch(e){t=e}}throw t})();const r=()=>s;s.json=r;s.text=r;s.buffer=r;s.on=r;return s}e.default=createRejection},9224:function(t,e,s){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,s,i){if(i===undefined)i=s;Object.defineProperty(t,i,{enumerable:true,get:function(){return e[s]}})}:function(t,e,s,i){if(i===undefined)i=s;t[i]=e[s]});var r=this&&this.__exportStar||function(t,e){for(var s in t)if(s!=="default"&&!Object.prototype.hasOwnProperty.call(e,s))i(e,t,s)};Object.defineProperty(e,"__esModule",{value:true});const n=s(8614);const a=s(5526);const o=s(9163);const u=s(4465);const _=s(5258);const h=s(4788);const l=s(6483);const f=s(5915);const c=s(9087);const p=["request","response","redirect","uploadProgress","downloadProgress"];function asPromise(t){let e;let s;const i=new n.EventEmitter;const r=new o((n,o,d)=>{const m=y=>{const g=new h.default(undefined,t);g.retryCount=y;g._noPipe=true;d(()=>g.destroy());d.shouldReject=false;d(()=>o(new u.CancelError(g)));e=g;g.once("response",async t=>{var e;t.retryCount=y;if(t.request.aborted){return}let i;try{i=await f.default(g);t.rawBody=i}catch(t){return}if(g._isAboutToError){return}const r=((e=t.headers["content-encoding"])!==null&&e!==void 0?e:"").toLowerCase();const a=["gzip","deflate","br"].includes(r);const{options:o}=g;if(a&&!o.decompress){t.body=i}else{try{t.body=_.default(t,o.responseType,o.parseJson,o.encoding)}catch(e){t.body=i.toString();if(c.isResponseOk(t)){g._beforeError(e);return}}}try{for(const[e,s]of o.hooks.afterResponse.entries()){t=await s(t,async t=>{const s=h.default.normalizeArguments(undefined,{...t,retry:{calculateDelay:()=>0},throwHttpErrors:false,resolveBodyOnly:false},o);s.hooks.afterResponse=s.hooks.afterResponse.slice(0,e);for(const t of s.hooks.beforeRetry){await t(s)}const i=asPromise(s);d(()=>{i.catch(()=>{});i.cancel()});return i})}}catch(t){g._beforeError(new u.RequestError(t.message,t,g));return}if(!c.isResponseOk(t)){g._beforeError(new u.HTTPError(t));return}s=t;n(g.options.resolveBodyOnly?t.body:t)});const b=t=>{if(r.isCanceled){return}const{options:e}=g;if(t instanceof u.HTTPError&&!e.throwHttpErrors){const{response:e}=t;n(g.options.resolveBodyOnly?e.body:e);return}o(t)};g.once("error",b);const w=g.options.body;g.once("retry",(t,e)=>{var s,i;if(w===((s=e.request)===null||s===void 0?void 0:s.options.body)&&a.default.nodeStream((i=e.request)===null||i===void 0?void 0:i.options.body)){b(e);return}m(t)});l.default(g,i,p)};m(0)});r.on=((t,e)=>{i.on(t,e);return r});const d=t=>{const e=(async()=>{await r;const{options:e}=s.request;return _.default(s,t,e.parseJson,e.encoding)})();Object.defineProperties(e,Object.getOwnPropertyDescriptors(r));return e};r.json=(()=>{const{headers:t}=e.options;if(!e.writableFinished&&t.accept===undefined){t.accept="application/json"}return d("json")});r.buffer=(()=>d("buffer"));r.text=(()=>d("text"));return r}e.default=asPromise;r(s(4465),e)},7284:(t,e,s)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});const i=s(5526);const r=(t,e)=>{if(i.default.null_(t.encoding)){throw new TypeError("To get a Buffer, set `options.responseType` to `buffer` instead")}i.assert.any([i.default.string,i.default.undefined],t.encoding);i.assert.any([i.default.boolean,i.default.undefined],t.resolveBodyOnly);i.assert.any([i.default.boolean,i.default.undefined],t.methodRewriting);i.assert.any([i.default.boolean,i.default.undefined],t.isStream);i.assert.any([i.default.string,i.default.undefined],t.responseType);if(t.responseType===undefined){t.responseType="text"}const{retry:s}=t;if(e){t.retry={...e.retry}}else{t.retry={calculateDelay:t=>t.computedValue,limit:0,methods:[],statusCodes:[],errorCodes:[],maxRetryAfter:undefined}}if(i.default.object(s)){t.retry={...t.retry,...s};t.retry.methods=[...new Set(t.retry.methods.map(t=>t.toUpperCase()))];t.retry.statusCodes=[...new Set(t.retry.statusCodes)];t.retry.errorCodes=[...new Set(t.retry.errorCodes)]}else if(i.default.number(s)){t.retry.limit=s}if(i.default.undefined(t.retry.maxRetryAfter)){t.retry.maxRetryAfter=Math.min(...[t.timeout.request,t.timeout.connect].filter(i.default.number))}if(i.default.object(t.pagination)){if(e){t.pagination={...e.pagination,...t.pagination}}const{pagination:s}=t;if(!i.default.function_(s.transform)){throw new Error("`options.pagination.transform` must be implemented")}if(!i.default.function_(s.shouldContinue)){throw new Error("`options.pagination.shouldContinue` must be implemented")}if(!i.default.function_(s.filter)){throw new TypeError("`options.pagination.filter` must be implemented")}if(!i.default.function_(s.paginate)){throw new Error("`options.pagination.paginate` must be implemented")}}if(t.responseType==="json"&&t.headers.accept===undefined){t.headers.accept="application/json"}return t};e.default=r},5258:(t,e,s)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});const i=s(4465);const r=(t,e,s,r)=>{const{rawBody:n}=t;try{if(e==="text"){return n.toString(r)}if(e==="json"){return n.length===0?"":s(n.toString())}if(e==="buffer"){return n}throw new i.ParseError({message:`Unknown body type '${e}'`,name:"Error"},t)}catch(e){throw new i.ParseError(e,t)}};e.default=r},4465:function(t,e,s){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,s,i){if(i===undefined)i=s;Object.defineProperty(t,i,{enumerable:true,get:function(){return e[s]}})}:function(t,e,s,i){if(i===undefined)i=s;t[i]=e[s]});var r=this&&this.__exportStar||function(t,e){for(var s in t)if(s!=="default"&&!Object.prototype.hasOwnProperty.call(e,s))i(e,t,s)};Object.defineProperty(e,"__esModule",{value:true});e.CancelError=e.ParseError=void 0;const n=s(4788);class ParseError extends n.RequestError{constructor(t,e){const{options:s}=e.request;super(`${t.message} in "${s.url.toString()}"`,t,e.request);this.name="ParseError"}}e.ParseError=ParseError;class CancelError extends n.RequestError{constructor(t){super("Promise was canceled",{},t);this.name="CancelError"}get isCanceled(){return true}}e.CancelError=CancelError;r(s(4788),e)},615:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.retryAfterStatusCodes=void 0;e.retryAfterStatusCodes=new Set([413,429,503]);const s=({attemptCount:t,retryOptions:e,error:s,retryAfter:i})=>{if(t>e.limit){return 0}const r=e.methods.includes(s.options.method);const n=e.errorCodes.includes(s.code);const a=s.response&&e.statusCodes.includes(s.response.statusCode);if(!r||!n&&!a){return 0}if(s.response){if(i){if(e.maxRetryAfter===undefined||i>e.maxRetryAfter){return 0}return i}if(s.response.statusCode===413){return 0}}const o=Math.random()*100;return 2**(t-1)*1e3+o};e.default=s},4788:(t,e,s)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.UnsupportedProtocolError=e.ReadError=e.TimeoutError=e.UploadError=e.CacheError=e.HTTPError=e.MaxRedirectsError=e.RequestError=e.setNonEnumerableProperties=e.knownHookEvents=e.withoutBody=e.kIsNormalizedAlready=void 0;const i=s(1669);const r=s(2413);const n=s(5747);const a=s(8835);const o=s(8605);const u=s(8605);const _=s(7211);const h=s(7408);const l=s(7169);const f=s(7251);const c=s(2453);const p=s(1263);const d=s(2878);const m=s(5526);const y=s(2818);const g=s(1261);const b=s(6483);const w=s(5005);const v=s(6914);const x=s(7104);const E=s(8679);const k=s(5915);const S=s(2652);const T=s(9087);const R=s(1592);const O=s(7284);const A=s(615);let C;const P=Symbol("request");const j=Symbol("response");const L=Symbol("responseSize");const I=Symbol("downloadedSize");const q=Symbol("bodySize");const U=Symbol("uploadedSize");const N=Symbol("serverResponsesPiped");const B=Symbol("unproxyEvents");const M=Symbol("isFromCache");const H=Symbol("cancelTimeouts");const D=Symbol("startedReading");const W=Symbol("stopReading");const $=Symbol("triggerRead");const z=Symbol("body");const F=Symbol("jobs");const G=Symbol("originalResponse");const X=Symbol("retryTimeout");e.kIsNormalizedAlready=Symbol("isNormalizedAlready");const V=m.default.string(process.versions.brotli);e.withoutBody=new Set(["GET","HEAD"]);e.knownHookEvents=["init","beforeRequest","beforeRedirect","beforeError","beforeRetry","afterResponse"];function validateSearchParameters(t){for(const e in t){const s=t[e];if(!m.default.string(s)&&!m.default.number(s)&&!m.default.boolean(s)&&!m.default.null_(s)&&!m.default.undefined(s)){throw new TypeError(`The \`searchParams\` value '${String(s)}' must be a string, number, boolean or null`)}}}function isClientRequest(t){return m.default.object(t)&&!("statusCode"in t)}const Q=new E.default;const J=async t=>new Promise((e,s)=>{const i=t=>{s(t)};if(!t.pending){e()}t.once("error",i);t.once("ready",()=>{t.off("error",i);e()})});const Z=new Set([300,301,302,303,304,307,308]);const K=["context","body","json","form"];e.setNonEnumerableProperties=((t,e)=>{const s={};for(const e of t){if(!e){continue}for(const t of K){if(!(t in e)){continue}s[t]={writable:true,configurable:true,enumerable:false,value:e[t]}}}Object.defineProperties(e,s)});class RequestError extends Error{constructor(t,e,s){var i;super(t);Error.captureStackTrace(this,this.constructor);this.name="RequestError";this.code=e.code;if(s instanceof Request){Object.defineProperty(this,"request",{enumerable:false,value:s});Object.defineProperty(this,"response",{enumerable:false,value:s[j]});Object.defineProperty(this,"options",{enumerable:false,value:s.options})}else{Object.defineProperty(this,"options",{enumerable:false,value:s})}this.timings=(i=this.request)===null||i===void 0?void 0:i.timings;if(m.default.string(e.stack)&&m.default.string(this.stack)){const t=this.stack.indexOf(this.message)+this.message.length;const s=this.stack.slice(t).split("\n").reverse();const i=e.stack.slice(e.stack.indexOf(e.message)+e.message.length).split("\n").reverse();while(i.length!==0&&i[0]===s[0]){s.shift()}this.stack=`${this.stack.slice(0,t)}${s.reverse().join("\n")}${i.reverse().join("\n")}`}}}e.RequestError=RequestError;class MaxRedirectsError extends RequestError{constructor(t){super(`Redirected ${t.options.maxRedirects} times. Aborting.`,{},t);this.name="MaxRedirectsError"}}e.MaxRedirectsError=MaxRedirectsError;class HTTPError extends RequestError{constructor(t){super(`Response code ${t.statusCode} (${t.statusMessage})`,{},t.request);this.name="HTTPError"}}e.HTTPError=HTTPError;class CacheError extends RequestError{constructor(t,e){super(t.message,t,e);this.name="CacheError"}}e.CacheError=CacheError;class UploadError extends RequestError{constructor(t,e){super(t.message,t,e);this.name="UploadError"}}e.UploadError=UploadError;class TimeoutError extends RequestError{constructor(t,e,s){super(t.message,t,s);this.name="TimeoutError";this.event=t.event;this.timings=e}}e.TimeoutError=TimeoutError;class ReadError extends RequestError{constructor(t,e){super(t.message,t,e);this.name="ReadError"}}e.ReadError=ReadError;class UnsupportedProtocolError extends RequestError{constructor(t){super(`Unsupported protocol "${t.url.protocol}"`,{},t);this.name="UnsupportedProtocolError"}}e.UnsupportedProtocolError=UnsupportedProtocolError;const Y=["socket","connect","continue","information","upgrade","timeout"];class Request extends r.Duplex{constructor(t,s={},i){super({autoDestroy:false,highWaterMark:0});this[I]=0;this[U]=0;this.requestInitialized=false;this[N]=new Set;this.redirects=[];this[W]=false;this[$]=false;this[F]=[];this.retryCount=0;this._progressCallbacks=[];const r=()=>this._unlockWrite();const a=()=>this._lockWrite();this.on("pipe",t=>{t.prependListener("data",r);t.on("data",a);t.prependListener("end",r);t.on("end",a)});this.on("unpipe",t=>{t.off("data",r);t.off("data",a);t.off("end",r);t.off("end",a)});this.on("pipe",t=>{if(t instanceof u.IncomingMessage){this.options.headers={...t.headers,...this.options.headers}}});const{json:o,body:_,form:h}=s;if(o||_||h){this._lockWrite()}if(e.kIsNormalizedAlready in s){this.options=s}else{try{this.options=this.constructor.normalizeArguments(t,s,i)}catch(t){if(m.default.nodeStream(s.body)){s.body.destroy()}this.destroy(t);return}}(async()=>{var t;try{if(this.options.body instanceof n.ReadStream){await J(this.options.body)}const{url:e}=this.options;if(!e){throw new TypeError("Missing `url` property")}this.requestUrl=e.toString();decodeURI(this.requestUrl);await this._finalizeBody();await this._makeRequest();if(this.destroyed){(t=this[P])===null||t===void 0?void 0:t.destroy();return}for(const t of this[F]){t()}this[F].length=0;this.requestInitialized=true}catch(t){if(t instanceof RequestError){this._beforeError(t);return}if(!this.destroyed){this.destroy(t)}}})()}static normalizeArguments(t,s,r){var n,o,u,_,h;const c=s;if(m.default.object(t)&&!m.default.urlInstance(t)){s={...r,...t,...s}}else{if(t&&s&&s.url!==undefined){throw new TypeError("The `url` option is mutually exclusive with the `input` argument")}s={...r,...s};if(t!==undefined){s.url=t}if(m.default.urlInstance(s.url)){s.url=new a.URL(s.url.toString())}}if(s.cache===false){s.cache=undefined}if(s.dnsCache===false){s.dnsCache=undefined}m.assert.any([m.default.string,m.default.undefined],s.method);m.assert.any([m.default.object,m.default.undefined],s.headers);m.assert.any([m.default.string,m.default.urlInstance,m.default.undefined],s.prefixUrl);m.assert.any([m.default.object,m.default.undefined],s.cookieJar);m.assert.any([m.default.object,m.default.string,m.default.undefined],s.searchParams);m.assert.any([m.default.object,m.default.string,m.default.undefined],s.cache);m.assert.any([m.default.object,m.default.number,m.default.undefined],s.timeout);m.assert.any([m.default.object,m.default.undefined],s.context);m.assert.any([m.default.object,m.default.undefined],s.hooks);m.assert.any([m.default.boolean,m.default.undefined],s.decompress);m.assert.any([m.default.boolean,m.default.undefined],s.ignoreInvalidCookies);m.assert.any([m.default.boolean,m.default.undefined],s.followRedirect);m.assert.any([m.default.number,m.default.undefined],s.maxRedirects);m.assert.any([m.default.boolean,m.default.undefined],s.throwHttpErrors);m.assert.any([m.default.boolean,m.default.undefined],s.http2);m.assert.any([m.default.boolean,m.default.undefined],s.allowGetBody);m.assert.any([m.default.string,m.default.undefined],s.localAddress);m.assert.any([S.isDnsLookupIpVersion,m.default.undefined],s.dnsLookupIpVersion);m.assert.any([m.default.object,m.default.undefined],s.https);m.assert.any([m.default.boolean,m.default.undefined],s.rejectUnauthorized);if(s.https){m.assert.any([m.default.boolean,m.default.undefined],s.https.rejectUnauthorized);m.assert.any([m.default.function_,m.default.undefined],s.https.checkServerIdentity);m.assert.any([m.default.string,m.default.object,m.default.array,m.default.undefined],s.https.certificateAuthority);m.assert.any([m.default.string,m.default.object,m.default.array,m.default.undefined],s.https.key);m.assert.any([m.default.string,m.default.object,m.default.array,m.default.undefined],s.https.certificate);m.assert.any([m.default.string,m.default.undefined],s.https.passphrase);m.assert.any([m.default.string,m.default.buffer,m.default.array,m.default.undefined],s.https.pfx)}m.assert.any([m.default.object,m.default.undefined],s.cacheOptions);if(m.default.string(s.method)){s.method=s.method.toUpperCase()}else{s.method="GET"}if(s.headers===(r===null||r===void 0?void 0:r.headers)){s.headers={...s.headers}}else{s.headers=d({...r===null||r===void 0?void 0:r.headers,...s.headers})}if("slashes"in s){throw new TypeError("The legacy `url.Url` has been deprecated. Use `URL` instead.")}if("auth"in s){throw new TypeError("Parameter `auth` is deprecated. Use `username` / `password` instead.")}if("searchParams"in s){if(s.searchParams&&s.searchParams!==(r===null||r===void 0?void 0:r.searchParams)){let t;if(m.default.string(s.searchParams)||s.searchParams instanceof a.URLSearchParams){t=new a.URLSearchParams(s.searchParams)}else{validateSearchParameters(s.searchParams);t=new a.URLSearchParams;for(const e in s.searchParams){const i=s.searchParams[e];if(i===null){t.append(e,"")}else if(i!==undefined){t.append(e,i)}}}(n=r===null||r===void 0?void 0:r.searchParams)===null||n===void 0?void 0:n.forEach((e,s)=>{if(!t.has(s)){t.append(s,e)}});s.searchParams=t}}s.username=(o=s.username)!==null&&o!==void 0?o:"";s.password=(u=s.password)!==null&&u!==void 0?u:"";if(m.default.undefined(s.prefixUrl)){s.prefixUrl=(_=r===null||r===void 0?void 0:r.prefixUrl)!==null&&_!==void 0?_:""}else{s.prefixUrl=s.prefixUrl.toString();if(s.prefixUrl!==""&&!s.prefixUrl.endsWith("/")){s.prefixUrl+="/"}}if(m.default.string(s.url)){if(s.url.startsWith("/")){throw new Error("`input` must not start with a slash when using `prefixUrl`")}s.url=x.default(s.prefixUrl+s.url,s)}else if(m.default.undefined(s.url)&&s.prefixUrl!==""||s.protocol){s.url=x.default(s.prefixUrl,s)}if(s.url){if("port"in s){delete s.port}let{prefixUrl:t}=s;Object.defineProperty(s,"prefixUrl",{set:e=>{const i=s.url;if(!i.href.startsWith(e)){throw new Error(`Cannot change \`prefixUrl\` from ${t} to ${e}: ${i.href}`)}s.url=new a.URL(e+i.href.slice(t.length));t=e},get:()=>t});let{protocol:e}=s.url;if(e==="unix:"){e="http:";s.url=new a.URL(`http://unix${s.url.pathname}${s.url.search}`)}if(s.searchParams){s.url.search=s.searchParams.toString()}if(e!=="http:"&&e!=="https:"){throw new UnsupportedProtocolError(s)}if(s.username===""){s.username=s.url.username}else{s.url.username=s.username}if(s.password===""){s.password=s.url.password}else{s.url.password=s.password}}const{cookieJar:p}=s;if(p){let{setCookie:t,getCookieString:e}=p;m.assert.function_(t);m.assert.function_(e);if(t.length===4&&e.length===0){t=i.promisify(t.bind(s.cookieJar));e=i.promisify(e.bind(s.cookieJar));s.cookieJar={setCookie:t,getCookieString:e}}}const{cache:y}=s;if(y){if(!Q.has(y)){Q.set(y,new f((t,e)=>{const s=t[P](t,e);if(m.default.promise(s)){s.once=((t,e)=>{if(t==="error"){s.catch(e)}else if(t==="abort"){(async()=>{try{const t=await s;t.once("abort",e)}catch(t){}})()}else{throw new Error(`Unknown HTTP2 promise event: ${t}`)}return s})}return s},y))}}s.cacheOptions={...s.cacheOptions};if(s.dnsCache===true){if(!C){C=new l.default}s.dnsCache=C}else if(!m.default.undefined(s.dnsCache)&&!s.dnsCache.lookup){throw new TypeError(`Parameter \`dnsCache\` must be a CacheableLookup instance or a boolean, got ${m.default(s.dnsCache)}`)}if(m.default.number(s.timeout)){s.timeout={request:s.timeout}}else if(r&&s.timeout!==r.timeout){s.timeout={...r.timeout,...s.timeout}}else{s.timeout={...s.timeout}}if(!s.context){s.context={}}const g=s.hooks===(r===null||r===void 0?void 0:r.hooks);s.hooks={...s.hooks};for(const t of e.knownHookEvents){if(t in s.hooks){if(m.default.array(s.hooks[t])){s.hooks[t]=[...s.hooks[t]]}else{throw new TypeError(`Parameter \`${t}\` must be an Array, got ${m.default(s.hooks[t])}`)}}else{s.hooks[t]=[]}}if(r&&!g){for(const t of e.knownHookEvents){const e=r.hooks[t];if(e.length>0){s.hooks[t]=[...r.hooks[t],...s.hooks[t]]}}}if("family"in s){R.default('"options.family" was never documented, please use "options.dnsLookupIpVersion"')}if(r===null||r===void 0?void 0:r.https){s.https={...r.https,...s.https}}if("rejectUnauthorized"in s){R.default('"options.rejectUnauthorized" is now deprecated, please use "options.https.rejectUnauthorized"')}if("checkServerIdentity"in s){R.default('"options.checkServerIdentity" was never documented, please use "options.https.checkServerIdentity"')}if("ca"in s){R.default('"options.ca" was never documented, please use "options.https.certificateAuthority"')}if("key"in s){R.default('"options.key" was never documented, please use "options.https.key"')}if("cert"in s){R.default('"options.cert" was never documented, please use "options.https.certificate"')}if("passphrase"in s){R.default('"options.passphrase" was never documented, please use "options.https.passphrase"')}if("pfx"in s){R.default('"options.pfx" was never documented, please use "options.https.pfx"')}if("followRedirects"in s){throw new TypeError("The `followRedirects` option does not exist. Use `followRedirect` instead.")}if(s.agent){for(const t in s.agent){if(t!=="http"&&t!=="https"&&t!=="http2"){throw new TypeError(`Expected the \`options.agent\` properties to be \`http\`, \`https\` or \`http2\`, got \`${t}\``)}}}s.maxRedirects=(h=s.maxRedirects)!==null&&h!==void 0?h:0;e.setNonEnumerableProperties([r,c],s);return O.default(s,r)}_lockWrite(){const t=()=>{throw new TypeError("The payload has been already provided")};this.write=t;this.end=t}_unlockWrite(){this.write=super.write;this.end=super.end}async _finalizeBody(){const{options:t}=this;const{headers:s}=t;const i=!m.default.undefined(t.form);const n=!m.default.undefined(t.json);const o=!m.default.undefined(t.body);const u=i||n||o;const _=e.withoutBody.has(t.method)&&!(t.method==="GET"&&t.allowGetBody);this._cannotHaveBody=_;if(u){if(_){throw new TypeError(`The \`${t.method}\` method cannot be used with a body`)}if([o,i,n].filter(t=>t).length>1){throw new TypeError("The `body`, `json` and `form` options are mutually exclusive")}if(o&&!(t.body instanceof r.Readable)&&!m.default.string(t.body)&&!m.default.buffer(t.body)&&!g.default(t.body)){throw new TypeError("The `body` option must be a stream.Readable, string or Buffer")}if(i&&!m.default.object(t.form)){throw new TypeError("The `form` option must be an Object")}{const e=!m.default.string(s["content-type"]);if(o){if(g.default(t.body)&&e){s["content-type"]=`multipart/form-data; boundary=${t.body.getBoundary()}`}this[z]=t.body}else if(i){if(e){s["content-type"]="application/x-www-form-urlencoded"}this[z]=new a.URLSearchParams(t.form).toString()}else{if(e){s["content-type"]="application/json"}this[z]=t.stringifyJson(t.json)}const r=await y.default(this[z],t.headers);if(m.default.undefined(s["content-length"])&&m.default.undefined(s["transfer-encoding"])){if(!_&&!m.default.undefined(r)){s["content-length"]=String(r)}}}}else if(_){this._lockWrite()}else{this._unlockWrite()}this[q]=Number(s["content-length"])||undefined}async _onResponseBase(t){const{options:e}=this;const{url:s}=e;this[G]=t;if(e.decompress){t=c(t)}const i=t.statusCode;const r=t;r.statusMessage=r.statusMessage?r.statusMessage:o.STATUS_CODES[i];r.url=e.url.toString();r.requestUrl=this.requestUrl;r.redirectUrls=this.redirects;r.request=this;r.isFromCache=t.fromCache||false;r.ip=this.ip;r.retryCount=this.retryCount;this[M]=r.isFromCache;this[L]=Number(t.headers["content-length"])||undefined;this[j]=t;t.once("end",()=>{this[L]=this[I];this.emit("downloadProgress",this.downloadProgress)});t.once("error",e=>{t.destroy();this._beforeError(new ReadError(e,this))});t.once("aborted",()=>{this._beforeError(new ReadError({name:"Error",message:"The server aborted pending request",code:"ECONNRESET"},this))});this.emit("downloadProgress",this.downloadProgress);const n=t.headers["set-cookie"];if(m.default.object(e.cookieJar)&&n){let t=n.map(async t=>e.cookieJar.setCookie(t,s.toString()));if(e.ignoreInvalidCookies){t=t.map(async t=>t.catch(()=>{}))}try{await Promise.all(t)}catch(t){this._beforeError(t);return}}if(e.followRedirect&&t.headers.location&&Z.has(i)){t.resume();if(this[P]){this[H]();delete this[P];this[B]()}const n=i===303&&e.method!=="GET"&&e.method!=="HEAD";if(n||!e.methodRewriting){e.method="GET";if("body"in e){delete e.body}if("json"in e){delete e.json}if("form"in e){delete e.form}this[z]=undefined;delete e.headers["content-length"]}if(this.redirects.length>=e.maxRedirects){this._beforeError(new MaxRedirectsError(this));return}try{const i=Buffer.from(t.headers.location,"binary").toString();const n=new a.URL(i,s);const o=n.toString();decodeURI(o);if(n.hostname!==s.hostname||n.port!==s.port){if("host"in e.headers){delete e.headers.host}if("cookie"in e.headers){delete e.headers.cookie}if("authorization"in e.headers){delete e.headers.authorization}if(e.username||e.password){e.username="";e.password=""}}else{n.username=e.username;n.password=e.password}this.redirects.push(o);e.url=n;for(const t of e.hooks.beforeRedirect){await t(e,r)}this.emit("redirect",r,e);await this._makeRequest()}catch(t){this._beforeError(t);return}return}if(e.isStream&&e.throwHttpErrors&&!T.isResponseOk(r)){this._beforeError(new HTTPError(r));return}t.on("readable",()=>{if(this[$]){this._read()}});this.on("resume",()=>{t.resume()});this.on("pause",()=>{t.pause()});t.once("end",()=>{this.push(null)});this.emit("response",t);for(const s of this[N]){if(s.headersSent){continue}for(const i in t.headers){const r=e.decompress?i!=="content-encoding":true;const n=t.headers[i];if(r){s.setHeader(i,n)}}s.statusCode=i}}async _onResponse(t){try{await this._onResponseBase(t)}catch(t){this._beforeError(t)}}_onRequest(t){const{options:e}=this;const{timeout:s,url:i}=e;h.default(t);this[H]=w.default(t,s,i);const r=e.cache?"cacheableResponse":"response";t.once(r,t=>{void this._onResponse(t)});t.once("error",e=>{var s;t.destroy();(s=t.res)===null||s===void 0?void 0:s.removeAllListeners("end");e=e instanceof w.TimeoutError?new TimeoutError(e,this.timings,this):new RequestError(e.message,e,this);this._beforeError(e)});this[B]=b.default(t,this,Y);this[P]=t;this.emit("uploadProgress",this.uploadProgress);const n=this[z];const a=this.redirects.length===0?this:t;if(m.default.nodeStream(n)){n.pipe(a);n.once("error",t=>{this._beforeError(new UploadError(t,this))})}else{this._unlockWrite();if(!m.default.undefined(n)){this._writeRequest(n,undefined,()=>{});a.end();this._lockWrite()}else if(this._cannotHaveBody||this._noPipe){a.end();this._lockWrite()}}this.emit("request",t)}async _createCacheableRequest(t,e){return new Promise((s,i)=>{Object.assign(e,v.default(t));delete e.url;let r;const n=Q.get(e.cache)(e,async t=>{t._readableState.autoDestroy=false;if(r){(await r).emit("cacheableResponse",t)}s(t)});e.url=t;n.once("error",i);n.once("request",async t=>{r=t;s(r)})})}async _makeRequest(){var t,e,s,i,r;const{options:n}=this;const{headers:a}=n;for(const t in a){if(m.default.undefined(a[t])){delete a[t]}else if(m.default.null_(a[t])){throw new TypeError(`Use \`undefined\` instead of \`null\` to delete the \`${t}\` header`)}}if(n.decompress&&m.default.undefined(a["accept-encoding"])){a["accept-encoding"]=V?"gzip, deflate, br":"gzip, deflate"}if(n.cookieJar){const t=await n.cookieJar.getCookieString(n.url.toString());if(m.default.nonEmptyString(t)){n.headers.cookie=t}}for(const t of n.hooks.beforeRequest){const e=await t(n);if(!m.default.undefined(e)){n.request=(()=>e);break}}if(n.body&&this[z]!==n.body){this[z]=n.body}const{agent:u,request:h,timeout:l,url:c}=n;if(n.dnsCache&&!("lookup"in n)){n.lookup=n.dnsCache.lookup}if(c.hostname==="unix"){const t=/(?<socketPath>.+?):(?<path>.+)/.exec(`${c.pathname}${c.search}`);if(t===null||t===void 0?void 0:t.groups){const{socketPath:e,path:s}=t.groups;Object.assign(n,{socketPath:e,path:s,host:""})}}const d=c.protocol==="https:";let y;if(n.http2){y=p.auto}else{y=d?_.request:o.request}const g=(t=n.request)!==null&&t!==void 0?t:y;const b=n.cache?this._createCacheableRequest:g;if(u&&!n.http2){n.agent=u[d?"https":"http"]}n[P]=g;delete n.request;delete n.timeout;const w=n;w.shared=(e=n.cacheOptions)===null||e===void 0?void 0:e.shared;w.cacheHeuristic=(s=n.cacheOptions)===null||s===void 0?void 0:s.cacheHeuristic;w.immutableMinTimeToLive=(i=n.cacheOptions)===null||i===void 0?void 0:i.immutableMinTimeToLive;w.ignoreCargoCult=(r=n.cacheOptions)===null||r===void 0?void 0:r.ignoreCargoCult;if(n.dnsLookupIpVersion!==undefined){try{w.family=S.dnsLookupIpVersionToFamily(n.dnsLookupIpVersion)}catch(t){throw new Error("Invalid `dnsLookupIpVersion` option value")}}if(n.https){if("rejectUnauthorized"in n.https){w.rejectUnauthorized=n.https.rejectUnauthorized}if(n.https.checkServerIdentity){w.checkServerIdentity=n.https.checkServerIdentity}if(n.https.certificateAuthority){w.ca=n.https.certificateAuthority}if(n.https.certificate){w.cert=n.https.certificate}if(n.https.key){w.key=n.https.key}if(n.https.passphrase){w.passphrase=n.https.passphrase}if(n.https.pfx){w.pfx=n.https.pfx}}try{let t=await b(c,w);if(m.default.undefined(t)){t=y(c,w)}n.request=h;n.timeout=l;n.agent=u;if(n.https){if("rejectUnauthorized"in n.https){delete w.rejectUnauthorized}if(n.https.checkServerIdentity){delete w.checkServerIdentity}if(n.https.certificateAuthority){delete w.ca}if(n.https.certificate){delete w.cert}if(n.https.key){delete w.key}if(n.https.passphrase){delete w.passphrase}if(n.https.pfx){delete w.pfx}}if(isClientRequest(t)){this._onRequest(t)}else if(this.writable){this.once("finish",()=>{void this._onResponse(t)});this._unlockWrite();this.end();this._lockWrite()}else{void this._onResponse(t)}}catch(t){if(t instanceof f.CacheError){throw new CacheError(t,this)}throw new RequestError(t.message,t,this)}}async _error(t){try{for(const e of this.options.hooks.beforeError){t=await e(t)}}catch(e){t=new RequestError(e.message,e,this)}this.destroy(t)}_beforeError(t){if(this[W]){return}const{options:e}=this;const s=this.retryCount+1;this[W]=true;if(!(t instanceof RequestError)){t=new RequestError(t.message,t,this)}const i=t;const{response:r}=i;void(async()=>{if(r&&!r.body){r.setEncoding(this._readableState.encoding);try{r.rawBody=await k.default(r);r.body=r.rawBody.toString()}catch(t){}}if(this.listenerCount("retry")!==0){let n;try{let t;if(r&&"retry-after"in r.headers){t=Number(r.headers["retry-after"]);if(Number.isNaN(t)){t=Date.parse(r.headers["retry-after"])-Date.now();if(t<=0){t=1}}else{t*=1e3}}n=await e.retry.calculateDelay({attemptCount:s,retryOptions:e.retry,error:i,retryAfter:t,computedValue:A.default({attemptCount:s,retryOptions:e.retry,error:i,retryAfter:t,computedValue:0})})}catch(t){void this._error(new RequestError(t.message,t,this));return}if(n){const e=async()=>{try{for(const t of this.options.hooks.beforeRetry){await t(this.options,i,s)}}catch(e){void this._error(new RequestError(e.message,t,this));return}if(this.destroyed){return}this.destroy();this.emit("retry",s,t)};this[X]=setTimeout(e,n);return}}void this._error(i)})()}_read(){this[$]=true;const t=this[j];if(t&&!this[W]){if(t.readableLength){this[$]=false}let e;while((e=t.read())!==null){this[I]+=e.length;this[D]=true;const t=this.downloadProgress;if(t.percent<1){this.emit("downloadProgress",t)}this.push(e)}}}_write(t,e,s){const i=()=>{this._writeRequest(t,e,s)};if(this.requestInitialized){i()}else{this[F].push(i)}}_writeRequest(t,e,s){if(this[P].destroyed){return}this._progressCallbacks.push(()=>{this[U]+=Buffer.byteLength(t,e);const s=this.uploadProgress;if(s.percent<1){this.emit("uploadProgress",s)}});this[P].write(t,e,t=>{if(!t&&this._progressCallbacks.length>0){this._progressCallbacks.shift()()}s(t)})}_final(t){const e=()=>{while(this._progressCallbacks.length!==0){this._progressCallbacks.shift()()}if(!(P in this)){t();return}if(this[P].destroyed){t();return}this[P].end(e=>{if(!e){this[q]=this[U];this.emit("uploadProgress",this.uploadProgress);this[P].emit("upload-complete")}t(e)})};if(this.requestInitialized){e()}else{this[F].push(e)}}_destroy(t,e){var s;this[W]=true;clearTimeout(this[X]);if(P in this){this[H]();if(!((s=this[j])===null||s===void 0?void 0:s.complete)){this[P].destroy()}}if(t!==null&&!m.default.undefined(t)&&!(t instanceof RequestError)){t=new RequestError(t.message,t,this)}e(t)}get _isAboutToError(){return this[W]}get ip(){var t;return(t=this.socket)===null||t===void 0?void 0:t.remoteAddress}get aborted(){var t,e,s;return((e=(t=this[P])===null||t===void 0?void 0:t.destroyed)!==null&&e!==void 0?e:this.destroyed)&&!((s=this[G])===null||s===void 0?void 0:s.complete)}get socket(){var t,e;return(e=(t=this[P])===null||t===void 0?void 0:t.socket)!==null&&e!==void 0?e:undefined}get downloadProgress(){let t;if(this[L]){t=this[I]/this[L]}else if(this[L]===this[I]){t=1}else{t=0}return{percent:t,transferred:this[I],total:this[L]}}get uploadProgress(){let t;if(this[q]){t=this[U]/this[q]}else if(this[q]===this[U]){t=1}else{t=0}return{percent:t,transferred:this[U],total:this[q]}}get timings(){var t;return(t=this[P])===null||t===void 0?void 0:t.timings}get isFromCache(){return this[M]}pipe(t,e){if(this[D]){throw new Error("Failed to pipe. The response has been emitted already.")}if(t instanceof u.ServerResponse){this[N].add(t)}return super.pipe(t,e)}unpipe(t){if(t instanceof u.ServerResponse){this[N].delete(t)}super.unpipe(t);return this}}e.default=Request},2652:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.dnsLookupIpVersionToFamily=e.isDnsLookupIpVersion=void 0;const s={auto:0,ipv4:4,ipv6:6};e.isDnsLookupIpVersion=(t=>{return t in s});e.dnsLookupIpVersionToFamily=(t=>{if(e.isDnsLookupIpVersion(t)){return s[t]}throw new Error("Invalid DNS lookup IP version")})},2818:(t,e,s)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});const i=s(5747);const r=s(1669);const n=s(5526);const a=s(1261);const o=r.promisify(i.stat);e.default=(async(t,e)=>{if(e&&"content-length"in e){return Number(e["content-length"])}if(!t){return 0}if(n.default.string(t)){return Buffer.byteLength(t)}if(n.default.buffer(t)){return t.length}if(a.default(t)){return r.promisify(t.getLength.bind(t))()}if(t instanceof i.ReadStream){const{size:e}=await o(t.path);if(e===0){return undefined}return e}return undefined})},5915:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});const s=async t=>{const e=[];let s=0;for await(const i of t){e.push(i);s+=Buffer.byteLength(i)}if(Buffer.isBuffer(e[0])){return Buffer.concat(e,s)}return Buffer.from(e.join(""))};e.default=s},1261:(t,e,s)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});const i=s(5526);e.default=(t=>i.default.nodeStream(t)&&i.default.function_(t.getBoundary))},9087:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.isResponseOk=void 0;e.isResponseOk=(t=>{const{statusCode:e}=t;const s=t.request.options.followRedirect?299:399;return e>=200&&e<=s||e===304})},7104:(t,e,s)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});const i=s(8835);const r=["protocol","host","hostname","port","pathname","search"];e.default=((t,e)=>{var s,n;if(e.path){if(e.pathname){throw new TypeError("Parameters `path` and `pathname` are mutually exclusive.")}if(e.search){throw new TypeError("Parameters `path` and `search` are mutually exclusive.")}if(e.searchParams){throw new TypeError("Parameters `path` and `searchParams` are mutually exclusive.")}}if(e.search&&e.searchParams){throw new TypeError("Parameters `search` and `searchParams` are mutually exclusive.")}if(!t){if(!e.protocol){throw new TypeError("No URL protocol specified")}t=`${e.protocol}//${(n=(s=e.hostname)!==null&&s!==void 0?s:e.host)!==null&&n!==void 0?n:""}`}const a=new i.URL(t);if(e.path){const t=e.path.indexOf("?");if(t===-1){e.pathname=e.path}else{e.pathname=e.path.slice(0,t);e.search=e.path.slice(t+1)}delete e.path}for(const t of r){if(e[t]){a[t]=e[t].toString()}}return a})},6483:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});function default_1(t,e,s){const i={};for(const r of s){i[r]=((...t)=>{e.emit(r,...t)});t.on(r,i[r])}return()=>{for(const e of s){t.off(e,i[e])}}}e.default=default_1},5005:(t,e,s)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.TimeoutError=void 0;const i=s(1631);const r=s(9653);const n=Symbol("reentry");const a=()=>{};class TimeoutError extends Error{constructor(t,e){super(`Timeout awaiting '${e}' for ${t}ms`);this.event=e;this.name="TimeoutError";this.code="ETIMEDOUT"}}e.TimeoutError=TimeoutError;e.default=((t,e,s)=>{if(n in t){return a}t[n]=true;const o=[];const{once:u,unhandleAll:_}=r.default();const h=(t,e,s)=>{var i;const r=setTimeout(e,t,t,s);(i=r.unref)===null||i===void 0?void 0:i.call(r);const n=()=>{clearTimeout(r)};o.push(n);return n};const{host:l,hostname:f}=s;const c=(e,s)=>{t.destroy(new TimeoutError(e,s))};const p=()=>{for(const t of o){t()}_()};t.once("error",e=>{p();if(t.listenerCount("error")===0){throw e}});t.once("close",p);u(t,"response",t=>{u(t,"end",p)});if(typeof e.request!=="undefined"){h(e.request,c,"request")}if(typeof e.socket!=="undefined"){const s=()=>{c(e.socket,"socket")};t.setTimeout(e.socket,s);o.push(()=>{t.removeListener("timeout",s)})}u(t,"socket",r=>{var n;const{socketPath:a}=t;if(r.connecting){const t=Boolean(a!==null&&a!==void 0?a:i.isIP((n=f!==null&&f!==void 0?f:l)!==null&&n!==void 0?n:"")!==0);if(typeof e.lookup!=="undefined"&&!t&&typeof r.address().address==="undefined"){const t=h(e.lookup,c,"lookup");u(r,"lookup",t)}if(typeof e.connect!=="undefined"){const s=()=>h(e.connect,c,"connect");if(t){u(r,"connect",s())}else{u(r,"lookup",t=>{if(t===null){u(r,"connect",s())}})}}if(typeof e.secureConnect!=="undefined"&&s.protocol==="https:"){u(r,"connect",()=>{const t=h(e.secureConnect,c,"secureConnect");u(r,"secureConnect",t)})}}if(typeof e.send!=="undefined"){const s=()=>h(e.send,c,"send");if(r.connecting){u(r,"connect",()=>{u(t,"upload-complete",s())})}else{u(t,"upload-complete",s())}}});if(typeof e.response!=="undefined"){u(t,"upload-complete",()=>{const s=h(e.response,c,"response");u(t,"response",s)})}return p})},9653:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=(()=>{const t=[];return{once(e,s,i){e.once(s,i);t.push({origin:e,event:s,fn:i})},unhandleAll(){for(const e of t){const{origin:t,event:s,fn:i}=e;t.removeListener(s,i)}t.length=0}}})},6914:(t,e,s)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});const i=s(5526);e.default=(t=>{t=t;const e={protocol:t.protocol,hostname:i.default.string(t.hostname)&&t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname,host:t.host,hash:t.hash,search:t.search,pathname:t.pathname,href:t.href,path:`${t.pathname||""}${t.search||""}`};if(i.default.string(t.port)&&t.port.length>0){e.port=Number(t.port)}if(t.username||t.password){e.auth=`${t.username||""}:${t.password||""}`}return e})},8679:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});class WeakableMap{constructor(){this.weakMap=new WeakMap;this.map=new Map}set(t,e){if(typeof t==="object"){this.weakMap.set(t,e)}else{this.map.set(t,e)}}get(t){if(typeof t==="object"){return this.weakMap.get(t)}return this.map.get(t)}has(t){if(typeof t==="object"){return this.weakMap.has(t)}return this.map.has(t)}}e.default=WeakableMap},4482:function(t,e,s){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,s,i){if(i===undefined)i=s;Object.defineProperty(t,i,{enumerable:true,get:function(){return e[s]}})}:function(t,e,s,i){if(i===undefined)i=s;t[i]=e[s]});var r=this&&this.__exportStar||function(t,e){for(var s in t)if(s!=="default"&&!Object.prototype.hasOwnProperty.call(e,s))i(e,t,s)};Object.defineProperty(e,"__esModule",{value:true});e.defaultHandler=void 0;const n=s(5526);const a=s(9224);const o=s(7143);const u=s(4788);const _=s(2690);const h={RequestError:a.RequestError,CacheError:a.CacheError,ReadError:a.ReadError,HTTPError:a.HTTPError,MaxRedirectsError:a.MaxRedirectsError,TimeoutError:a.TimeoutError,ParseError:a.ParseError,CancelError:a.CancelError,UnsupportedProtocolError:a.UnsupportedProtocolError,UploadError:a.UploadError};const l=async t=>new Promise(e=>{setTimeout(e,t)});const{normalizeArguments:f}=u.default;const c=(...t)=>{let e;for(const s of t){e=f(undefined,s,e)}return e};const p=t=>t.isStream?new u.default(undefined,t):a.default(t);const d=t=>"defaults"in t&&"options"in t.defaults;const m=["get","post","put","patch","head","delete"];e.defaultHandler=((t,e)=>e(t));const y=(t,e)=>{if(t){for(const s of t){s(e)}}};const g=t=>{t._rawHandlers=t.handlers;t.handlers=t.handlers.map(t=>(e,s)=>{let i;const r=t(e,t=>{i=s(t);return i});if(r!==i&&!e.isStream&&i){const t=r;const{then:e,catch:s,finally:n}=t;Object.setPrototypeOf(t,Object.getPrototypeOf(i));Object.defineProperties(t,Object.getOwnPropertyDescriptors(i));t.then=e;t.catch=s;t.finally=n}return r});const s=(e,s={},i)=>{var r,_;let h=0;const l=e=>{return t.handlers[h++](e,h===t.handlers.length?p:l)};if(n.default.plainObject(e)){const t={...e,...s};u.setNonEnumerableProperties([e,s],t);s=t;e=undefined}try{let n;try{y(t.options.hooks.init,s);y((r=s.hooks)===null||r===void 0?void 0:r.init,s)}catch(t){n=t}const h=f(e,s,i!==null&&i!==void 0?i:t.options);h[u.kIsNormalizedAlready]=true;if(n){throw new a.RequestError(n.message,n,h)}return l(h)}catch(e){if(s.isStream){throw e}else{return o.default(e,t.options.hooks.beforeError,(_=s.hooks)===null||_===void 0?void 0:_.beforeError)}}};s.extend=((...s)=>{const i=[t.options];let r=[...t._rawHandlers];let n;for(const t of s){if(d(t)){i.push(t.defaults.options);r.push(...t.defaults._rawHandlers);n=t.defaults.mutableDefaults}else{i.push(t);if("handlers"in t){r.push(...t.handlers)}n=t.mutableDefaults}}r=r.filter(t=>t!==e.defaultHandler);if(r.length===0){r.push(e.defaultHandler)}return g({options:c(...i),handlers:r,mutableDefaults:Boolean(n)})});const i=async function*(e,i){let r=f(e,i,t.options);r.resolveBodyOnly=false;const a=r.pagination;if(!n.default.object(a)){throw new TypeError("`options.pagination` must be implemented")}const o=[];let{countLimit:u}=a;let _=0;while(_<a.requestLimit){if(_!==0){await l(a.backoff)}const t=await s(undefined,undefined,r);const e=await a.transform(t);const i=[];for(const t of e){if(a.filter(t,o,i)){if(!a.shouldContinue(t,o,i)){return}yield t;if(a.stackAllItems){o.push(t)}i.push(t);if(--u<=0){return}}}const n=a.paginate(t,o,i);if(n===false){return}if(n===t.request.options){r=t.request.options}else if(n!==undefined){r=f(undefined,n,r)}_++}};s.paginate=i;s.paginate.all=(async(t,e)=>{const s=[];for await(const r of i(t,e)){s.push(r)}return s});s.paginate.each=i;s.stream=((t,e)=>s(t,{...e,isStream:true}));for(const t of m){s[t]=((e,i)=>s(e,{...i,method:t}));s.stream[t]=((e,i)=>{return s(e,{...i,method:t,isStream:true})})}Object.assign(s,h);Object.defineProperty(s,"defaults",{value:t.mutableDefaults?t:_.default(t),writable:t.mutableDefaults,configurable:t.mutableDefaults,enumerable:true});s.mergeOptions=c;return s};e.default=g;r(s(7844),e)},2489:function(t,e,s){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,s,i){if(i===undefined)i=s;Object.defineProperty(t,i,{enumerable:true,get:function(){return e[s]}})}:function(t,e,s,i){if(i===undefined)i=s;t[i]=e[s]});var r=this&&this.__exportStar||function(t,e){for(var s in t)if(s!=="default"&&!Object.prototype.hasOwnProperty.call(e,s))i(e,t,s)};Object.defineProperty(e,"__esModule",{value:true});const n=s(8835);const a=s(4482);const o={options:{method:"GET",retry:{limit:2,methods:["GET","PUT","HEAD","DELETE","OPTIONS","TRACE"],statusCodes:[408,413,429,500,502,503,504,521,522,524],errorCodes:["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"],maxRetryAfter:undefined,calculateDelay:({computedValue:t})=>t},timeout:{},headers:{"user-agent":"got (https://github.com/sindresorhus/got)"},hooks:{init:[],beforeRequest:[],beforeRedirect:[],beforeRetry:[],beforeError:[],afterResponse:[]},cache:undefined,dnsCache:undefined,decompress:true,throwHttpErrors:true,followRedirect:true,isStream:false,responseType:"text",resolveBodyOnly:false,maxRedirects:10,prefixUrl:"",methodRewriting:true,ignoreInvalidCookies:false,context:{},http2:false,allowGetBody:false,https:undefined,pagination:{transform:t=>{if(t.request.options.responseType==="json"){return t.body}return JSON.parse(t.body)},paginate:t=>{if(!Reflect.has(t.headers,"link")){return false}const e=t.headers.link.split(",");let s;for(const t of e){const e=t.split(";");if(e[1].includes("next")){s=e[0].trimStart().trim();s=s.slice(1,-1);break}}if(s){const t={url:new n.URL(s)};return t}return false},filter:()=>true,shouldContinue:()=>true,countLimit:Infinity,backoff:0,requestLimit:1e4,stackAllItems:true},parseJson:t=>JSON.parse(t),stringifyJson:t=>JSON.stringify(t),cacheOptions:{}},handlers:[a.defaultHandler],mutableDefaults:false};const u=a.default(o);e.default=u;t.exports=u;t.exports.default=u;t.exports.__esModule=true;r(s(4482),e);r(s(9224),e)},7844:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true})},2690:(t,e,s)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});const i=s(5526);function deepFreeze(t){for(const e of Object.values(t)){if(i.default.plainObject(e)||i.default.array(e)){deepFreeze(e)}}return Object.freeze(t)}e.default=deepFreeze},1592:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});const s=new Set;e.default=(t=>{if(s.has(t)){return}s.add(t);process.emitWarning(`Got: ${t}`,{type:"DeprecationWarning"})})},6526:t=>{"use strict";const e=new Set([200,203,204,206,300,301,404,405,410,414,501]);const s=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]);const i=new Set([500,502,503,504]);const r={date:true,connection:true,"keep-alive":true,"proxy-authenticate":true,"proxy-authorization":true,te:true,trailer:true,"transfer-encoding":true,upgrade:true};const n={"content-length":true,"content-encoding":true,"transfer-encoding":true,"content-range":true};function toNumberOrZero(t){const e=parseInt(t,10);return isFinite(e)?e:0}function isErrorResponse(t){if(!t){return true}return i.has(t.status)}function parseCacheControl(t){const e={};if(!t)return e;const s=t.trim().split(/\s*,\s*/);for(const t of s){const[s,i]=t.split(/\s*=\s*/,2);e[s]=i===undefined?true:i.replace(/^"|"$/g,"")}return e}function formatCacheControl(t){let e=[];for(const s in t){const i=t[s];e.push(i===true?s:s+"="+i)}if(!e.length){return undefined}return e.join(", ")}t.exports=class CachePolicy{constructor(t,e,{shared:s,cacheHeuristic:i,immutableMinTimeToLive:r,ignoreCargoCult:n,_fromObject:a}={}){if(a){this._fromObject(a);return}if(!e||!e.headers){throw Error("Response headers missing")}this._assertRequestHasHeaders(t);this._responseTime=this.now();this._isShared=s!==false;this._cacheHeuristic=undefined!==i?i:.1;this._immutableMinTtl=undefined!==r?r:24*3600*1e3;this._status="status"in e?e.status:200;this._resHeaders=e.headers;this._rescc=parseCacheControl(e.headers["cache-control"]);this._method="method"in t?t.method:"GET";this._url=t.url;this._host=t.headers.host;this._noAuthorization=!t.headers.authorization;this._reqHeaders=e.headers.vary?t.headers:null;this._reqcc=parseCacheControl(t.headers["cache-control"]);if(n&&"pre-check"in this._rescc&&"post-check"in this._rescc){delete this._rescc["pre-check"];delete this._rescc["post-check"];delete this._rescc["no-cache"];delete this._rescc["no-store"];delete this._rescc["must-revalidate"];this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":formatCacheControl(this._rescc)});delete this._resHeaders.expires;delete this._resHeaders.pragma}if(e.headers["cache-control"]==null&&/no-cache/.test(e.headers.pragma)){this._rescc["no-cache"]=true}}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&("GET"===this._method||"HEAD"===this._method||"POST"===this._method&&this._hasExplicitExpiration())&&s.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||e.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(t){if(!t||!t.headers){throw Error("Request headers missing")}}satisfiesWithoutRevalidation(t){this._assertRequestHasHeaders(t);const e=parseCacheControl(t.headers["cache-control"]);if(e["no-cache"]||/no-cache/.test(t.headers.pragma)){return false}if(e["max-age"]&&this.age()>e["max-age"]){return false}if(e["min-fresh"]&&this.timeToLive()<1e3*e["min-fresh"]){return false}if(this.stale()){const t=e["max-stale"]&&!this._rescc["must-revalidate"]&&(true===e["max-stale"]||e["max-stale"]>this.age()-this.maxAge());if(!t){return false}}return this._requestMatches(t,false)}_requestMatches(t,e){return(!this._url||this._url===t.url)&&this._host===t.headers.host&&(!t.method||this._method===t.method||e&&"HEAD"===t.method)&&this._varyMatches(t)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(t){if(!this._resHeaders.vary){return true}if(this._resHeaders.vary==="*"){return false}const e=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(const s of e){if(t.headers[s]!==this._reqHeaders[s])return false}return true}_copyWithoutHopByHopHeaders(t){const e={};for(const s in t){if(r[s])continue;e[s]=t[s]}if(t.connection){const s=t.connection.trim().split(/\s*,\s*/);for(const t of s){delete e[t]}}if(e.warning){const t=e.warning.split(/,/).filter(t=>{return!/^\s*1[0-9][0-9]/.test(t)});if(!t.length){delete e.warning}else{e.warning=t.join(",").trim()}}return e}responseHeaders(){const t=this._copyWithoutHopByHopHeaders(this._resHeaders);const e=this.age();if(e>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24){t.warning=(t.warning?`${t.warning}, `:"")+'113 - "rfc7234 5.5.4"'}t.age=`${Math.round(e)}`;t.date=new Date(this.now()).toUTCString();return t}date(){const t=Date.parse(this._resHeaders.date);if(isFinite(t)){return t}return this._responseTime}age(){let t=this._ageValue();const e=(this.now()-this._responseTime)/1e3;return t+e}_ageValue(){return toNumberOrZero(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]){return 0}if(this._isShared&&(this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable)){return 0}if(this._resHeaders.vary==="*"){return 0}if(this._isShared){if(this._rescc["proxy-revalidate"]){return 0}if(this._rescc["s-maxage"]){return toNumberOrZero(this._rescc["s-maxage"])}}if(this._rescc["max-age"]){return toNumberOrZero(this._rescc["max-age"])}const t=this._rescc.immutable?this._immutableMinTtl:0;const e=this.date();if(this._resHeaders.expires){const s=Date.parse(this._resHeaders.expires);if(Number.isNaN(s)||s<e){return 0}return Math.max(t,(s-e)/1e3)}if(this._resHeaders["last-modified"]){const s=Date.parse(this._resHeaders["last-modified"]);if(isFinite(s)&&e>s){return Math.max(t,(e-s)/1e3*this._cacheHeuristic)}}return t}timeToLive(){const t=this.maxAge()-this.age();const e=t+toNumberOrZero(this._rescc["stale-if-error"]);const s=t+toNumberOrZero(this._rescc["stale-while-revalidate"]);return Math.max(0,t,e,s)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+toNumberOrZero(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+toNumberOrZero(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(t){return new this(undefined,undefined,{_fromObject:t})}_fromObject(t){if(this._responseTime)throw Error("Reinitialized");if(!t||t.v!==1)throw Error("Invalid serialization");this._responseTime=t.t;this._isShared=t.sh;this._cacheHeuristic=t.ch;this._immutableMinTtl=t.imm!==undefined?t.imm:24*3600*1e3;this._status=t.st;this._resHeaders=t.resh;this._rescc=t.rescc;this._method=t.m;this._url=t.u;this._host=t.h;this._noAuthorization=t.a;this._reqHeaders=t.reqh;this._reqcc=t.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(t){this._assertRequestHasHeaders(t);const e=this._copyWithoutHopByHopHeaders(t.headers);delete e["if-range"];if(!this._requestMatches(t,true)||!this.storable()){delete e["if-none-match"];delete e["if-modified-since"];return e}if(this._resHeaders.etag){e["if-none-match"]=e["if-none-match"]?`${e["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag}const s=e["accept-ranges"]||e["if-match"]||e["if-unmodified-since"]||this._method&&this._method!="GET";if(s){delete e["if-modified-since"];if(e["if-none-match"]){const t=e["if-none-match"].split(/,/).filter(t=>{return!/^\s*W\//.test(t)});if(!t.length){delete e["if-none-match"]}else{e["if-none-match"]=t.join(",").trim()}}}else if(this._resHeaders["last-modified"]&&!e["if-modified-since"]){e["if-modified-since"]=this._resHeaders["last-modified"]}return e}revalidatedPolicy(t,e){this._assertRequestHasHeaders(t);if(this._useStaleIfError()&&isErrorResponse(e)){return{modified:false,matches:false,policy:this}}if(!e||!e.headers){throw Error("Response headers missing")}let s=false;if(e.status!==undefined&&e.status!=304){s=false}else if(e.headers.etag&&!/^\s*W\//.test(e.headers.etag)){s=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===e.headers.etag}else if(this._resHeaders.etag&&e.headers.etag){s=this._resHeaders.etag.replace(/^\s*W\//,"")===e.headers.etag.replace(/^\s*W\//,"")}else if(this._resHeaders["last-modified"]){s=this._resHeaders["last-modified"]===e.headers["last-modified"]}else{if(!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!e.headers.etag&&!e.headers["last-modified"]){s=true}}if(!s){return{policy:new this.constructor(t,e),modified:e.status!=304,matches:false}}const i={};for(const t in this._resHeaders){i[t]=t in e.headers&&!n[t]?e.headers[t]:this._resHeaders[t]}const r=Object.assign({},e,{status:this._status,method:this._method,headers:i});return{policy:new this.constructor(t,r,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:false,matches:true}}}},9027:(t,e,s)=>{"use strict";const i=s(8614);const r=s(4016);const n=s(7565);const a=s(7973);const o=Symbol("currentStreamsCount");const u=Symbol("request");const _=Symbol("cachedOriginSet");const h=Symbol("gracefullyClosing");const l=["maxDeflateDynamicTableSize","maxSessionMemory","maxHeaderListPairs","maxOutstandingPings","maxReservedRemoteStreams","maxSendHeaderBlockLength","paddingStrategy","localAddress","path","rejectUnauthorized","minDHSize","ca","cert","clientCertEngine","ciphers","key","pfx","servername","minVersion","maxVersion","secureProtocol","crl","honorCipherOrder","ecdhCurve","dhparam","secureOptions","sessionIdContext"];const f=(t,e,s)=>{let i=0;let r=t.length;while(i<r){const n=i+r>>>1;if(s(t[n],e)){i=n+1}else{r=n}}return i};const c=(t,e)=>{return t.remoteSettings.maxConcurrentStreams>e.remoteSettings.maxConcurrentStreams};const p=(t,e)=>{for(const s of t){if(s[_].length<e[_].length&&s[_].every(t=>e[_].includes(t))&&s[o]+e[o]<=e.remoteSettings.maxConcurrentStreams){y(s)}}};const d=(t,e)=>{for(const s of t){if(e[_].length<s[_].length&&e[_].every(t=>s[_].includes(t))&&e[o]+s[o]<=s.remoteSettings.maxConcurrentStreams){y(e)}}};const m=({agent:t,isFree:e})=>{const s={};for(const i in t.sessions){const r=t.sessions[i];const n=r.filter(t=>{const s=t[Agent.kCurrentStreamsCount]<t.remoteSettings.maxConcurrentStreams;return e?s:!s});if(n.length!==0){s[i]=n}}return s};const y=t=>{t[h]=true;if(t[o]===0){t.close()}};class Agent extends i{constructor({timeout:t=6e4,maxSessions:e=Infinity,maxFreeSessions:s=10,maxCachedTlsSessions:i=100}={}){super();this.sessions={};this.queue={};this.timeout=t;this.maxSessions=e;this.maxFreeSessions=s;this._freeSessionsCount=0;this._sessionsCount=0;this.settings={enablePush:false};this.tlsSessionCache=new a({maxSize:i})}static normalizeOrigin(t,e){if(typeof t==="string"){t=new URL(t)}if(e&&t.hostname!==e){t.hostname=e}return t.origin}normalizeOptions(t){let e="";if(t){for(const s of l){if(t[s]){e+=`:${t[s]}`}}}return e}_tryToCreateNewSession(t,e){if(!(t in this.queue)||!(e in this.queue[t])){return}const s=this.queue[t][e];if(this._sessionsCount<this.maxSessions&&!s.completed){s.completed=true;s()}}getSession(t,e,s){return new Promise((i,r)=>{if(Array.isArray(s)){s=[...s];i()}else{s=[{resolve:i,reject:r}]}const a=this.normalizeOptions(e);const l=Agent.normalizeOrigin(t,e&&e.servername);if(l===undefined){for(const{reject:t}of s){t(new TypeError("The `origin` argument needs to be a string or an URL object"))}return}if(a in this.sessions){const t=this.sessions[a];let e=-1;let i=-1;let r;for(const s of t){const t=s.remoteSettings.maxConcurrentStreams;if(t<e){break}if(s[_].includes(l)){const n=s[o];if(n>=t||s[h]||s.destroyed){continue}if(!r){e=t}if(n>i){r=s;i=n}}}if(r){if(s.length!==1){for(const{reject:t}of s){const e=new Error(`Expected the length of listeners to be 1, got ${s.length}.\n`+"Please report this to https://github.com/szmarczak/http2-wrapper/");t(e)}return}s[0].resolve(r);return}}if(a in this.queue){if(l in this.queue[a]){this.queue[a][l].listeners.push(...s);this._tryToCreateNewSession(a,l);return}}else{this.queue[a]={}}const m=()=>{if(a in this.queue&&this.queue[a][l]===y){delete this.queue[a][l];if(Object.keys(this.queue[a]).length===0){delete this.queue[a]}}};const y=()=>{const i=`${l}:${a}`;let r=false;try{const g=n.connect(t,{createConnection:this.createConnection,settings:this.settings,session:this.tlsSessionCache.get(i),...e});g[o]=0;g[h]=false;const b=()=>g[o]<g.remoteSettings.maxConcurrentStreams;let w=true;g.socket.once("session",t=>{this.tlsSessionCache.set(i,t)});g.once("error",t=>{for(const{reject:e}of s){e(t)}this.tlsSessionCache.delete(i)});g.setTimeout(this.timeout,()=>{g.destroy()});g.once("close",()=>{if(r){if(w){this._freeSessionsCount--}this._sessionsCount--;const t=this.sessions[a];t.splice(t.indexOf(g),1);if(t.length===0){delete this.sessions[a]}}else{const t=new Error("Session closed without receiving a SETTINGS frame");t.code="HTTP2WRAPPER_NOSETTINGS";for(const{reject:e}of s){e(t)}m()}this._tryToCreateNewSession(a,l)});const v=()=>{if(!(a in this.queue)||!b()){return}for(const t of g[_]){if(t in this.queue[a]){const{listeners:e}=this.queue[a][t];while(e.length!==0&&b()){e.shift().resolve(g)}const s=this.queue[a];if(s[t].listeners.length===0){delete s[t];if(Object.keys(s).length===0){delete this.queue[a];break}}if(!b()){break}}}};g.on("origin",()=>{g[_]=g.originSet;if(!b()){return}v();p(this.sessions[a],g)});g.once("remoteSettings",()=>{g.ref();g.unref();this._sessionsCount++;if(y.destroyed){const t=new Error("Agent has been destroyed");for(const e of s){e.reject(t)}g.destroy();return}g[_]=g.originSet;{const t=this.sessions;if(a in t){const e=t[a];e.splice(f(e,g,c),0,g)}else{t[a]=[g]}}this._freeSessionsCount+=1;r=true;this.emit("session",g);v();m();if(g[o]===0&&this._freeSessionsCount>this.maxFreeSessions){g.close()}if(s.length!==0){this.getSession(l,e,s);s.length=0}g.on("remoteSettings",()=>{v();p(this.sessions[a],g)})});g[u]=g.request;g.request=((t,e)=>{if(g[h]){throw new Error("The session is gracefully closing. No new streams are allowed.")}const s=g[u](t,e);g.ref();++g[o];if(g[o]===g.remoteSettings.maxConcurrentStreams){this._freeSessionsCount--}s.once("close",()=>{w=b();--g[o];if(!g.destroyed&&!g.closed){d(this.sessions[a],g);if(b()&&!g.closed){if(!w){this._freeSessionsCount++;w=true}const t=g[o]===0;if(t){g.unref()}if(t&&(this._freeSessionsCount>this.maxFreeSessions||g[h])){g.close()}else{p(this.sessions[a],g);v()}}}});return s})}catch(t){for(const e of s){e.reject(t)}m()}};y.listeners=s;y.completed=false;y.destroyed=false;this.queue[a][l]=y;this._tryToCreateNewSession(a,l)})}request(t,e,s,i){return new Promise((r,n)=>{this.getSession(t,e,[{reject:n,resolve:t=>{try{r(t.request(s,i))}catch(t){n(t)}}}])})}createConnection(t,e){return Agent.connect(t,e)}static connect(t,e){e.ALPNProtocols=["h2"];const s=t.port||443;const i=t.hostname||t.host;if(typeof e.servername==="undefined"){e.servername=i}return r.connect(s,i,e)}closeFreeSessions(){for(const t of Object.values(this.sessions)){for(const e of t){if(e[o]===0){e.close()}}}}destroy(t){for(const e of Object.values(this.sessions)){for(const s of e){s.destroy(t)}}for(const t of Object.values(this.queue)){for(const e of Object.values(t)){e.destroyed=true}}this.queue={}}get freeSessions(){return m({agent:this,isFree:true})}get busySessions(){return m({agent:this,isFree:false})}}Agent.kCurrentStreamsCount=o;Agent.kGracefullyClosing=h;t.exports={Agent:Agent,globalAgent:new Agent}},5885:(t,e,s)=>{"use strict";const i=s(8605);const r=s(7211);const n=s(8080);const a=s(7973);const o=s(5169);const u=s(9204);const _=s(1884);const h=new a({maxSize:100});const l=new Map;const f=(t,e,s)=>{e._httpMessage={shouldKeepAlive:true};const i=()=>{t.emit("free",e,s)};e.on("free",i);const r=()=>{t.removeSocket(e,s)};e.on("close",r);const n=()=>{t.removeSocket(e,s);e.off("close",r);e.off("free",i);e.off("agentRemove",n)};e.on("agentRemove",n);t.emit("free",e,s)};const c=async t=>{const e=`${t.host}:${t.port}:${t.ALPNProtocols.sort()}`;if(!h.has(e)){if(l.has(e)){const t=await l.get(e);return t.alpnProtocol}const{path:s,agent:i}=t;t.path=t.socketPath;const a=n(t);l.set(e,a);try{const{socket:n,alpnProtocol:o}=await a;h.set(e,o);t.path=s;if(o==="h2"){n.destroy()}else{const{globalAgent:e}=r;const s=r.Agent.prototype.createConnection;if(i){if(i.createConnection===s){f(i,n,t)}else{n.destroy()}}else if(e.createConnection===s){f(e,n,t)}else{n.destroy()}}l.delete(e);return o}catch(t){l.delete(e);throw t}}return h.get(e)};t.exports=(async(t,e,s)=>{if(typeof t==="string"||t instanceof URL){t=_(new URL(t))}if(typeof e==="function"){s=e;e=undefined}e={ALPNProtocols:["h2","http/1.1"],...t,...e,resolveSocket:true};if(!Array.isArray(e.ALPNProtocols)||e.ALPNProtocols.length===0){throw new Error("The `ALPNProtocols` option must be an Array with at least one entry")}e.protocol=e.protocol||"https:";const n=e.protocol==="https:";e.host=e.hostname||e.host||"localhost";e.session=e.tlsSession;e.servername=e.servername||u(e);e.port=e.port||(n?443:80);e._defaultAgent=n?r.globalAgent:i.globalAgent;const a=e.agent;if(a){if(a.addRequest){throw new Error("The `options.agent` object can contain only `http`, `https` or `http2` properties")}e.agent=a[n?"https":"http"]}if(n){const t=await c(e);if(t==="h2"){if(a){e.agent=a.http2}return new o(e,s)}}return i.request(e,s)});t.exports.protocolCache=h},5169:(t,e,s)=>{"use strict";const i=s(7565);const{Writable:r}=s(2413);const{Agent:n,globalAgent:a}=s(9027);const o=s(216);const u=s(1884);const _=s(2467);const h=s(2785);const{ERR_INVALID_ARG_TYPE:l,ERR_INVALID_PROTOCOL:f,ERR_HTTP_HEADERS_SENT:c,ERR_INVALID_HTTP_TOKEN:p,ERR_HTTP_INVALID_HEADER_VALUE:d,ERR_INVALID_CHAR:m}=s(6973);const{HTTP2_HEADER_STATUS:y,HTTP2_HEADER_METHOD:g,HTTP2_HEADER_PATH:b,HTTP2_METHOD_CONNECT:w}=i.constants;const v=Symbol("headers");const x=Symbol("origin");const E=Symbol("session");const k=Symbol("options");const S=Symbol("flushedHeaders");const T=Symbol("jobs");const R=/^[\^`\-\w!#$%&*+.|~]+$/;const O=/[^\t\u0020-\u007E\u0080-\u00FF]/;class ClientRequest extends r{constructor(t,e,s){super({autoDestroy:false});const i=typeof t==="string"||t instanceof URL;if(i){t=u(t instanceof URL?t:new URL(t))}if(typeof e==="function"||e===undefined){s=e;e=i?t:{...t}}else{e={...t,...e}}if(e.h2session){this[E]=e.h2session}else if(e.agent===false){this.agent=new n({maxFreeSessions:0})}else if(typeof e.agent==="undefined"||e.agent===null){if(typeof e.createConnection==="function"){this.agent=new n({maxFreeSessions:0});this.agent.createConnection=e.createConnection}else{this.agent=a}}else if(typeof e.agent.request==="function"){this.agent=e.agent}else{throw new l("options.agent",["Agent-like Object","undefined","false"],e.agent)}if(e.protocol&&e.protocol!=="https:"){throw new f(e.protocol,"https:")}const r=e.port||e.defaultPort||this.agent&&this.agent.defaultPort||443;const o=e.hostname||e.host||"localhost";delete e.hostname;delete e.host;delete e.port;const{timeout:_}=e;e.timeout=undefined;this[v]=Object.create(null);this[T]=[];this.socket=null;this.connection=null;this.method=e.method||"GET";this.path=e.path;this.res=null;this.aborted=false;this.reusedSocket=false;if(e.headers){for(const[t,s]of Object.entries(e.headers)){this.setHeader(t,s)}}if(e.auth&&!("authorization"in this[v])){this[v].authorization="Basic "+Buffer.from(e.auth).toString("base64")}e.session=e.tlsSession;e.path=e.socketPath;this[k]=e;if(r===443){this[x]=`https://${o}`;if(!(":authority"in this[v])){this[v][":authority"]=o}}else{this[x]=`https://${o}:${r}`;if(!(":authority"in this[v])){this[v][":authority"]=`${o}:${r}`}}if(_){this.setTimeout(_)}if(s){this.once("response",s)}this[S]=false}get method(){return this[v][g]}set method(t){if(t){this[v][g]=t.toUpperCase()}}get path(){return this[v][b]}set path(t){if(t){this[v][b]=t}}get _mustNotHaveABody(){return this.method==="GET"||this.method==="HEAD"||this.method==="DELETE"}_write(t,e,s){if(this._mustNotHaveABody){s(new Error("The GET, HEAD and DELETE methods must NOT have a body"));return}this.flushHeaders();const i=()=>this._request.write(t,e,s);if(this._request){i()}else{this[T].push(i)}}_final(t){if(this.destroyed){return}this.flushHeaders();const e=()=>{if(this._mustNotHaveABody){t();return}this._request.end(t)};if(this._request){e()}else{this[T].push(e)}}abort(){if(this.res&&this.res.complete){return}if(!this.aborted){process.nextTick(()=>this.emit("abort"))}this.aborted=true;this.destroy()}_destroy(t,e){if(this.res){this.res._dump()}if(this._request){this._request.destroy()}e(t)}async flushHeaders(){if(this[S]||this.destroyed){return}this[S]=true;const t=this.method===w;const e=e=>{this._request=e;if(this.destroyed){e.destroy();return}if(!t){_(e,this,["timeout","continue","close","error"])}const s=t=>{return(...e)=>{if(!this.writable&&!this.destroyed){t(...e)}else{this.once("finish",()=>{t(...e)})}}};e.once("response",s((s,i,r)=>{const n=new o(this.socket,e.readableHighWaterMark);this.res=n;n.req=this;n.statusCode=s[y];n.headers=s;n.rawHeaders=r;n.once("end",()=>{if(this.aborted){n.aborted=true;n.emit("aborted")}else{n.complete=true;n.socket=null;n.connection=null}});if(t){n.upgrade=true;if(this.emit("connect",n,e,Buffer.alloc(0))){this.emit("close")}else{e.destroy()}}else{e.on("data",t=>{if(!n._dumped&&!n.push(t)){e.pause()}});e.once("end",()=>{n.push(null)});if(!this.emit("response",n)){n._dump()}}}));e.once("headers",s(t=>this.emit("information",{statusCode:t[y]})));e.once("trailers",s((t,e,s)=>{const{res:i}=this;i.trailers=t;i.rawTrailers=s}));const{socket:i}=e.session;this.socket=i;this.connection=i;for(const t of this[T]){t()}this.emit("socket",this.socket)};if(this[E]){try{e(this[E].request(this[v]))}catch(t){this.emit("error",t)}}else{this.reusedSocket=true;try{e(await this.agent.request(this[x],this[k],this[v]))}catch(t){this.emit("error",t)}}}getHeader(t){if(typeof t!=="string"){throw new l("name","string",t)}return this[v][t.toLowerCase()]}get headersSent(){return this[S]}removeHeader(t){if(typeof t!=="string"){throw new l("name","string",t)}if(this.headersSent){throw new c("remove")}delete this[v][t.toLowerCase()]}setHeader(t,e){if(this.headersSent){throw new c("set")}if(typeof t!=="string"||!R.test(t)&&!h(t)){throw new p("Header name",t)}if(typeof e==="undefined"){throw new d(e,t)}if(O.test(e)){throw new m("header content",t)}this[v][t.toLowerCase()]=e}setNoDelay(){}setSocketKeepAlive(){}setTimeout(t,e){const s=()=>this._request.setTimeout(t,e);if(this._request){s()}else{this[T].push(s)}return this}get maxHeadersCount(){if(!this.destroyed&&this._request){return this._request.session.localSettings.maxHeaderListSize}return undefined}set maxHeadersCount(t){}}t.exports=ClientRequest},216:(t,e,s)=>{"use strict";const{Readable:i}=s(2413);class IncomingMessage extends i{constructor(t,e){super({highWaterMark:e,autoDestroy:false});this.statusCode=null;this.statusMessage="";this.httpVersion="2.0";this.httpVersionMajor=2;this.httpVersionMinor=0;this.headers={};this.trailers={};this.req=null;this.aborted=false;this.complete=false;this.upgrade=null;this.rawHeaders=[];this.rawTrailers=[];this.socket=t;this.connection=t;this._dumped=false}_destroy(t){this.req._request.destroy(t)}setTimeout(t,e){this.req.setTimeout(t,e);return this}_dump(){if(!this._dumped){this._dumped=true;this.removeAllListeners("data");this.resume()}}_read(){if(this.req){this.req._request.resume()}}}t.exports=IncomingMessage},1263:(t,e,s)=>{"use strict";const i=s(7565);const r=s(9027);const n=s(5169);const a=s(216);const o=s(5885);const u=(t,e,s)=>{return new n(t,e,s)};const _=(t,e,s)=>{const i=new n(t,e,s);i.end();return i};t.exports={...i,ClientRequest:n,IncomingMessage:a,...r,request:u,get:_,auto:o}},9204:(t,e,s)=>{"use strict";const i=s(1631);t.exports=(t=>{let e=t.host;const s=t.headers&&t.headers.host;if(s){if(s.startsWith("[")){const t=s.indexOf("]");if(t===-1){e=s}else{e=s.slice(1,-1)}}else{e=s.split(":",1)[0]}}if(i.isIP(e)){return""}return e})},6973:t=>{"use strict";const e=(e,s,i)=>{t.exports[s]=class NodeError extends e{constructor(...t){super(typeof i==="string"?i:i(t));this.name=`${super.name} [${s}]`;this.code=s}}};e(TypeError,"ERR_INVALID_ARG_TYPE",t=>{const e=t[0].includes(".")?"property":"argument";let s=t[1];const i=Array.isArray(s);if(i){s=`${s.slice(0,-1).join(", ")} or ${s.slice(-1)}`}return`The "${t[0]}" ${e} must be ${i?"one of":"of"} type ${s}. Received ${typeof t[2]}`});e(TypeError,"ERR_INVALID_PROTOCOL",t=>{return`Protocol "${t[0]}" not supported. Expected "${t[1]}"`});e(Error,"ERR_HTTP_HEADERS_SENT",t=>{return`Cannot ${t[0]} headers after they are sent to the client`});e(TypeError,"ERR_INVALID_HTTP_TOKEN",t=>{return`${t[0]} must be a valid HTTP token [${t[1]}]`});e(TypeError,"ERR_HTTP_INVALID_HEADER_VALUE",t=>{return`Invalid value "${t[0]} for header "${t[1]}"`});e(TypeError,"ERR_INVALID_CHAR",t=>{return`Invalid character in ${t[0]} [${t[1]}]`})},2785:t=>{"use strict";t.exports=(t=>{switch(t){case":method":case":scheme":case":authority":case":path":return true;default:return false}})},2467:t=>{"use strict";t.exports=((t,e,s)=>{for(const i of s){t.on(i,(...t)=>e.emit(i,...t))}})},1884:t=>{"use strict";t.exports=(t=>{const e={protocol:t.protocol,hostname:typeof t.hostname==="string"&&t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname,host:t.host,hash:t.hash,search:t.search,pathname:t.pathname,href:t.href,path:`${t.pathname||""}${t.search||""}`};if(typeof t.port==="string"&&t.port.length!==0){e.port=Number(t.port)}if(t.username||t.password){e.auth=`${t.username||""}:${t.password||""}`}return e})},8240:(t,e,s)=>{"use strict";t=s.nmd(t);function get_beautify(t,e,s){var i=function(e,s){return t.js_beautify(e,s)};i.js=t.js_beautify;i.css=e.css_beautify;i.html=s.html_beautify;i.js_beautify=t.js_beautify;i.css_beautify=e.css_beautify;i.html_beautify=s.html_beautify;return i}if(typeof define==="function"&&define.amd){define(["./lib/beautify","./lib/beautify-css","./lib/beautify-html"],function(t,e,s){return get_beautify(t,e,s)})}else{(function(t){var e=s(6078);e.js_beautify=e.js;e.css_beautify=e.css;e.html_beautify=e.html;t.exports=get_beautify(e,e,e)})(t)}},2525:t=>{"use strict";function Directives(t,e){t=typeof t==="string"?t:t.source;e=typeof e==="string"?e:e.source;this.__directives_block_pattern=new RegExp(t+/ beautify( \w+[:]\w+)+ /.source+e,"g");this.__directive_pattern=/ (\w+)[:](\w+)/g;this.__directives_end_ignore_pattern=new RegExp(t+/\sbeautify\signore:end\s/.source+e,"g")}Directives.prototype.get_directives=function(t){if(!t.match(this.__directives_block_pattern)){return null}var e={};this.__directive_pattern.lastIndex=0;var s=this.__directive_pattern.exec(t);while(s){e[s[1]]=s[2];s=this.__directive_pattern.exec(t)}return e};Directives.prototype.readIgnored=function(t){return t.readUntilAfter(this.__directives_end_ignore_pattern)};t.exports.t=Directives},4652:t=>{"use strict";var e=RegExp.prototype.hasOwnProperty("sticky");function InputScanner(t){this.__input=t||"";this.__input_length=this.__input.length;this.__position=0}InputScanner.prototype.restart=function(){this.__position=0};InputScanner.prototype.back=function(){if(this.__position>0){this.__position-=1}};InputScanner.prototype.hasNext=function(){return this.__position<this.__input_length};InputScanner.prototype.next=function(){var t=null;if(this.hasNext()){t=this.__input.charAt(this.__position);this.__position+=1}return t};InputScanner.prototype.peek=function(t){var e=null;t=t||0;t+=this.__position;if(t>=0&&t<this.__input_length){e=this.__input.charAt(t)}return e};InputScanner.prototype.__match=function(t,s){t.lastIndex=s;var i=t.exec(this.__input);if(i&&!(e&&t.sticky)){if(i.index!==s){i=null}}return i};InputScanner.prototype.test=function(t,e){e=e||0;e+=this.__position;if(e>=0&&e<this.__input_length){return!!this.__match(t,e)}else{return false}};InputScanner.prototype.testChar=function(t,e){var s=this.peek(e);t.lastIndex=0;return s!==null&&t.test(s)};InputScanner.prototype.match=function(t){var e=this.__match(t,this.__position);if(e){this.__position+=e[0].length}else{e=null}return e};InputScanner.prototype.read=function(t,e,s){var i="";var r;if(t){r=this.match(t);if(r){i+=r[0]}}if(e&&(r||!t)){i+=this.readUntil(e,s)}return i};InputScanner.prototype.readUntil=function(t,e){var s="";var i=this.__position;t.lastIndex=this.__position;var r=t.exec(this.__input);if(r){i=r.index;if(e){i+=r[0].length}}else{i=this.__input_length}s=this.__input.substring(this.__position,i);this.__position=i;return s};InputScanner.prototype.readUntilAfter=function(t){return this.readUntil(t,true)};InputScanner.prototype.get_regexp=function(t,s){var i=null;var r="g";if(s&&e){r="y"}if(typeof t==="string"&&t!==""){i=new RegExp(t,r)}else if(t){i=new RegExp(t.source,r)}return i};InputScanner.prototype.get_literal_regexp=function(t){return RegExp(t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))};InputScanner.prototype.peekUntilAfter=function(t){var e=this.__position;var s=this.readUntilAfter(t);this.__position=e;return s};InputScanner.prototype.lookBack=function(t){var e=this.__position-1;return e>=t.length&&this.__input.substring(e-t.length,e).toLowerCase()===t};t.exports.g=InputScanner},1233:t=>{"use strict";var e;function Options(t,e){this.raw_options=_mergeOpts(t,e);this.disabled=this._get_boolean("disabled");this.eol=this._get_characters("eol","auto");this.end_with_newline=this._get_boolean("end_with_newline");this.indent_size=this._get_number("indent_size",4);this.indent_char=this._get_characters("indent_char"," ");this.indent_level=this._get_number("indent_level");this.preserve_newlines=this._get_boolean("preserve_newlines",true);this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786);if(!this.preserve_newlines){this.max_preserve_newlines=0}this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="\t");if(this.indent_with_tabs){this.indent_char="\t";if(this.indent_size===1){this.indent_size=4}}this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char"));this.indent_empty_lines=this._get_boolean("indent_empty_lines");this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}Options.prototype._get_array=function(t,e){var s=this.raw_options[t];var i=e||[];if(typeof s==="object"){if(s!==null&&typeof s.concat==="function"){i=s.concat()}}else if(typeof s==="string"){i=s.split(/[^a-zA-Z0-9_\/\-]+/)}return i};Options.prototype._get_boolean=function(t,e){var s=this.raw_options[t];var i=s===undefined?!!e:!!s;return i};Options.prototype._get_characters=function(t,e){var s=this.raw_options[t];var i=e||"";if(typeof s==="string"){i=s.replace(/\\r/,"\r").replace(/\\n/,"\n").replace(/\\t/,"\t")}return i};Options.prototype._get_number=function(t,e){var s=this.raw_options[t];e=parseInt(e,10);if(isNaN(e)){e=0}var i=parseInt(s,10);if(isNaN(i)){i=e}return i};Options.prototype._get_selection=function(t,e,s){var i=this._get_selection_list(t,e,s);if(i.length!==1){throw new Error("Invalid Option Value: The option '"+t+"' can only be one of the following values:\n"+e+"\nYou passed in: '"+this.raw_options[t]+"'")}return i[0]};Options.prototype._get_selection_list=function(t,e,s){if(!e||e.length===0){throw new Error("Selection list cannot be empty.")}s=s||[e[0]];if(!this._is_valid_selection(s,e)){throw new Error("Invalid Default Value!")}var i=this._get_array(t,s);if(!this._is_valid_selection(i,e)){throw new Error("Invalid Option Value: The option '"+t+"' can contain only the following values:\n"+e+"\nYou passed in: '"+this.raw_options[t]+"'")}return i};Options.prototype._is_valid_selection=function(t,e){return t.length&&e.length&&!t.some(function(t){return e.indexOf(t)===-1})};function _mergeOpts(t,e){var s={};t=_normalizeOpts(t);var i;for(i in t){if(i!==e){s[i]=t[i]}}if(e&&t[e]){for(i in t[e]){s[i]=t[e][i]}}return s}function _normalizeOpts(t){var e={};var s;for(s in t){var i=s.replace(/-/g,"_");e[i]=t[s]}return e}t.exports.Ei=Options;e=_normalizeOpts;e=_mergeOpts},3543:t=>{"use strict";function OutputLine(t){this.__parent=t;this.__character_count=0;this.__indent_count=-1;this.__alignment_count=0;this.__wrap_point_index=0;this.__wrap_point_character_count=0;this.__wrap_point_indent_count=-1;this.__wrap_point_alignment_count=0;this.__items=[]}OutputLine.prototype.clone_empty=function(){var t=new OutputLine(this.__parent);t.set_indent(this.__indent_count,this.__alignment_count);return t};OutputLine.prototype.item=function(t){if(t<0){return this.__items[this.__items.length+t]}else{return this.__items[t]}};OutputLine.prototype.has_match=function(t){for(var e=this.__items.length-1;e>=0;e--){if(this.__items[e].match(t)){return true}}return false};OutputLine.prototype.set_indent=function(t,e){if(this.is_empty()){this.__indent_count=t||0;this.__alignment_count=e||0;this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count)}};OutputLine.prototype._set_wrap_point=function(){if(this.__parent.wrap_line_length){this.__wrap_point_index=this.__items.length;this.__wrap_point_character_count=this.__character_count;this.__wrap_point_indent_count=this.__parent.next_line.__indent_count;this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count}};OutputLine.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count};OutputLine.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var t=this.__parent.current_line;t.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count);t.__items=this.__items.slice(this.__wrap_point_index);this.__items=this.__items.slice(0,this.__wrap_point_index);t.__character_count+=this.__character_count-this.__wrap_point_character_count;this.__character_count=this.__wrap_point_character_count;if(t.__items[0]===" "){t.__items.splice(0,1);t.__character_count-=1}return true}return false};OutputLine.prototype.is_empty=function(){return this.__items.length===0};OutputLine.prototype.last=function(){if(!this.is_empty()){return this.__items[this.__items.length-1]}else{return null}};OutputLine.prototype.push=function(t){this.__items.push(t);var e=t.lastIndexOf("\n");if(e!==-1){this.__character_count=t.length-e}else{this.__character_count+=t.length}};OutputLine.prototype.pop=function(){var t=null;if(!this.is_empty()){t=this.__items.pop();this.__character_count-=t.length}return t};OutputLine.prototype._remove_indent=function(){if(this.__indent_count>0){this.__indent_count-=1;this.__character_count-=this.__parent.indent_size}};OutputLine.prototype._remove_wrap_indent=function(){if(this.__wrap_point_indent_count>0){this.__wrap_point_indent_count-=1}};OutputLine.prototype.trim=function(){while(this.last()===" "){this.__items.pop();this.__character_count-=1}};OutputLine.prototype.toString=function(){var t="";if(this.is_empty()){if(this.__parent.indent_empty_lines){t=this.__parent.get_indent_string(this.__indent_count)}}else{t=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count);t+=this.__items.join("")}return t};function IndentStringCache(t,e){this.__cache=[""];this.__indent_size=t.indent_size;this.__indent_string=t.indent_char;if(!t.indent_with_tabs){this.__indent_string=new Array(t.indent_size+1).join(t.indent_char)}e=e||"";if(t.indent_level>0){e=new Array(t.indent_level+1).join(this.__indent_string)}this.__base_string=e;this.__base_string_length=e.length}IndentStringCache.prototype.get_indent_size=function(t,e){var s=this.__base_string_length;e=e||0;if(t<0){s=0}s+=t*this.__indent_size;s+=e;return s};IndentStringCache.prototype.get_indent_string=function(t,e){var s=this.__base_string;e=e||0;if(t<0){t=0;s=""}e+=t*this.__indent_size;this.__ensure_cache(e);s+=this.__cache[e];return s};IndentStringCache.prototype.__ensure_cache=function(t){while(t>=this.__cache.length){this.__add_column()}};IndentStringCache.prototype.__add_column=function(){var t=this.__cache.length;var e=0;var s="";if(this.__indent_size&&t>=this.__indent_size){e=Math.floor(t/this.__indent_size);t-=e*this.__indent_size;s=new Array(e+1).join(this.__indent_string)}if(t){s+=new Array(t+1).join(" ")}this.__cache.push(s)};function Output(t,e){this.__indent_cache=new IndentStringCache(t,e);this.raw=false;this._end_with_newline=t.end_with_newline;this.indent_size=t.indent_size;this.wrap_line_length=t.wrap_line_length;this.indent_empty_lines=t.indent_empty_lines;this.__lines=[];this.previous_line=null;this.current_line=null;this.next_line=new OutputLine(this);this.space_before_token=false;this.non_breaking_space=false;this.previous_token_wrapped=false;this.__add_outputline()}Output.prototype.__add_outputline=function(){this.previous_line=this.current_line;this.current_line=this.next_line.clone_empty();this.__lines.push(this.current_line)};Output.prototype.get_line_number=function(){return this.__lines.length};Output.prototype.get_indent_string=function(t,e){return this.__indent_cache.get_indent_string(t,e)};Output.prototype.get_indent_size=function(t,e){return this.__indent_cache.get_indent_size(t,e)};Output.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()};Output.prototype.add_new_line=function(t){if(this.is_empty()||!t&&this.just_added_newline()){return false}if(!this.raw){this.__add_outputline()}return true};Output.prototype.get_code=function(t){this.trim(true);var e=this.current_line.pop();if(e){if(e[e.length-1]==="\n"){e=e.replace(/\n+$/g,"")}this.current_line.push(e)}if(this._end_with_newline){this.__add_outputline()}var s=this.__lines.join("\n");if(t!=="\n"){s=s.replace(/[\n]/g,t)}return s};Output.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()};Output.prototype.set_indent=function(t,e){t=t||0;e=e||0;this.next_line.set_indent(t,e);if(this.__lines.length>1){this.current_line.set_indent(t,e);return true}this.current_line.set_indent();return false};Output.prototype.add_raw_token=function(t){for(var e=0;e<t.newlines;e++){this.__add_outputline()}this.current_line.set_indent(-1);this.current_line.push(t.whitespace_before);this.current_line.push(t.text);this.space_before_token=false;this.non_breaking_space=false;this.previous_token_wrapped=false};Output.prototype.add_token=function(t){this.__add_space_before_token();this.current_line.push(t);this.space_before_token=false;this.non_breaking_space=false;this.previous_token_wrapped=this.current_line._allow_wrap()};Output.prototype.__add_space_before_token=function(){if(this.space_before_token&&!this.just_added_newline()){if(!this.non_breaking_space){this.set_wrap_point()}this.current_line.push(" ")}};Output.prototype.remove_indent=function(t){var e=this.__lines.length;while(t<e){this.__lines[t]._remove_indent();t++}this.current_line._remove_wrap_indent()};Output.prototype.trim=function(t){t=t===undefined?false:t;this.current_line.trim();while(t&&this.__lines.length>1&&this.current_line.is_empty()){this.__lines.pop();this.current_line=this.__lines[this.__lines.length-1];this.current_line.trim()}this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null};Output.prototype.just_added_newline=function(){return this.current_line.is_empty()};Output.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()};Output.prototype.ensure_empty_line_above=function(t,e){var s=this.__lines.length-2;while(s>=0){var i=this.__lines[s];if(i.is_empty()){break}else if(i.item(0).indexOf(t)!==0&&i.item(-1)!==e){this.__lines.splice(s+1,0,new OutputLine(this));this.previous_line=this.__lines[this.__lines.length-2];break}s--}};t.exports.r=Output},3663:t=>{"use strict";function Pattern(t,e){this._input=t;this._starting_pattern=null;this._match_pattern=null;this._until_pattern=null;this._until_after=false;if(e){this._starting_pattern=this._input.get_regexp(e._starting_pattern,true);this._match_pattern=this._input.get_regexp(e._match_pattern,true);this._until_pattern=this._input.get_regexp(e._until_pattern);this._until_after=e._until_after}}Pattern.prototype.read=function(){var t=this._input.read(this._starting_pattern);if(!this._starting_pattern||t){t+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)}return t};Pattern.prototype.read_match=function(){return this._input.match(this._match_pattern)};Pattern.prototype.until_after=function(t){var e=this._create();e._until_after=true;e._until_pattern=this._input.get_regexp(t);e._update();return e};Pattern.prototype.until=function(t){var e=this._create();e._until_after=false;e._until_pattern=this._input.get_regexp(t);e._update();return e};Pattern.prototype.starting_with=function(t){var e=this._create();e._starting_pattern=this._input.get_regexp(t,true);e._update();return e};Pattern.prototype.matching=function(t){var e=this._create();e._match_pattern=this._input.get_regexp(t,true);e._update();return e};Pattern.prototype._create=function(){return new Pattern(this._input,this)};Pattern.prototype._update=function(){};t.exports.c=Pattern},3571:(t,e,s)=>{"use strict";var i=s(3663).c;var r={django:false,erb:false,handlebars:false,php:false,smarty:false};function TemplatablePattern(t,e){i.call(this,t,e);this.__template_pattern=null;this._disabled=Object.assign({},r);this._excluded=Object.assign({},r);if(e){this.__template_pattern=this._input.get_regexp(e.__template_pattern);this._excluded=Object.assign(this._excluded,e._excluded);this._disabled=Object.assign(this._disabled,e._disabled)}var s=new i(t);this.__patterns={handlebars_comment:s.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:s.starting_with(/{{{/).until_after(/}}}/),handlebars:s.starting_with(/{{/).until_after(/}}/),php:s.starting_with(/<\?(?:[=]|php)/).until_after(/\?>/),erb:s.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:s.starting_with(/{%/).until_after(/%}/),django_value:s.starting_with(/{{/).until_after(/}}/),django_comment:s.starting_with(/{#/).until_after(/#}/),smarty:s.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:s.starting_with(/{\*/).until_after(/\*}/),smarty_literal:s.starting_with(/{literal}/).until_after(/{\/literal}/)}}TemplatablePattern.prototype=new i;TemplatablePattern.prototype._create=function(){return new TemplatablePattern(this._input,this)};TemplatablePattern.prototype._update=function(){this.__set_templated_pattern()};TemplatablePattern.prototype.disable=function(t){var e=this._create();e._disabled[t]=true;e._update();return e};TemplatablePattern.prototype.read_options=function(t){var e=this._create();for(var s in r){e._disabled[s]=t.templating.indexOf(s)===-1}e._update();return e};TemplatablePattern.prototype.exclude=function(t){var e=this._create();e._excluded[t]=true;e._update();return e};TemplatablePattern.prototype.read=function(){var t="";if(this._match_pattern){t=this._input.read(this._starting_pattern)}else{t=this._input.read(this._starting_pattern,this.__template_pattern)}var e=this._read_template();while(e){if(this._match_pattern){e+=this._input.read(this._match_pattern)}else{e+=this._input.readUntil(this.__template_pattern)}t+=e;e=this._read_template()}if(this._until_after){t+=this._input.readUntilAfter(this._until_pattern)}return t};TemplatablePattern.prototype.__set_templated_pattern=function(){var t=[];if(!this._disabled.php){t.push(this.__patterns.php._starting_pattern.source)}if(!this._disabled.handlebars){t.push(this.__patterns.handlebars._starting_pattern.source)}if(!this._disabled.erb){t.push(this.__patterns.erb._starting_pattern.source)}if(!this._disabled.django){t.push(this.__patterns.django._starting_pattern.source);t.push(this.__patterns.django_value._starting_pattern.source);t.push(this.__patterns.django_comment._starting_pattern.source)}if(!this._disabled.smarty){t.push(this.__patterns.smarty._starting_pattern.source)}if(this._until_pattern){t.push(this._until_pattern.source)}this.__template_pattern=this._input.get_regexp("(?:"+t.join("|")+")")};TemplatablePattern.prototype._read_template=function(){var t="";var e=this._input.peek();if(e==="<"){var s=this._input.peek(1);if(!this._disabled.php&&!this._excluded.php&&s==="?"){t=t||this.__patterns.php.read()}if(!this._disabled.erb&&!this._excluded.erb&&s==="%"){t=t||this.__patterns.erb.read()}}else if(e==="{"){if(!this._disabled.handlebars&&!this._excluded.handlebars){t=t||this.__patterns.handlebars_comment.read();t=t||this.__patterns.handlebars_unescaped.read();t=t||this.__patterns.handlebars.read()}if(!this._disabled.django){if(!this._excluded.django&&!this._excluded.handlebars){t=t||this.__patterns.django_value.read()}if(!this._excluded.django){t=t||this.__patterns.django_comment.read();t=t||this.__patterns.django.read()}}if(!this._disabled.smarty){if(this._disabled.django&&this._disabled.handlebars){t=t||this.__patterns.smarty_comment.read();t=t||this.__patterns.smarty_literal.read();t=t||this.__patterns.smarty.read()}}}return t};t.exports.A=TemplatablePattern},6942:t=>{"use strict";function Token(t,e,s,i){this.type=t;this.text=e;this.comments_before=null;this.newlines=s||0;this.whitespace_before=i||"";this.parent=null;this.next=null;this.previous=null;this.opened=null;this.closed=null;this.directives=null}t.exports.W=Token},7218:(t,e,s)=>{"use strict";var i=s(4652).g;var r=s(6942).W;var n=s(6126).q;var a=s(9205).d;var o={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"};var u=function(t,e){this._input=new i(t);this._options=e||{};this.__tokens=null;this._patterns={};this._patterns.whitespace=new a(this._input)};u.prototype.tokenize=function(){this._input.restart();this.__tokens=new n;this._reset();var t;var e=new r(o.START,"");var s=null;var i=[];var a=new n;while(e.type!==o.EOF){t=this._get_next_token(e,s);while(this._is_comment(t)){a.add(t);t=this._get_next_token(e,s)}if(!a.isEmpty()){t.comments_before=a;a=new n}t.parent=s;if(this._is_opening(t)){i.push(s);s=t}else if(s&&this._is_closing(t,s)){t.opened=s;s.closed=t;s=i.pop();t.parent=s}t.previous=e;e.next=t;this.__tokens.add(t);e=t}return this.__tokens};u.prototype._is_first_token=function(){return this.__tokens.isEmpty()};u.prototype._reset=function(){};u.prototype._get_next_token=function(t,e){this._readWhitespace();var s=this._input.read(/.+/g);if(s){return this._create_token(o.RAW,s)}else{return this._create_token(o.EOF,"")}};u.prototype._is_comment=function(t){return false};u.prototype._is_opening=function(t){return false};u.prototype._is_closing=function(t,e){return false};u.prototype._create_token=function(t,e){var s=new r(t,e,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token);return s};u.prototype._readWhitespace=function(){return this._patterns.whitespace.read()};t.exports.d=u;t.exports.o=o},6126:t=>{"use strict";function TokenStream(t){this.__tokens=[];this.__tokens_length=this.__tokens.length;this.__position=0;this.__parent_token=t}TokenStream.prototype.restart=function(){this.__position=0};TokenStream.prototype.isEmpty=function(){return this.__tokens_length===0};TokenStream.prototype.hasNext=function(){return this.__position<this.__tokens_length};TokenStream.prototype.next=function(){var t=null;if(this.hasNext()){t=this.__tokens[this.__position];this.__position+=1}return t};TokenStream.prototype.peek=function(t){var e=null;t=t||0;t+=this.__position;if(t>=0&&t<this.__tokens_length){e=this.__tokens[t]}return e};TokenStream.prototype.add=function(t){if(this.__parent_token){t.parent=this.__parent_token}this.__tokens.push(t);this.__tokens_length+=1};t.exports.q=TokenStream},9205:(t,e,s)=>{"use strict";var i=s(3663).c;function WhitespacePattern(t,e){i.call(this,t,e);if(e){this._line_regexp=this._input.get_regexp(e._line_regexp)}else{this.__set_whitespace_patterns("","")}this.newline_count=0;this.whitespace_before_token=""}WhitespacePattern.prototype=new i;WhitespacePattern.prototype.__set_whitespace_patterns=function(t,e){t+="\\t ";e+="\\n\\r";this._match_pattern=this._input.get_regexp("["+t+e+"]+",true);this._newline_regexp=this._input.get_regexp("\\r\\n|["+e+"]")};WhitespacePattern.prototype.read=function(){this.newline_count=0;this.whitespace_before_token="";var t=this._input.read(this._match_pattern);if(t===" "){this.whitespace_before_token=" "}else if(t){var e=this.__split(this._newline_regexp,t);this.newline_count=e.length-1;this.whitespace_before_token=e[this.newline_count]}return t};WhitespacePattern.prototype.matching=function(t,e){var s=this._create();s.__set_whitespace_patterns(t,e);s._update();return s};WhitespacePattern.prototype._create=function(){return new WhitespacePattern(this._input,this)};WhitespacePattern.prototype.__split=function(t,e){t.lastIndex=0;var s=0;var i=[];var r=t.exec(e);while(r){i.push(e.substring(s,r.index));s=r.index+r[0].length;r=t.exec(e)}if(s<e.length){i.push(e.substring(s,e.length))}else{i.push("")}return i};t.exports.d=WhitespacePattern},6731:(t,e,s)=>{"use strict";var i=s(6554).E;var r=s(3543).r;var n=s(4652).g;var a=s(2525).t;var o=new a(/\/\*/,/\*\//);var u=/\r\n|[\r\n]/;var _=/\r\n|[\r\n]/g;var h=/\s/;var l=/(?:\s|\n)+/g;var f=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g;var c=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function Beautifier(t,e){this._source_text=t||"";this._options=new i(e);this._ch=null;this._input=null;this.NESTED_AT_RULE={"@page":true,"@font-face":true,"@keyframes":true,"@media":true,"@supports":true,"@document":true};this.CONDITIONAL_GROUP_RULE={"@media":true,"@supports":true,"@document":true}}Beautifier.prototype.eatString=function(t){var e="";this._ch=this._input.next();while(this._ch){e+=this._ch;if(this._ch==="\\"){e+=this._input.next()}else if(t.indexOf(this._ch)!==-1||this._ch==="\n"){break}this._ch=this._input.next()}return e};Beautifier.prototype.eatWhitespace=function(t){var e=h.test(this._input.peek());var s=0;while(h.test(this._input.peek())){this._ch=this._input.next();if(t&&this._ch==="\n"){if(s===0||s<this._options.max_preserve_newlines){s++;this._output.add_new_line(true)}}}return e};Beautifier.prototype.foundNestedPseudoClass=function(){var t=0;var e=1;var s=this._input.peek(e);while(s){if(s==="{"){return true}else if(s==="("){t+=1}else if(s===")"){if(t===0){return false}t-=1}else if(s===";"||s==="}"){return false}e++;s=this._input.peek(e)}return false};Beautifier.prototype.print_string=function(t){this._output.set_indent(this._indentLevel);this._output.non_breaking_space=true;this._output.add_token(t)};Beautifier.prototype.preserveSingleSpace=function(t){if(t){this._output.space_before_token=true}};Beautifier.prototype.indent=function(){this._indentLevel++};Beautifier.prototype.outdent=function(){if(this._indentLevel>0){this._indentLevel--}};Beautifier.prototype.beautify=function(){if(this._options.disabled){return this._source_text}var t=this._source_text;var e=this._options.eol;if(e==="auto"){e="\n";if(t&&u.test(t||"")){e=t.match(u)[0]}}t=t.replace(_,"\n");var s=t.match(/^[\t ]*/)[0];this._output=new r(this._options,s);this._input=new n(t);this._indentLevel=0;this._nestedLevel=0;this._ch=null;var i=0;var a=false;var p=false;var d=false;var m=false;var y=false;var g=this._ch;var b;var w;var v;while(true){b=this._input.read(l);w=b!=="";v=g;this._ch=this._input.next();if(this._ch==="\\"&&this._input.hasNext()){this._ch+=this._input.next()}g=this._ch;if(!this._ch){break}else if(this._ch==="/"&&this._input.peek()==="*"){this._output.add_new_line();this._input.back();var x=this._input.read(f);var E=o.get_directives(x);if(E&&E.ignore==="start"){x+=o.readIgnored(this._input)}this.print_string(x);this.eatWhitespace(true);this._output.add_new_line()}else if(this._ch==="/"&&this._input.peek()==="/"){this._output.space_before_token=true;this._input.back();this.print_string(this._input.read(c));this.eatWhitespace(true)}else if(this._ch==="@"){this.preserveSingleSpace(w);if(this._input.peek()==="{"){this.print_string(this._ch+this.eatString("}"))}else{this.print_string(this._ch);var k=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);if(k.match(/[ :]$/)){k=this.eatString(": ").replace(/\s$/,"");this.print_string(k);this._output.space_before_token=true}k=k.replace(/\s$/,"");if(k==="extend"){m=true}else if(k==="import"){y=true}if(k in this.NESTED_AT_RULE){this._nestedLevel+=1;if(k in this.CONDITIONAL_GROUP_RULE){d=true}}else if(!a&&i===0&&k.indexOf(":")!==-1){p=true;this.indent()}}}else if(this._ch==="#"&&this._input.peek()==="{"){this.preserveSingleSpace(w);this.print_string(this._ch+this.eatString("}"))}else if(this._ch==="{"){if(p){p=false;this.outdent()}if(d){d=false;a=this._indentLevel>=this._nestedLevel}else{a=this._indentLevel>=this._nestedLevel-1}if(this._options.newline_between_rules&&a){if(this._output.previous_line&&this._output.previous_line.item(-1)!=="{"){this._output.ensure_empty_line_above("/",",")}}this._output.space_before_token=true;if(this._options.brace_style==="expand"){this._output.add_new_line();this.print_string(this._ch);this.indent();this._output.set_indent(this._indentLevel)}else{this.indent();this.print_string(this._ch)}this.eatWhitespace(true);this._output.add_new_line()}else if(this._ch==="}"){this.outdent();this._output.add_new_line();if(v==="{"){this._output.trim(true)}y=false;m=false;if(p){this.outdent();p=false}this.print_string(this._ch);a=false;if(this._nestedLevel){this._nestedLevel--}this.eatWhitespace(true);this._output.add_new_line();if(this._options.newline_between_rules&&!this._output.just_added_blankline()){if(this._input.peek()!=="}"){this._output.add_new_line(true)}}}else if(this._ch===":"){if((a||d)&&!(this._input.lookBack("&")||this.foundNestedPseudoClass())&&!this._input.lookBack("(")&&!m&&i===0){this.print_string(":");if(!p){p=true;this._output.space_before_token=true;this.eatWhitespace(true);this.indent()}}else{if(this._input.lookBack(" ")){this._output.space_before_token=true}if(this._input.peek()===":"){this._ch=this._input.next();this.print_string("::")}else{this.print_string(":")}}}else if(this._ch==='"'||this._ch==="'"){this.preserveSingleSpace(w);this.print_string(this._ch+this.eatString(this._ch));this.eatWhitespace(true)}else if(this._ch===";"){if(i===0){if(p){this.outdent();p=false}m=false;y=false;this.print_string(this._ch);this.eatWhitespace(true);if(this._input.peek()!=="/"){this._output.add_new_line()}}else{this.print_string(this._ch);this.eatWhitespace(true);this._output.space_before_token=true}}else if(this._ch==="("){if(this._input.lookBack("url")){this.print_string(this._ch);this.eatWhitespace();i++;this.indent();this._ch=this._input.next();if(this._ch===")"||this._ch==='"'||this._ch==="'"){this._input.back()}else if(this._ch){this.print_string(this._ch+this.eatString(")"));if(i){i--;this.outdent()}}}else{this.preserveSingleSpace(w);this.print_string(this._ch);this.eatWhitespace();i++;this.indent()}}else if(this._ch===")"){if(i){i--;this.outdent()}this.print_string(this._ch)}else if(this._ch===","){this.print_string(this._ch);this.eatWhitespace(true);if(this._options.selector_separator_newline&&!p&&i===0&&!y){this._output.add_new_line()}else{this._output.space_before_token=true}}else if((this._ch===">"||this._ch==="+"||this._ch==="~")&&!p&&i===0){if(this._options.space_around_combinator){this._output.space_before_token=true;this.print_string(this._ch);this._output.space_before_token=true}else{this.print_string(this._ch);this.eatWhitespace();if(this._ch&&h.test(this._ch)){this._ch=""}}}else if(this._ch==="]"){this.print_string(this._ch)}else if(this._ch==="["){this.preserveSingleSpace(w);this.print_string(this._ch)}else if(this._ch==="="){this.eatWhitespace();this.print_string("=");if(h.test(this._ch)){this._ch=""}}else if(this._ch==="!"&&!this._input.lookBack("\\")){this.print_string(" ");this.print_string(this._ch)}else{this.preserveSingleSpace(w);this.print_string(this._ch)}}var S=this._output.get_code(e);return S};t.exports.K=Beautifier},7281:(t,e,s)=>{"use strict";var i=s(6731).K,r=s(6554).E;function css_beautify(t,e){var s=new i(t,e);return s.beautify()}t.exports=css_beautify;t.exports.defaultOptions=function(){return new r}},6554:(t,e,s)=>{"use strict";var i=s(1233).Ei;function Options(t){i.call(this,t,"css");this.selector_separator_newline=this._get_boolean("selector_separator_newline",true);this.newline_between_rules=this._get_boolean("newline_between_rules",true);var e=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||e;var s=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var r=0;r<s.length;r++){if(s[r]!=="expand"){this.brace_style="collapse"}else{this.brace_style=s[r]}}}Options.prototype=new i;t.exports.E=Options},7306:(t,e,s)=>{"use strict";var i=s(2321).E;var r=s(3543).r;var n=s(26).d;var a=s(26).o;var o=/\r\n|[\r\n]/;var u=/\r\n|[\r\n]/g;var _=function(t,e){this.indent_level=0;this.alignment_size=0;this.max_preserve_newlines=t.max_preserve_newlines;this.preserve_newlines=t.preserve_newlines;this._output=new r(t,e)};_.prototype.current_line_has_match=function(t){return this._output.current_line.has_match(t)};_.prototype.set_space_before_token=function(t,e){this._output.space_before_token=t;this._output.non_breaking_space=e};_.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size);this._output.set_wrap_point()};_.prototype.add_raw_token=function(t){this._output.add_raw_token(t)};_.prototype.print_preserved_newlines=function(t){var e=0;if(t.type!==a.TEXT&&t.previous.type!==a.TEXT){e=t.newlines?1:0}if(this.preserve_newlines){e=t.newlines<this.max_preserve_newlines+1?t.newlines:this.max_preserve_newlines+1}for(var s=0;s<e;s++){this.print_newline(s>0)}return e!==0};_.prototype.traverse_whitespace=function(t){if(t.whitespace_before||t.newlines){if(!this.print_preserved_newlines(t)){this._output.space_before_token=true}return true}return false};_.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped};_.prototype.print_newline=function(t){this._output.add_new_line(t)};_.prototype.print_token=function(t){if(t.text){this._output.set_indent(this.indent_level,this.alignment_size);this._output.add_token(t.text)}};_.prototype.indent=function(){this.indent_level++};_.prototype.get_full_indent=function(t){t=this.indent_level+(t||0);if(t<1){return""}return this._output.get_indent_string(t)};var h=function(t){var e=null;var s=t.next;while(s.type!==a.EOF&&t.closed!==s){if(s.type===a.ATTRIBUTE&&s.text==="type"){if(s.next&&s.next.type===a.EQUALS&&s.next.next&&s.next.next.type===a.VALUE){e=s.next.next.text}break}s=s.next}return e};var l=function(t,e){var s=null;var i=null;if(!e.closed){return null}if(t==="script"){s="text/javascript"}else if(t==="style"){s="text/css"}s=h(e)||s;if(s.search("text/css")>-1){i="css"}else if(s.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1){i="javascript"}else if(s.search(/(text|application|dojo)\/(x-)?(html)/)>-1){i="html"}else if(s.search(/test\/null/)>-1){i="null"}return i};function in_array(t,e){return e.indexOf(t)!==-1}function TagFrame(t,e,s){this.parent=t||null;this.tag=e?e.tag_name:"";this.indent_level=s||0;this.parser_token=e||null}function TagStack(t){this._printer=t;this._current_frame=null}TagStack.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null};TagStack.prototype.record_tag=function(t){var e=new TagFrame(this._current_frame,t,this._printer.indent_level);this._current_frame=e};TagStack.prototype._try_pop_frame=function(t){var e=null;if(t){e=t.parser_token;this._printer.indent_level=t.indent_level;this._current_frame=t.parent}return e};TagStack.prototype._get_frame=function(t,e){var s=this._current_frame;while(s){if(t.indexOf(s.tag)!==-1){break}else if(e&&e.indexOf(s.tag)!==-1){s=null;break}s=s.parent}return s};TagStack.prototype.try_pop=function(t,e){var s=this._get_frame([t],e);return this._try_pop_frame(s)};TagStack.prototype.indent_to_tag=function(t){var e=this._get_frame(t);if(e){this._printer.indent_level=e.indent_level}};function Beautifier(t,e,s,r){this._source_text=t||"";e=e||{};this._js_beautify=s;this._css_beautify=r;this._tag_stack=null;var n=new i(e,"html");this._options=n;this._is_wrap_attributes_force=this._options.wrap_attributes.substr(0,"force".length)==="force";this._is_wrap_attributes_force_expand_multiline=this._options.wrap_attributes==="force-expand-multiline";this._is_wrap_attributes_force_aligned=this._options.wrap_attributes==="force-aligned";this._is_wrap_attributes_aligned_multiple=this._options.wrap_attributes==="aligned-multiple";this._is_wrap_attributes_preserve=this._options.wrap_attributes.substr(0,"preserve".length)==="preserve";this._is_wrap_attributes_preserve_aligned=this._options.wrap_attributes==="preserve-aligned"}Beautifier.prototype.beautify=function(){if(this._options.disabled){return this._source_text}var t=this._source_text;var e=this._options.eol;if(this._options.eol==="auto"){e="\n";if(t&&o.test(t)){e=t.match(o)[0]}}t=t.replace(u,"\n");var s=t.match(/^[\t ]*/)[0];var i={text:"",type:""};var r=new f;var h=new _(this._options,s);var l=new n(t,this._options).tokenize();this._tag_stack=new TagStack(h);var c=null;var p=l.next();while(p.type!==a.EOF){if(p.type===a.TAG_OPEN||p.type===a.COMMENT){c=this._handle_tag_open(h,p,r,i);r=c}else if(p.type===a.ATTRIBUTE||p.type===a.EQUALS||p.type===a.VALUE||p.type===a.TEXT&&!r.tag_complete){c=this._handle_inside_tag(h,p,r,l)}else if(p.type===a.TAG_CLOSE){c=this._handle_tag_close(h,p,r)}else if(p.type===a.TEXT){c=this._handle_text(h,p,r)}else{h.add_raw_token(p)}i=c;p=l.next()}var d=h._output.get_code(e);return d};Beautifier.prototype._handle_tag_close=function(t,e,s){var i={text:e.text,type:e.type};t.alignment_size=0;s.tag_complete=true;t.set_space_before_token(e.newlines||e.whitespace_before!=="",true);if(s.is_unformatted){t.add_raw_token(e)}else{if(s.tag_start_char==="<"){t.set_space_before_token(e.text[0]==="/",true);if(this._is_wrap_attributes_force_expand_multiline&&s.has_wrapped_attrs){t.print_newline(false)}}t.print_token(e)}if(s.indent_content&&!(s.is_unformatted||s.is_content_unformatted)){t.indent();s.indent_content=false}if(!s.is_inline_element&&!(s.is_unformatted||s.is_content_unformatted)){t.set_wrap_point()}return i};Beautifier.prototype._handle_inside_tag=function(t,e,s,i){var r=s.has_wrapped_attrs;var n={text:e.text,type:e.type};t.set_space_before_token(e.newlines||e.whitespace_before!=="",true);if(s.is_unformatted){t.add_raw_token(e)}else if(s.tag_start_char==="{"&&e.type===a.TEXT){if(t.print_preserved_newlines(e)){e.newlines=0;t.add_raw_token(e)}else{t.print_token(e)}}else{if(e.type===a.ATTRIBUTE){t.set_space_before_token(true);s.attr_count+=1}else if(e.type===a.EQUALS){t.set_space_before_token(false)}else if(e.type===a.VALUE&&e.previous.type===a.EQUALS){t.set_space_before_token(false)}if(e.type===a.ATTRIBUTE&&s.tag_start_char==="<"){if(this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned){t.traverse_whitespace(e);r=r||e.newlines!==0}if(this._is_wrap_attributes_force){var o=s.attr_count>1;if(this._is_wrap_attributes_force_expand_multiline&&s.attr_count===1){var u=true;var _=0;var h;do{h=i.peek(_);if(h.type===a.ATTRIBUTE){u=false;break}_+=1}while(_<4&&h.type!==a.EOF&&h.type!==a.TAG_CLOSE);o=!u}if(o){t.print_newline(false);r=true}}}t.print_token(e);r=r||t.previous_token_wrapped();s.has_wrapped_attrs=r}return n};Beautifier.prototype._handle_text=function(t,e,s){var i={text:e.text,type:"TK_CONTENT"};if(s.custom_beautifier_name){this._print_custom_beatifier_text(t,e,s)}else if(s.is_unformatted||s.is_content_unformatted){t.add_raw_token(e)}else{t.traverse_whitespace(e);t.print_token(e)}return i};Beautifier.prototype._print_custom_beatifier_text=function(t,e,s){var i=this;if(e.text!==""){var r=e.text,n,a=1,o="",u="";if(s.custom_beautifier_name==="javascript"&&typeof this._js_beautify==="function"){n=this._js_beautify}else if(s.custom_beautifier_name==="css"&&typeof this._css_beautify==="function"){n=this._css_beautify}else if(s.custom_beautifier_name==="html"){n=function(t,e){var s=new Beautifier(t,e,i._js_beautify,i._css_beautify);return s.beautify()}}if(this._options.indent_scripts==="keep"){a=0}else if(this._options.indent_scripts==="separate"){a=-t.indent_level}var _=t.get_full_indent(a);r=r.replace(/\n[ \t]*$/,"");if(s.custom_beautifier_name!=="html"&&r[0]==="<"&&r.match(/^(<!--|<!\[CDATA\[)/)){var h=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(r);if(!h){t.add_raw_token(e);return}o=_+h[1]+"\n";r=h[4];if(h[5]){u=_+h[5]}r=r.replace(/\n[ \t]*$/,"");if(h[2]||h[3].indexOf("\n")!==-1){h=h[3].match(/[ \t]+$/);if(h){e.whitespace_before=h[0]}}}if(r){if(n){var l=function(){this.eol="\n"};l.prototype=this._options.raw_options;var f=new l;r=n(_+r,f)}else{var c=e.whitespace_before;if(c){r=r.replace(new RegExp("\n("+c+")?","g"),"\n")}r=_+r.replace(/\n/g,"\n"+_)}}if(o){if(!r){r=o+u}else{r=o+r+"\n"+u}}t.print_newline(false);if(r){e.text=r;e.whitespace_before="";e.newlines=0;t.add_raw_token(e);t.print_newline(true)}}};Beautifier.prototype._handle_tag_open=function(t,e,s,i){var r=this._get_tag_open_token(e);if((s.is_unformatted||s.is_content_unformatted)&&!s.is_empty_element&&e.type===a.TAG_OPEN&&e.text.indexOf("</")===0){t.add_raw_token(e);r.start_tag_token=this._tag_stack.try_pop(r.tag_name)}else{t.traverse_whitespace(e);this._set_tag_position(t,e,r,s,i);if(!r.is_inline_element){t.set_wrap_point()}t.print_token(e)}if(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned){r.alignment_size=e.text.length+1}if(!r.tag_complete&&!r.is_unformatted){t.alignment_size=r.alignment_size}return r};var f=function(t,e){this.parent=t||null;this.text="";this.type="TK_TAG_OPEN";this.tag_name="";this.is_inline_element=false;this.is_unformatted=false;this.is_content_unformatted=false;this.is_empty_element=false;this.is_start_tag=false;this.is_end_tag=false;this.indent_content=false;this.multiline_content=false;this.custom_beautifier_name=null;this.start_tag_token=null;this.attr_count=0;this.has_wrapped_attrs=false;this.alignment_size=0;this.tag_complete=false;this.tag_start_char="";this.tag_check="";if(!e){this.tag_complete=true}else{var s;this.tag_start_char=e.text[0];this.text=e.text;if(this.tag_start_char==="<"){s=e.text.match(/^<([^\s>]*)/);this.tag_check=s?s[1]:""}else{s=e.text.match(/^{{(?:[\^]|#\*?)?([^\s}]+)/);this.tag_check=s?s[1]:"";if(e.text==="{{#>"&&this.tag_check===">"&&e.next!==null){this.tag_check=e.next.text}}this.tag_check=this.tag_check.toLowerCase();if(e.type===a.COMMENT){this.tag_complete=true}this.is_start_tag=this.tag_check.charAt(0)!=="/";this.tag_name=!this.is_start_tag?this.tag_check.substr(1):this.tag_check;this.is_end_tag=!this.is_start_tag||e.closed&&e.closed.text==="/>";this.is_end_tag=this.is_end_tag||this.tag_start_char==="{"&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(2)))}};Beautifier.prototype._get_tag_open_token=function(t){var e=new f(this._tag_stack.get_parser_token(),t);e.alignment_size=this._options.wrap_attributes_indent_size;e.is_end_tag=e.is_end_tag||in_array(e.tag_check,this._options.void_elements);e.is_empty_element=e.tag_complete||e.is_start_tag&&e.is_end_tag;e.is_unformatted=!e.tag_complete&&in_array(e.tag_check,this._options.unformatted);e.is_content_unformatted=!e.is_empty_element&&in_array(e.tag_check,this._options.content_unformatted);e.is_inline_element=in_array(e.tag_name,this._options.inline)||e.tag_start_char==="{";return e};Beautifier.prototype._set_tag_position=function(t,e,s,i,r){if(!s.is_empty_element){if(s.is_end_tag){s.start_tag_token=this._tag_stack.try_pop(s.tag_name)}else{if(this._do_optional_end_element(s)){if(!s.is_inline_element){t.print_newline(false)}}this._tag_stack.record_tag(s);if((s.tag_name==="script"||s.tag_name==="style")&&!(s.is_unformatted||s.is_content_unformatted)){s.custom_beautifier_name=l(s.tag_check,e)}}}if(in_array(s.tag_check,this._options.extra_liners)){t.print_newline(false);if(!t._output.just_added_blankline()){t.print_newline(true)}}if(s.is_empty_element){if(s.tag_start_char==="{"&&s.tag_check==="else"){this._tag_stack.indent_to_tag(["if","unless","each"]);s.indent_content=true;var n=t.current_line_has_match(/{{#if/);if(!n){t.print_newline(false)}}if(s.tag_name==="!--"&&r.type===a.TAG_CLOSE&&i.is_end_tag&&s.text.indexOf("\n")===-1){}else{if(!(s.is_inline_element||s.is_unformatted)){t.print_newline(false)}this._calcluate_parent_multiline(t,s)}}else if(s.is_end_tag){var o=false;o=s.start_tag_token&&s.start_tag_token.multiline_content;o=o||!s.is_inline_element&&!(i.is_inline_element||i.is_unformatted)&&!(r.type===a.TAG_CLOSE&&s.start_tag_token===i)&&r.type!=="TK_CONTENT";if(s.is_content_unformatted||s.is_unformatted){o=false}if(o){t.print_newline(false)}}else{s.indent_content=!s.custom_beautifier_name;if(s.tag_start_char==="<"){if(s.tag_name==="html"){s.indent_content=this._options.indent_inner_html}else if(s.tag_name==="head"){s.indent_content=this._options.indent_head_inner_html}else if(s.tag_name==="body"){s.indent_content=this._options.indent_body_inner_html}}if(!(s.is_inline_element||s.is_unformatted)&&(r.type!=="TK_CONTENT"||s.is_content_unformatted)){t.print_newline(false)}this._calcluate_parent_multiline(t,s)}};Beautifier.prototype._calcluate_parent_multiline=function(t,e){if(e.parent&&t._output.just_added_newline()&&!((e.is_inline_element||e.is_unformatted)&&e.parent.is_inline_element)){e.parent.multiline_content=true}};var c=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","nav","ol","p","pre","section","table","ul"];var p=["a","audio","del","ins","map","noscript","video"];Beautifier.prototype._do_optional_end_element=function(t){var e=null;if(t.is_empty_element||!t.is_start_tag||!t.parent){return}if(t.tag_name==="body"){e=e||this._tag_stack.try_pop("head")}else if(t.tag_name==="li"){e=e||this._tag_stack.try_pop("li",["ol","ul"])}else if(t.tag_name==="dd"||t.tag_name==="dt"){e=e||this._tag_stack.try_pop("dt",["dl"]);e=e||this._tag_stack.try_pop("dd",["dl"])}else if(t.parent.tag_name==="p"&&c.indexOf(t.tag_name)!==-1){var s=t.parent.parent;if(!s||p.indexOf(s.tag_name)===-1){e=e||this._tag_stack.try_pop("p")}}else if(t.tag_name==="rp"||t.tag_name==="rt"){e=e||this._tag_stack.try_pop("rt",["ruby","rtc"]);e=e||this._tag_stack.try_pop("rp",["ruby","rtc"])}else if(t.tag_name==="optgroup"){e=e||this._tag_stack.try_pop("optgroup",["select"])}else if(t.tag_name==="option"){e=e||this._tag_stack.try_pop("option",["select","datalist","optgroup"])}else if(t.tag_name==="colgroup"){e=e||this._tag_stack.try_pop("caption",["table"])}else if(t.tag_name==="thead"){e=e||this._tag_stack.try_pop("caption",["table"]);e=e||this._tag_stack.try_pop("colgroup",["table"])}else if(t.tag_name==="tbody"||t.tag_name==="tfoot"){e=e||this._tag_stack.try_pop("caption",["table"]);e=e||this._tag_stack.try_pop("colgroup",["table"]);e=e||this._tag_stack.try_pop("thead",["table"]);e=e||this._tag_stack.try_pop("tbody",["table"])}else if(t.tag_name==="tr"){e=e||this._tag_stack.try_pop("caption",["table"]);e=e||this._tag_stack.try_pop("colgroup",["table"]);e=e||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"])}else if(t.tag_name==="th"||t.tag_name==="td"){e=e||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]);e=e||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"])}t.parent=this._tag_stack.get_parser_token();return e};t.exports.K=Beautifier},2575:(t,e,s)=>{"use strict";var i=s(7306).K,r=s(2321).E;function style_html(t,e,s,r){var n=new i(t,e,s,r);return n.beautify()}t.exports=style_html;t.exports.defaultOptions=function(){return new r}},2321:(t,e,s)=>{"use strict";var i=s(1233).Ei;function Options(t){i.call(this,t,"html");if(this.templating.length===1&&this.templating[0]==="auto"){this.templating=["django","erb","handlebars","php"]}this.indent_inner_html=this._get_boolean("indent_inner_html");this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",true);this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",true);this.indent_handlebars=this._get_boolean("indent_handlebars",true);this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]);this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size);this.extra_liners=this._get_array("extra_liners",["head","body","/html"]);this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]);this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]);this.unformatted=this._get_array("unformatted",[]);this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]);this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter");this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}Options.prototype=new i;t.exports.E=Options},26:(t,e,s)=>{"use strict";var i=s(7218).d;var r=s(7218).o;var n=s(2525).t;var a=s(3571).A;var o=s(3663).c;var u={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:r.START,RAW:r.RAW,EOF:r.EOF};var _=new n(/<\!--/,/-->/);var h=function(t,e){i.call(this,t,e);this._current_tag_name="";var s=new a(this._input).read_options(this._options);var r=new o(this._input);this.__patterns={word:s.until(/[\n\r\t <]/),single_quote:s.until_after(/'/),double_quote:s.until_after(/"/),attribute:s.until(/[\n\r\t =>]|\/>/),element_name:s.until(/[\n\r\t >\/]/),handlebars_comment:r.starting_with(/{{!--/).until_after(/--}}/),handlebars:r.starting_with(/{{/).until_after(/}}/),handlebars_open:r.until(/[\n\r\t }]/),handlebars_raw_close:r.until(/}}/),comment:r.starting_with(/<!--/).until_after(/-->/),cdata:r.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:r.starting_with(/<!\[/).until_after(/]>/),processing:r.starting_with(/<\?/).until_after(/\?>/)};if(this._options.indent_handlebars){this.__patterns.word=this.__patterns.word.exclude("handlebars")}this._unformatted_content_delimiter=null;if(this._options.unformatted_content_delimiter){var n=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=r.matching(n).until_after(n)}};h.prototype=new i;h.prototype._is_comment=function(t){return false};h.prototype._is_opening=function(t){return t.type===u.TAG_OPEN};h.prototype._is_closing=function(t,e){return t.type===u.TAG_CLOSE&&(e&&((t.text===">"||t.text==="/>")&&e.text[0]==="<"||t.text==="}}"&&e.text[0]==="{"&&e.text[1]==="{"))};h.prototype._reset=function(){this._current_tag_name=""};h.prototype._get_next_token=function(t,e){var s=null;this._readWhitespace();var i=this._input.peek();if(i===null){return this._create_token(u.EOF,"")}s=s||this._read_open_handlebars(i,e);s=s||this._read_attribute(i,t,e);s=s||this._read_close(i,e);s=s||this._read_raw_content(i,t,e);s=s||this._read_content_word(i);s=s||this._read_comment_or_cdata(i);s=s||this._read_processing(i);s=s||this._read_open(i,e);s=s||this._create_token(u.UNKNOWN,this._input.next());return s};h.prototype._read_comment_or_cdata=function(t){var e=null;var s=null;var i=null;if(t==="<"){var r=this._input.peek(1);if(r==="!"){s=this.__patterns.comment.read();if(s){i=_.get_directives(s);if(i&&i.ignore==="start"){s+=_.readIgnored(this._input)}}else{s=this.__patterns.cdata.read()}}if(s){e=this._create_token(u.COMMENT,s);e.directives=i}}return e};h.prototype._read_processing=function(t){var e=null;var s=null;var i=null;if(t==="<"){var r=this._input.peek(1);if(r==="!"||r==="?"){s=this.__patterns.conditional_comment.read();s=s||this.__patterns.processing.read()}if(s){e=this._create_token(u.COMMENT,s);e.directives=i}}return e};h.prototype._read_open=function(t,e){var s=null;var i=null;if(!e){if(t==="<"){s=this._input.next();if(this._input.peek()==="/"){s+=this._input.next()}s+=this.__patterns.element_name.read();i=this._create_token(u.TAG_OPEN,s)}}return i};h.prototype._read_open_handlebars=function(t,e){var s=null;var i=null;if(!e){if(this._options.indent_handlebars&&t==="{"&&this._input.peek(1)==="{"){if(this._input.peek(2)==="!"){s=this.__patterns.handlebars_comment.read();s=s||this.__patterns.handlebars.read();i=this._create_token(u.COMMENT,s)}else{s=this.__patterns.handlebars_open.read();i=this._create_token(u.TAG_OPEN,s)}}}return i};h.prototype._read_close=function(t,e){var s=null;var i=null;if(e){if(e.text[0]==="<"&&(t===">"||t==="/"&&this._input.peek(1)===">")){s=this._input.next();if(t==="/"){s+=this._input.next()}i=this._create_token(u.TAG_CLOSE,s)}else if(e.text[0]==="{"&&t==="}"&&this._input.peek(1)==="}"){this._input.next();this._input.next();i=this._create_token(u.TAG_CLOSE,"}}")}}return i};h.prototype._read_attribute=function(t,e,s){var i=null;var r="";if(s&&s.text[0]==="<"){if(t==="="){i=this._create_token(u.EQUALS,this._input.next())}else if(t==='"'||t==="'"){var n=this._input.next();if(t==='"'){n+=this.__patterns.double_quote.read()}else{n+=this.__patterns.single_quote.read()}i=this._create_token(u.VALUE,n)}else{r=this.__patterns.attribute.read();if(r){if(e.type===u.EQUALS){i=this._create_token(u.VALUE,r)}else{i=this._create_token(u.ATTRIBUTE,r)}}}}return i};h.prototype._is_content_unformatted=function(t){return this._options.void_elements.indexOf(t)===-1&&(this._options.content_unformatted.indexOf(t)!==-1||this._options.unformatted.indexOf(t)!==-1)};h.prototype._read_raw_content=function(t,e,s){var i="";if(s&&s.text[0]==="{"){i=this.__patterns.handlebars_raw_close.read()}else if(e.type===u.TAG_CLOSE&&e.opened.text[0]==="<"&&e.text[0]!=="/"){var r=e.opened.text.substr(1).toLowerCase();if(r==="script"||r==="style"){var n=this._read_comment_or_cdata(t);if(n){n.type=u.TEXT;return n}i=this._input.readUntil(new RegExp("</"+r+"[\\n\\r\\t ]*?>","ig"))}else if(this._is_content_unformatted(r)){i=this._input.readUntil(new RegExp("</"+r+"[\\n\\r\\t ]*?>","ig"))}}if(i){return this._create_token(u.TEXT,i)}return null};h.prototype._read_content_word=function(t){var e="";if(this._options.unformatted_content_delimiter){if(t===this._options.unformatted_content_delimiter[0]){e=this.__patterns.unformatted_content_delimiter.read()}}if(!e){e=this.__patterns.word.read()}if(e){return this._create_token(u.TEXT,e)}};t.exports.d=h;t.exports.o=u},6078:(t,e,s)=>{"use strict";var i=s(1335);var r=s(7281);var n=s(2575);function style_html(t,e,s,a){s=s||i;a=a||r;return n(t,e,s,a)}style_html.defaultOptions=n.defaultOptions;t.exports.js=i;t.exports.css=r;t.exports.html=style_html},9467:(t,e)=>{"use strict";var s="\\x23\\x24\\x40\\x41-\\x5a\\x5f\\x61-\\x7a";var i="\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a";var r="\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc";var n="\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f";var a="(?:\\\\u[0-9a-fA-F]{4}|["+s+r+"])";var o="(?:\\\\u[0-9a-fA-F]{4}|["+i+r+n+"])*";e.identifier=new RegExp(a+o,"g");e.identifierStart=new RegExp(a);e.identifierMatch=new RegExp("(?:\\\\u[0-9a-fA-F]{4}|["+i+r+n+"])+");var u=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/;e.newline=/[\n\r\u2028\u2029]/;e.lineBreak=new RegExp("\r\n|"+e.newline.source);e.allLineBreaks=new RegExp(e.lineBreak.source,"g")},4703:(t,e,s)=>{"use strict";var i=s(3543).r;var r=s(6942).W;var n=s(9467);var a=s(5118).E;var o=s(1267).d2;var u=s(1267).O9;var _=s(1267).L2;var h=s(1267).o3;function in_array(t,e){return e.indexOf(t)!==-1}function ltrim(t){return t.replace(/^\s+/g,"")}function generateMapFromStrings(t){var e={};for(var s=0;s<t.length;s++){e[t[s].replace(/-/g,"_")]=t[s]}return e}function reserved_word(t,e){return t&&t.type===h.RESERVED&&t.text===e}function reserved_array(t,e){return t&&t.type===h.RESERVED&&in_array(t.text,e)}var l=["case","return","do","if","throw","else","await","break","continue","async"];var f=["before-newline","after-newline","preserve-newline"];var c=generateMapFromStrings(f);var p=[c.before_newline,c.preserve_newline];var d={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};function remove_redundant_indentation(t,e){if(e.multiline_frame||e.mode===d.ForInitializer||e.mode===d.Conditional){return}t.remove_indent(e.start_line_index)}function split_linebreaks(t){t=t.replace(n.allLineBreaks,"\n");var e=[],s=t.indexOf("\n");while(s!==-1){e.push(t.substring(0,s));t=t.substring(s+1);s=t.indexOf("\n")}if(t.length){e.push(t)}return e}function is_array(t){return t===d.ArrayLiteral}function is_expression(t){return in_array(t,[d.Expression,d.ForInitializer,d.Conditional])}function all_lines_start_with(t,e){for(var s=0;s<t.length;s++){var i=t[s].trim();if(i.charAt(0)!==e){return false}}return true}function each_line_matches_indent(t,e){var s=0,i=t.length,r;for(;s<i;s++){r=t[s];if(r&&r.indexOf(e)!==0){return false}}return true}function Beautifier(t,e){e=e||{};this._source_text=t||"";this._output=null;this._tokens=null;this._last_last_text=null;this._flags=null;this._previous_flags=null;this._flag_store=null;this._options=new a(e)}Beautifier.prototype.create_flags=function(t,e){var s=0;if(t){s=t.indentation_level;if(!this._output.just_added_newline()&&t.line_indent_level>s){s=t.line_indent_level}}var i={mode:e,parent:t,last_token:t?t.last_token:new r(h.START_BLOCK,""),last_word:t?t.last_word:"",declaration_statement:false,declaration_assignment:false,multiline_frame:false,inline_frame:false,if_block:false,else_block:false,do_block:false,do_while:false,import_block:false,in_case_statement:false,in_case:false,case_body:false,indentation_level:s,alignment:0,line_indent_level:t?t.line_indent_level:s,start_line_index:this._output.get_line_number(),ternary_depth:0};return i};Beautifier.prototype._reset=function(t){var e=t.match(/^[\t ]*/)[0];this._last_last_text="";this._output=new i(this._options,e);this._output.raw=this._options.test_output_raw;this._flag_store=[];this.set_mode(d.BlockStatement);var s=new o(t,this._options);this._tokens=s.tokenize();return t};Beautifier.prototype.beautify=function(){if(this._options.disabled){return this._source_text}var t;var e=this._reset(this._source_text);var s=this._options.eol;if(this._options.eol==="auto"){s="\n";if(e&&n.lineBreak.test(e||"")){s=e.match(n.lineBreak)[0]}}var i=this._tokens.next();while(i){this.handle_token(i);this._last_last_text=this._flags.last_token.text;this._flags.last_token=i;i=this._tokens.next()}t=this._output.get_code(s);return t};Beautifier.prototype.handle_token=function(t,e){if(t.type===h.START_EXPR){this.handle_start_expr(t)}else if(t.type===h.END_EXPR){this.handle_end_expr(t)}else if(t.type===h.START_BLOCK){this.handle_start_block(t)}else if(t.type===h.END_BLOCK){this.handle_end_block(t)}else if(t.type===h.WORD){this.handle_word(t)}else if(t.type===h.RESERVED){this.handle_word(t)}else if(t.type===h.SEMICOLON){this.handle_semicolon(t)}else if(t.type===h.STRING){this.handle_string(t)}else if(t.type===h.EQUALS){this.handle_equals(t)}else if(t.type===h.OPERATOR){this.handle_operator(t)}else if(t.type===h.COMMA){this.handle_comma(t)}else if(t.type===h.BLOCK_COMMENT){this.handle_block_comment(t,e)}else if(t.type===h.COMMENT){this.handle_comment(t,e)}else if(t.type===h.DOT){this.handle_dot(t)}else if(t.type===h.EOF){this.handle_eof(t)}else if(t.type===h.UNKNOWN){this.handle_unknown(t,e)}else{this.handle_unknown(t,e)}};Beautifier.prototype.handle_whitespace_and_comments=function(t,e){var s=t.newlines;var i=this._options.keep_array_indentation&&is_array(this._flags.mode);if(t.comments_before){var r=t.comments_before.next();while(r){this.handle_whitespace_and_comments(r,e);this.handle_token(r,e);r=t.comments_before.next()}}if(i){for(var n=0;n<s;n+=1){this.print_newline(n>0,e)}}else{if(this._options.max_preserve_newlines&&s>this._options.max_preserve_newlines){s=this._options.max_preserve_newlines}if(this._options.preserve_newlines){if(s>1){this.print_newline(false,e);for(var a=1;a<s;a+=1){this.print_newline(true,e)}}}}};var m=["async","break","continue","return","throw","yield"];Beautifier.prototype.allow_wrap_or_preserved_newline=function(t,e){e=e===undefined?false:e;if(this._output.just_added_newline()){return}var s=this._options.preserve_newlines&&t.newlines||e;var i=in_array(this._flags.last_token.text,_)||in_array(t.text,_);if(i){var r=in_array(this._flags.last_token.text,_)&&in_array(this._options.operator_position,p)||in_array(t.text,_);s=s&&r}if(s){this.print_newline(false,true)}else if(this._options.wrap_line_length){if(reserved_array(this._flags.last_token,m)){return}this._output.set_wrap_point()}};Beautifier.prototype.print_newline=function(t,e){if(!e){if(this._flags.last_token.text!==";"&&this._flags.last_token.text!==","&&this._flags.last_token.text!=="="&&(this._flags.last_token.type!==h.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++")){var s=this._tokens.peek();while(this._flags.mode===d.Statement&&!(this._flags.if_block&&reserved_word(s,"else"))&&!this._flags.do_block){this.restore_mode()}}}if(this._output.add_new_line(t)){this._flags.multiline_frame=true}};Beautifier.prototype.print_token_line_indentation=function(t){if(this._output.just_added_newline()){if(this._options.keep_array_indentation&&t.newlines&&(t.text==="["||is_array(this._flags.mode))){this._output.current_line.set_indent(-1);this._output.current_line.push(t.whitespace_before);this._output.space_before_token=false}else if(this._output.set_indent(this._flags.indentation_level,this._flags.alignment)){this._flags.line_indent_level=this._flags.indentation_level}}};Beautifier.prototype.print_token=function(t){if(this._output.raw){this._output.add_raw_token(t);return}if(this._options.comma_first&&t.previous&&t.previous.type===h.COMMA&&this._output.just_added_newline()){if(this._output.previous_line.last()===","){var e=this._output.previous_line.pop();if(this._output.previous_line.is_empty()){this._output.previous_line.push(e);this._output.trim(true);this._output.current_line.pop();this._output.trim()}this.print_token_line_indentation(t);this._output.add_token(",");this._output.space_before_token=true}}this.print_token_line_indentation(t);this._output.non_breaking_space=true;this._output.add_token(t.text);if(this._output.previous_token_wrapped){this._flags.multiline_frame=true}};Beautifier.prototype.indent=function(){this._flags.indentation_level+=1;this._output.set_indent(this._flags.indentation_level,this._flags.alignment)};Beautifier.prototype.deindent=function(){if(this._flags.indentation_level>0&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)){this._flags.indentation_level-=1;this._output.set_indent(this._flags.indentation_level,this._flags.alignment)}};Beautifier.prototype.set_mode=function(t){if(this._flags){this._flag_store.push(this._flags);this._previous_flags=this._flags}else{this._previous_flags=this.create_flags(null,t)}this._flags=this.create_flags(this._previous_flags,t);this._output.set_indent(this._flags.indentation_level,this._flags.alignment)};Beautifier.prototype.restore_mode=function(){if(this._flag_store.length>0){this._previous_flags=this._flags;this._flags=this._flag_store.pop();if(this._previous_flags.mode===d.Statement){remove_redundant_indentation(this._output,this._previous_flags)}this._output.set_indent(this._flags.indentation_level,this._flags.alignment)}};Beautifier.prototype.start_of_object_property=function(){return this._flags.parent.mode===d.ObjectLiteral&&this._flags.mode===d.Statement&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||reserved_array(this._flags.last_token,["get","set"]))};Beautifier.prototype.start_of_statement=function(t){var e=false;e=e||reserved_array(this._flags.last_token,["var","let","const"])&&t.type===h.WORD;e=e||reserved_word(this._flags.last_token,"do");e=e||!(this._flags.parent.mode===d.ObjectLiteral&&this._flags.mode===d.Statement)&&reserved_array(this._flags.last_token,m)&&!t.newlines;e=e||reserved_word(this._flags.last_token,"else")&&!(reserved_word(t,"if")&&!t.comments_before);e=e||this._flags.last_token.type===h.END_EXPR&&(this._previous_flags.mode===d.ForInitializer||this._previous_flags.mode===d.Conditional);e=e||this._flags.last_token.type===h.WORD&&this._flags.mode===d.BlockStatement&&!this._flags.in_case&&!(t.text==="--"||t.text==="++")&&this._last_last_text!=="function"&&t.type!==h.WORD&&t.type!==h.RESERVED;e=e||this._flags.mode===d.ObjectLiteral&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||reserved_array(this._flags.last_token,["get","set"]));if(e){this.set_mode(d.Statement);this.indent();this.handle_whitespace_and_comments(t,true);if(!this.start_of_object_property()){this.allow_wrap_or_preserved_newline(t,reserved_array(t,["do","for","if","while"]))}return true}return false};Beautifier.prototype.handle_start_expr=function(t){if(!this.start_of_statement(t)){this.handle_whitespace_and_comments(t)}var e=d.Expression;if(t.text==="["){if(this._flags.last_token.type===h.WORD||this._flags.last_token.text===")"){if(reserved_array(this._flags.last_token,u)){this._output.space_before_token=true}this.print_token(t);this.set_mode(e);this.indent();if(this._options.space_in_paren){this._output.space_before_token=true}return}e=d.ArrayLiteral;if(is_array(this._flags.mode)){if(this._flags.last_token.text==="["||this._flags.last_token.text===","&&(this._last_last_text==="]"||this._last_last_text==="}")){if(!this._options.keep_array_indentation){this.print_newline()}}}if(!in_array(this._flags.last_token.type,[h.START_EXPR,h.END_EXPR,h.WORD,h.OPERATOR])){this._output.space_before_token=true}}else{if(this._flags.last_token.type===h.RESERVED){if(this._flags.last_token.text==="for"){this._output.space_before_token=this._options.space_before_conditional;e=d.ForInitializer}else if(in_array(this._flags.last_token.text,["if","while"])){this._output.space_before_token=this._options.space_before_conditional;e=d.Conditional}else if(in_array(this._flags.last_word,["await","async"])){this._output.space_before_token=true}else if(this._flags.last_token.text==="import"&&t.whitespace_before===""){this._output.space_before_token=false}else if(in_array(this._flags.last_token.text,u)||this._flags.last_token.text==="catch"){this._output.space_before_token=true}}else if(this._flags.last_token.type===h.EQUALS||this._flags.last_token.type===h.OPERATOR){if(!this.start_of_object_property()){this.allow_wrap_or_preserved_newline(t)}}else if(this._flags.last_token.type===h.WORD){this._output.space_before_token=false;var s=this._tokens.peek(-3);if(this._options.space_after_named_function&&s){var i=this._tokens.peek(-4);if(reserved_array(s,["async","function"])||s.text==="*"&&reserved_array(i,["async","function"])){this._output.space_before_token=true}else if(this._flags.mode===d.ObjectLiteral){if(s.text==="{"||s.text===","||s.text==="*"&&(i.text==="{"||i.text===",")){this._output.space_before_token=true}}}}else{this.allow_wrap_or_preserved_newline(t)}if(this._flags.last_token.type===h.RESERVED&&(this._flags.last_word==="function"||this._flags.last_word==="typeof")||this._flags.last_token.text==="*"&&(in_array(this._last_last_text,["function","yield"])||this._flags.mode===d.ObjectLiteral&&in_array(this._last_last_text,["{",","]))){this._output.space_before_token=this._options.space_after_anon_function}}if(this._flags.last_token.text===";"||this._flags.last_token.type===h.START_BLOCK){this.print_newline()}else if(this._flags.last_token.type===h.END_EXPR||this._flags.last_token.type===h.START_EXPR||this._flags.last_token.type===h.END_BLOCK||this._flags.last_token.text==="."||this._flags.last_token.type===h.COMMA){this.allow_wrap_or_preserved_newline(t,t.newlines)}this.print_token(t);this.set_mode(e);if(this._options.space_in_paren){this._output.space_before_token=true}this.indent()};Beautifier.prototype.handle_end_expr=function(t){while(this._flags.mode===d.Statement){this.restore_mode()}this.handle_whitespace_and_comments(t);if(this._flags.multiline_frame){this.allow_wrap_or_preserved_newline(t,t.text==="]"&&is_array(this._flags.mode)&&!this._options.keep_array_indentation)}if(this._options.space_in_paren){if(this._flags.last_token.type===h.START_EXPR&&!this._options.space_in_empty_paren){this._output.trim();this._output.space_before_token=false}else{this._output.space_before_token=true}}this.deindent();this.print_token(t);this.restore_mode();remove_redundant_indentation(this._output,this._previous_flags);if(this._flags.do_while&&this._previous_flags.mode===d.Conditional){this._previous_flags.mode=d.Expression;this._flags.do_block=false;this._flags.do_while=false}};Beautifier.prototype.handle_start_block=function(t){this.handle_whitespace_and_comments(t);var e=this._tokens.peek();var s=this._tokens.peek(1);if(this._flags.last_word==="switch"&&this._flags.last_token.type===h.END_EXPR){this.set_mode(d.BlockStatement);this._flags.in_case_statement=true}else if(this._flags.case_body){this.set_mode(d.BlockStatement)}else if(s&&(in_array(s.text,[":",","])&&in_array(e.type,[h.STRING,h.WORD,h.RESERVED])||in_array(e.text,["get","set","..."])&&in_array(s.type,[h.WORD,h.RESERVED]))){if(!in_array(this._last_last_text,["class","interface"])){this.set_mode(d.ObjectLiteral)}else{this.set_mode(d.BlockStatement)}}else if(this._flags.last_token.type===h.OPERATOR&&this._flags.last_token.text==="=>"){this.set_mode(d.BlockStatement)}else if(in_array(this._flags.last_token.type,[h.EQUALS,h.START_EXPR,h.COMMA,h.OPERATOR])||reserved_array(this._flags.last_token,["return","throw","import","default"])){this.set_mode(d.ObjectLiteral)}else{this.set_mode(d.BlockStatement)}var i=!e.comments_before&&e.text==="}";var r=i&&this._flags.last_word==="function"&&this._flags.last_token.type===h.END_EXPR;if(this._options.brace_preserve_inline){var n=0;var a=null;this._flags.inline_frame=true;do{n+=1;a=this._tokens.peek(n-1);if(a.newlines){this._flags.inline_frame=false;break}}while(a.type!==h.EOF&&!(a.type===h.END_BLOCK&&a.opened===t))}if((this._options.brace_style==="expand"||this._options.brace_style==="none"&&t.newlines)&&!this._flags.inline_frame){if(this._flags.last_token.type!==h.OPERATOR&&(r||this._flags.last_token.type===h.EQUALS||reserved_array(this._flags.last_token,l)&&this._flags.last_token.text!=="else")){this._output.space_before_token=true}else{this.print_newline(false,true)}}else{if(is_array(this._previous_flags.mode)&&(this._flags.last_token.type===h.START_EXPR||this._flags.last_token.type===h.COMMA)){if(this._flags.last_token.type===h.COMMA||this._options.space_in_paren){this._output.space_before_token=true}if(this._flags.last_token.type===h.COMMA||this._flags.last_token.type===h.START_EXPR&&this._flags.inline_frame){this.allow_wrap_or_preserved_newline(t);this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame;this._flags.multiline_frame=false}}if(this._flags.last_token.type!==h.OPERATOR&&this._flags.last_token.type!==h.START_EXPR){if(this._flags.last_token.type===h.START_BLOCK&&!this._flags.inline_frame){this.print_newline()}else{this._output.space_before_token=true}}}this.print_token(t);this.indent();if(!i&&!(this._options.brace_preserve_inline&&this._flags.inline_frame)){this.print_newline()}};Beautifier.prototype.handle_end_block=function(t){this.handle_whitespace_and_comments(t);while(this._flags.mode===d.Statement){this.restore_mode()}var e=this._flags.last_token.type===h.START_BLOCK;if(this._flags.inline_frame&&!e){this._output.space_before_token=true}else if(this._options.brace_style==="expand"){if(!e){this.print_newline()}}else{if(!e){if(is_array(this._flags.mode)&&this._options.keep_array_indentation){this._options.keep_array_indentation=false;this.print_newline();this._options.keep_array_indentation=true}else{this.print_newline()}}}this.restore_mode();this.print_token(t)};Beautifier.prototype.handle_word=function(t){if(t.type===h.RESERVED){if(in_array(t.text,["set","get"])&&this._flags.mode!==d.ObjectLiteral){t.type=h.WORD}else if(t.text==="import"&&this._tokens.peek().text==="("){t.type=h.WORD}else if(in_array(t.text,["as","from"])&&!this._flags.import_block){t.type=h.WORD}else if(this._flags.mode===d.ObjectLiteral){var e=this._tokens.peek();if(e.text===":"){t.type=h.WORD}}}if(this.start_of_statement(t)){if(reserved_array(this._flags.last_token,["var","let","const"])&&t.type===h.WORD){this._flags.declaration_statement=true}}else if(t.newlines&&!is_expression(this._flags.mode)&&(this._flags.last_token.type!==h.OPERATOR||(this._flags.last_token.text==="--"||this._flags.last_token.text==="++"))&&this._flags.last_token.type!==h.EQUALS&&(this._options.preserve_newlines||!reserved_array(this._flags.last_token,["var","let","const","set","get"]))){this.handle_whitespace_and_comments(t);this.print_newline()}else{this.handle_whitespace_and_comments(t)}if(this._flags.do_block&&!this._flags.do_while){if(reserved_word(t,"while")){this._output.space_before_token=true;this.print_token(t);this._output.space_before_token=true;this._flags.do_while=true;return}else{this.print_newline();this._flags.do_block=false}}if(this._flags.if_block){if(!this._flags.else_block&&reserved_word(t,"else")){this._flags.else_block=true}else{while(this._flags.mode===d.Statement){this.restore_mode()}this._flags.if_block=false;this._flags.else_block=false}}if(this._flags.in_case_statement&&reserved_array(t,["case","default"])){this.print_newline();if(this._flags.last_token.type!==h.END_BLOCK&&(this._flags.case_body||this._options.jslint_happy)){this.deindent()}this._flags.case_body=false;this.print_token(t);this._flags.in_case=true;return}if(this._flags.last_token.type===h.COMMA||this._flags.last_token.type===h.START_EXPR||this._flags.last_token.type===h.EQUALS||this._flags.last_token.type===h.OPERATOR){if(!this.start_of_object_property()){this.allow_wrap_or_preserved_newline(t)}}if(reserved_word(t,"function")){if(in_array(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!(in_array(this._flags.last_token.text,["(","[","{",":","=",","])||this._flags.last_token.type===h.OPERATOR)){if(!this._output.just_added_blankline()&&!t.comments_before){this.print_newline();this.print_newline(true)}}if(this._flags.last_token.type===h.RESERVED||this._flags.last_token.type===h.WORD){if(reserved_array(this._flags.last_token,["get","set","new","export"])||reserved_array(this._flags.last_token,m)){this._output.space_before_token=true}else if(reserved_word(this._flags.last_token,"default")&&this._last_last_text==="export"){this._output.space_before_token=true}else if(this._flags.last_token.text==="declare"){this._output.space_before_token=true}else{this.print_newline()}}else if(this._flags.last_token.type===h.OPERATOR||this._flags.last_token.text==="="){this._output.space_before_token=true}else if(!this._flags.multiline_frame&&(is_expression(this._flags.mode)||is_array(this._flags.mode))){}else{this.print_newline()}this.print_token(t);this._flags.last_word=t.text;return}var s="NONE";if(this._flags.last_token.type===h.END_BLOCK){if(this._previous_flags.inline_frame){s="SPACE"}else if(!reserved_array(t,["else","catch","finally","from"])){s="NEWLINE"}else{if(this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&t.newlines){s="NEWLINE"}else{s="SPACE";this._output.space_before_token=true}}}else if(this._flags.last_token.type===h.SEMICOLON&&this._flags.mode===d.BlockStatement){s="NEWLINE"}else if(this._flags.last_token.type===h.SEMICOLON&&is_expression(this._flags.mode)){s="SPACE"}else if(this._flags.last_token.type===h.STRING){s="NEWLINE"}else if(this._flags.last_token.type===h.RESERVED||this._flags.last_token.type===h.WORD||this._flags.last_token.text==="*"&&(in_array(this._last_last_text,["function","yield"])||this._flags.mode===d.ObjectLiteral&&in_array(this._last_last_text,["{",","]))){s="SPACE"}else if(this._flags.last_token.type===h.START_BLOCK){if(this._flags.inline_frame){s="SPACE"}else{s="NEWLINE"}}else if(this._flags.last_token.type===h.END_EXPR){this._output.space_before_token=true;s="NEWLINE"}if(reserved_array(t,u)&&this._flags.last_token.text!==")"){if(this._flags.inline_frame||this._flags.last_token.text==="else"||this._flags.last_token.text==="export"){s="SPACE"}else{s="NEWLINE"}}if(reserved_array(t,["else","catch","finally"])){if((!(this._flags.last_token.type===h.END_BLOCK&&this._previous_flags.mode===d.BlockStatement)||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&t.newlines)&&!this._flags.inline_frame){this.print_newline()}else{this._output.trim(true);var i=this._output.current_line;if(i.last()!=="}"){this.print_newline()}this._output.space_before_token=true}}else if(s==="NEWLINE"){if(reserved_array(this._flags.last_token,l)){this._output.space_before_token=true}else if(this._flags.last_token.text==="declare"&&reserved_array(t,["var","let","const"])){this._output.space_before_token=true}else if(this._flags.last_token.type!==h.END_EXPR){if((this._flags.last_token.type!==h.START_EXPR||!reserved_array(t,["var","let","const"]))&&this._flags.last_token.text!==":"){if(reserved_word(t,"if")&&reserved_word(t.previous,"else")){this._output.space_before_token=true}else{this.print_newline()}}}else if(reserved_array(t,u)&&this._flags.last_token.text!==")"){this.print_newline()}}else if(this._flags.multiline_frame&&is_array(this._flags.mode)&&this._flags.last_token.text===","&&this._last_last_text==="}"){this.print_newline()}else if(s==="SPACE"){this._output.space_before_token=true}if(t.previous&&(t.previous.type===h.WORD||t.previous.type===h.RESERVED)){this._output.space_before_token=true}this.print_token(t);this._flags.last_word=t.text;if(t.type===h.RESERVED){if(t.text==="do"){this._flags.do_block=true}else if(t.text==="if"){this._flags.if_block=true}else if(t.text==="import"){this._flags.import_block=true}else if(this._flags.import_block&&reserved_word(t,"from")){this._flags.import_block=false}}};Beautifier.prototype.handle_semicolon=function(t){if(this.start_of_statement(t)){this._output.space_before_token=false}else{this.handle_whitespace_and_comments(t)}var e=this._tokens.peek();while(this._flags.mode===d.Statement&&!(this._flags.if_block&&reserved_word(e,"else"))&&!this._flags.do_block){this.restore_mode()}if(this._flags.import_block){this._flags.import_block=false}this.print_token(t)};Beautifier.prototype.handle_string=function(t){if(t.text.startsWith("`")&&t.newlines===0&&t.whitespace_before===""&&(t.previous.text===")"||this._flags.last_token.type===h.WORD)){}else if(this.start_of_statement(t)){this._output.space_before_token=true}else{this.handle_whitespace_and_comments(t);if(this._flags.last_token.type===h.RESERVED||this._flags.last_token.type===h.WORD||this._flags.inline_frame){this._output.space_before_token=true}else if(this._flags.last_token.type===h.COMMA||this._flags.last_token.type===h.START_EXPR||this._flags.last_token.type===h.EQUALS||this._flags.last_token.type===h.OPERATOR){if(!this.start_of_object_property()){this.allow_wrap_or_preserved_newline(t)}}else if(t.text.startsWith("`")&&this._flags.last_token.type===h.END_EXPR&&(t.previous.text==="]"||t.previous.text===")")&&t.newlines===0){this._output.space_before_token=true}else{this.print_newline()}}this.print_token(t)};Beautifier.prototype.handle_equals=function(t){if(this.start_of_statement(t)){}else{this.handle_whitespace_and_comments(t)}if(this._flags.declaration_statement){this._flags.declaration_assignment=true}this._output.space_before_token=true;this.print_token(t);this._output.space_before_token=true};Beautifier.prototype.handle_comma=function(t){this.handle_whitespace_and_comments(t,true);this.print_token(t);this._output.space_before_token=true;if(this._flags.declaration_statement){if(is_expression(this._flags.parent.mode)){this._flags.declaration_assignment=false}if(this._flags.declaration_assignment){this._flags.declaration_assignment=false;this.print_newline(false,true)}else if(this._options.comma_first){this.allow_wrap_or_preserved_newline(t)}}else if(this._flags.mode===d.ObjectLiteral||this._flags.mode===d.Statement&&this._flags.parent.mode===d.ObjectLiteral){if(this._flags.mode===d.Statement){this.restore_mode()}if(!this._flags.inline_frame){this.print_newline()}}else if(this._options.comma_first){this.allow_wrap_or_preserved_newline(t)}};Beautifier.prototype.handle_operator=function(t){var e=t.text==="*"&&(reserved_array(this._flags.last_token,["function","yield"])||in_array(this._flags.last_token.type,[h.START_BLOCK,h.COMMA,h.END_BLOCK,h.SEMICOLON]));var s=in_array(t.text,["-","+"])&&(in_array(this._flags.last_token.type,[h.START_BLOCK,h.START_EXPR,h.EQUALS,h.OPERATOR])||in_array(this._flags.last_token.text,u)||this._flags.last_token.text===",");if(this.start_of_statement(t)){}else{var i=!e;this.handle_whitespace_and_comments(t,i)}if(reserved_array(this._flags.last_token,l)){this._output.space_before_token=true;this.print_token(t);return}if(t.text==="*"&&this._flags.last_token.type===h.DOT){this.print_token(t);return}if(t.text==="::"){this.print_token(t);return}if(this._flags.last_token.type===h.OPERATOR&&in_array(this._options.operator_position,p)){this.allow_wrap_or_preserved_newline(t)}if(t.text===":"&&this._flags.in_case){this.print_token(t);this._flags.in_case=false;this._flags.case_body=true;if(this._tokens.peek().type!==h.START_BLOCK){this.indent();this.print_newline()}else{this._output.space_before_token=true}return}var r=true;var n=true;var a=false;if(t.text===":"){if(this._flags.ternary_depth===0){r=false}else{this._flags.ternary_depth-=1;a=true}}else if(t.text==="?"){this._flags.ternary_depth+=1}if(!s&&!e&&this._options.preserve_newlines&&in_array(t.text,_)){var o=t.text===":";var f=o&&a;var m=o&&!a;switch(this._options.operator_position){case c.before_newline:this._output.space_before_token=!m;this.print_token(t);if(!o||f){this.allow_wrap_or_preserved_newline(t)}this._output.space_before_token=true;return;case c.after_newline:this._output.space_before_token=true;if(!o||f){if(this._tokens.peek().newlines){this.print_newline(false,true)}else{this.allow_wrap_or_preserved_newline(t)}}else{this._output.space_before_token=false}this.print_token(t);this._output.space_before_token=true;return;case c.preserve_newline:if(!m){this.allow_wrap_or_preserved_newline(t)}r=!(this._output.just_added_newline()||m);this._output.space_before_token=r;this.print_token(t);this._output.space_before_token=true;return}}if(e){this.allow_wrap_or_preserved_newline(t);r=false;var y=this._tokens.peek();n=y&&in_array(y.type,[h.WORD,h.RESERVED])}else if(t.text==="..."){this.allow_wrap_or_preserved_newline(t);r=this._flags.last_token.type===h.START_BLOCK;n=false}else if(in_array(t.text,["--","++","!","~"])||s){if(this._flags.last_token.type===h.COMMA||this._flags.last_token.type===h.START_EXPR){this.allow_wrap_or_preserved_newline(t)}r=false;n=false;if(t.newlines&&(t.text==="--"||t.text==="++")){this.print_newline(false,true)}if(this._flags.last_token.text===";"&&is_expression(this._flags.mode)){r=true}if(this._flags.last_token.type===h.RESERVED){r=true}else if(this._flags.last_token.type===h.END_EXPR){r=!(this._flags.last_token.text==="]"&&(t.text==="--"||t.text==="++"))}else if(this._flags.last_token.type===h.OPERATOR){r=in_array(t.text,["--","-","++","+"])&&in_array(this._flags.last_token.text,["--","-","++","+"]);if(in_array(t.text,["+","-"])&&in_array(this._flags.last_token.text,["--","++"])){n=true}}if((this._flags.mode===d.BlockStatement&&!this._flags.inline_frame||this._flags.mode===d.Statement)&&(this._flags.last_token.text==="{"||this._flags.last_token.text===";")){this.print_newline()}}this._output.space_before_token=this._output.space_before_token||r;this.print_token(t);this._output.space_before_token=n};Beautifier.prototype.handle_block_comment=function(t,e){if(this._output.raw){this._output.add_raw_token(t);if(t.directives&&t.directives.preserve==="end"){this._output.raw=this._options.test_output_raw}return}if(t.directives){this.print_newline(false,e);this.print_token(t);if(t.directives.preserve==="start"){this._output.raw=true}this.print_newline(false,true);return}if(!n.newline.test(t.text)&&!t.newlines){this._output.space_before_token=true;this.print_token(t);this._output.space_before_token=true;return}else{this.print_block_commment(t,e)}};Beautifier.prototype.print_block_commment=function(t,e){var s=split_linebreaks(t.text);var i;var r=false;var n=false;var a=t.whitespace_before;var o=a.length;this.print_newline(false,e);this.print_token_line_indentation(t);this._output.add_token(s[0]);this.print_newline(false,e);if(s.length>1){s=s.slice(1);r=all_lines_start_with(s,"*");n=each_line_matches_indent(s,a);if(r){this._flags.alignment=1}for(i=0;i<s.length;i++){if(r){this.print_token_line_indentation(t);this._output.add_token(ltrim(s[i]))}else if(n&&s[i]){this.print_token_line_indentation(t);this._output.add_token(s[i].substring(o))}else{this._output.current_line.set_indent(-1);this._output.add_token(s[i])}this.print_newline(false,e)}this._flags.alignment=0}};Beautifier.prototype.handle_comment=function(t,e){if(t.newlines){this.print_newline(false,e)}else{this._output.trim(true)}this._output.space_before_token=true;this.print_token(t);this.print_newline(false,e)};Beautifier.prototype.handle_dot=function(t){if(this.start_of_statement(t)){}else{this.handle_whitespace_and_comments(t,true)}if(reserved_array(this._flags.last_token,l)){this._output.space_before_token=false}else{this.allow_wrap_or_preserved_newline(t,this._flags.last_token.text===")"&&this._options.break_chained_methods)}if(this._options.unindent_chained_methods&&this._output.just_added_newline()){this.deindent()}this.print_token(t)};Beautifier.prototype.handle_unknown=function(t,e){this.print_token(t);if(t.text[t.text.length-1]==="\n"){this.print_newline(false,e)}};Beautifier.prototype.handle_eof=function(t){while(this._flags.mode===d.Statement){this.restore_mode()}this.handle_whitespace_and_comments(t)};t.exports.K=Beautifier},1335:(t,e,s)=>{"use strict";var i=s(4703).K,r=s(5118).E;function js_beautify(t,e){var s=new i(t,e);return s.beautify()}t.exports=js_beautify;t.exports.defaultOptions=function(){return new r}},5118:(t,e,s)=>{"use strict";var i=s(1233).Ei;var r=["before-newline","after-newline","preserve-newline"];function Options(t){i.call(this,t,"js");var e=this.raw_options.brace_style||null;if(e==="expand-strict"){this.raw_options.brace_style="expand"}else if(e==="collapse-preserve-inline"){this.raw_options.brace_style="collapse,preserve-inline"}else if(this.raw_options.braces_on_own_line!==undefined){this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse"}var s=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_preserve_inline=false;this.brace_style="collapse";for(var n=0;n<s.length;n++){if(s[n]==="preserve-inline"){this.brace_preserve_inline=true}else{this.brace_style=s[n]}}this.unindent_chained_methods=this._get_boolean("unindent_chained_methods");this.break_chained_methods=this._get_boolean("break_chained_methods");this.space_in_paren=this._get_boolean("space_in_paren");this.space_in_empty_paren=this._get_boolean("space_in_empty_paren");this.jslint_happy=this._get_boolean("jslint_happy");this.space_after_anon_function=this._get_boolean("space_after_anon_function");this.space_after_named_function=this._get_boolean("space_after_named_function");this.keep_array_indentation=this._get_boolean("keep_array_indentation");this.space_before_conditional=this._get_boolean("space_before_conditional",true);this.unescape_strings=this._get_boolean("unescape_strings");this.e4x=this._get_boolean("e4x");this.comma_first=this._get_boolean("comma_first");this.operator_position=this._get_selection("operator_position",r);this.test_output_raw=this._get_boolean("test_output_raw");if(this.jslint_happy){this.space_after_anon_function=true}}Options.prototype=new i;t.exports.E=Options},1267:(t,e,s)=>{"use strict";var i=s(4652).g;var r=s(7218).d;var n=s(7218).o;var a=s(2525).t;var o=s(9467);var u=s(3663).c;var _=s(3571).A;function in_array(t,e){return e.indexOf(t)!==-1}var h={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:n.START,RAW:n.RAW,EOF:n.EOF};var l=new a(/\/\*/,/\*\//);var f=/0[xX][0123456789abcdefABCDEF]*|0[oO][01234567]*|0[bB][01]*|\d+n|(?:\.\d+|\d+\.?\d*)(?:[eE][+-]?\d+)?/;var c=/[0-9]/;var p=/[^\d\.]/;var d=(">>> === !== "+"<< && >= ** != == <= >> || ?? |> "+"< / - + > : & % ? ^ | *").split(" ");var m=">>>= "+"... >>= <<= === >>> !== **= "+"=> ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> "+"= ! ? > < : / ^ - + * & % ~ |";m=m.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");m="\\?\\.(?!\\d) "+m;m=m.replace(/ /g,"|");var y=new RegExp(m);var g="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(",");var b=g.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as"]);var w=new RegExp("^(?:"+b.join("|")+")$");var v;var x=function(t,e){r.call(this,t,e);this._patterns.whitespace=this._patterns.whitespace.matching(/\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff/.source,/\u2028\u2029/.source);var s=new u(this._input);var i=new _(this._input).read_options(this._options);this.__patterns={template:i,identifier:i.starting_with(o.identifier).matching(o.identifierMatch),number:s.matching(f),punct:s.matching(y),comment:s.starting_with(/\/\//).until(/[\n\r\u2028\u2029]/),block_comment:s.starting_with(/\/\*/).until_after(/\*\//),html_comment_start:s.matching(/<!--/),html_comment_end:s.matching(/-->/),include:s.starting_with(/#include/).until_after(o.lineBreak),shebang:s.starting_with(/#!/).until_after(o.lineBreak),xml:s.matching(/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[\s\S]+?}|!\[CDATA\[[\s\S]*?\]\]|)(\s+{[\s\S]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{[\s\S]+?}))*\s*(\/?)\s*>/),single_quote:i.until(/['\\\n\r\u2028\u2029]/),double_quote:i.until(/["\\\n\r\u2028\u2029]/),template_text:i.until(/[`\\$]/),template_expression:i.until(/[`}\\]/)}};x.prototype=new r;x.prototype._is_comment=function(t){return t.type===h.COMMENT||t.type===h.BLOCK_COMMENT||t.type===h.UNKNOWN};x.prototype._is_opening=function(t){return t.type===h.START_BLOCK||t.type===h.START_EXPR};x.prototype._is_closing=function(t,e){return(t.type===h.END_BLOCK||t.type===h.END_EXPR)&&(e&&(t.text==="]"&&e.text==="["||t.text===")"&&e.text==="("||t.text==="}"&&e.text==="{"))};x.prototype._reset=function(){v=false};x.prototype._get_next_token=function(t,e){var s=null;this._readWhitespace();var i=this._input.peek();if(i===null){return this._create_token(h.EOF,"")}s=s||this._read_non_javascript(i);s=s||this._read_string(i);s=s||this._read_word(t);s=s||this._read_singles(i);s=s||this._read_comment(i);s=s||this._read_regexp(i,t);s=s||this._read_xml(i,t);s=s||this._read_punctuation();s=s||this._create_token(h.UNKNOWN,this._input.next());return s};x.prototype._read_word=function(t){var e;e=this.__patterns.identifier.read();if(e!==""){e=e.replace(o.allLineBreaks,"\n");if(!(t.type===h.DOT||t.type===h.RESERVED&&(t.text==="set"||t.text==="get"))&&w.test(e)){if(e==="in"||e==="of"){return this._create_token(h.OPERATOR,e)}return this._create_token(h.RESERVED,e)}return this._create_token(h.WORD,e)}e=this.__patterns.number.read();if(e!==""){return this._create_token(h.WORD,e)}};x.prototype._read_singles=function(t){var e=null;if(t==="("||t==="["){e=this._create_token(h.START_EXPR,t)}else if(t===")"||t==="]"){e=this._create_token(h.END_EXPR,t)}else if(t==="{"){e=this._create_token(h.START_BLOCK,t)}else if(t==="}"){e=this._create_token(h.END_BLOCK,t)}else if(t===";"){e=this._create_token(h.SEMICOLON,t)}else if(t==="."&&p.test(this._input.peek(1))){e=this._create_token(h.DOT,t)}else if(t===","){e=this._create_token(h.COMMA,t)}if(e){this._input.next()}return e};x.prototype._read_punctuation=function(){var t=this.__patterns.punct.read();if(t!==""){if(t==="="){return this._create_token(h.EQUALS,t)}else if(t==="?."){return this._create_token(h.DOT,t)}else{return this._create_token(h.OPERATOR,t)}}};x.prototype._read_non_javascript=function(t){var e="";if(t==="#"){if(this._is_first_token()){e=this.__patterns.shebang.read();if(e){return this._create_token(h.UNKNOWN,e.trim()+"\n")}}e=this.__patterns.include.read();if(e){return this._create_token(h.UNKNOWN,e.trim()+"\n")}t=this._input.next();var s="#";if(this._input.hasNext()&&this._input.testChar(c)){do{t=this._input.next();s+=t}while(this._input.hasNext()&&t!=="#"&&t!=="=");if(t==="#"){}else if(this._input.peek()==="["&&this._input.peek(1)==="]"){s+="[]";this._input.next();this._input.next()}else if(this._input.peek()==="{"&&this._input.peek(1)==="}"){s+="{}";this._input.next();this._input.next()}return this._create_token(h.WORD,s)}this._input.back()}else if(t==="<"&&this._is_first_token()){e=this.__patterns.html_comment_start.read();if(e){while(this._input.hasNext()&&!this._input.testChar(o.newline)){e+=this._input.next()}v=true;return this._create_token(h.COMMENT,e)}}else if(v&&t==="-"){e=this.__patterns.html_comment_end.read();if(e){v=false;return this._create_token(h.COMMENT,e)}}return null};x.prototype._read_comment=function(t){var e=null;if(t==="/"){var s="";if(this._input.peek(1)==="*"){s=this.__patterns.block_comment.read();var i=l.get_directives(s);if(i&&i.ignore==="start"){s+=l.readIgnored(this._input)}s=s.replace(o.allLineBreaks,"\n");e=this._create_token(h.BLOCK_COMMENT,s);e.directives=i}else if(this._input.peek(1)==="/"){s=this.__patterns.comment.read();e=this._create_token(h.COMMENT,s)}}return e};x.prototype._read_string=function(t){if(t==="`"||t==="'"||t==='"'){var e=this._input.next();this.has_char_escapes=false;if(t==="`"){e+=this._read_string_recursive("`",true,"${")}else{e+=this._read_string_recursive(t)}if(this.has_char_escapes&&this._options.unescape_strings){e=unescape_string(e)}if(this._input.peek()===t){e+=this._input.next()}e=e.replace(o.allLineBreaks,"\n");return this._create_token(h.STRING,e)}return null};x.prototype._allow_regexp_or_xml=function(t){return t.type===h.RESERVED&&in_array(t.text,["return","case","throw","else","do","typeof","yield"])||t.type===h.END_EXPR&&t.text===")"&&t.opened.previous.type===h.RESERVED&&in_array(t.opened.previous.text,["if","while","for"])||in_array(t.type,[h.COMMENT,h.START_EXPR,h.START_BLOCK,h.START,h.END_BLOCK,h.OPERATOR,h.EQUALS,h.EOF,h.SEMICOLON,h.COMMA])};x.prototype._read_regexp=function(t,e){if(t==="/"&&this._allow_regexp_or_xml(e)){var s=this._input.next();var i=false;var r=false;while(this._input.hasNext()&&((i||r||this._input.peek()!==t)&&!this._input.testChar(o.newline))){s+=this._input.peek();if(!i){i=this._input.peek()==="\\";if(this._input.peek()==="["){r=true}else if(this._input.peek()==="]"){r=false}}else{i=false}this._input.next()}if(this._input.peek()===t){s+=this._input.next();s+=this._input.read(o.identifier)}return this._create_token(h.STRING,s)}return null};x.prototype._read_xml=function(t,e){if(this._options.e4x&&t==="<"&&this._allow_regexp_or_xml(e)){var s="";var i=this.__patterns.xml.read_match();if(i){var r=i[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}");var n=r.indexOf("{")===0;var a=0;while(i){var u=!!i[1];var _=i[2];var l=!!i[i.length-1]||_.slice(0,8)==="![CDATA[";if(!l&&(_===r||n&&_.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))){if(u){--a}else{++a}}s+=i[0];if(a<=0){break}i=this.__patterns.xml.read_match()}if(!i){s+=this._input.match(/[\s\S]*/g)[0]}s=s.replace(o.allLineBreaks,"\n");return this._create_token(h.STRING,s)}}return null};function unescape_string(t){var e="",s=0;var r=new i(t);var n=null;while(r.hasNext()){n=r.match(/([\s]|[^\\]|\\\\)+/g);if(n){e+=n[0]}if(r.peek()==="\\"){r.next();if(r.peek()==="x"){n=r.match(/x([0-9A-Fa-f]{2})/g)}else if(r.peek()==="u"){n=r.match(/u([0-9A-Fa-f]{4})/g)}else{e+="\\";if(r.hasNext()){e+=r.next()}continue}if(!n){return t}s=parseInt(n[1],16);if(s>126&&s<=255&&n[0].indexOf("x")===0){return t}else if(s>=0&&s<32){e+="\\"+n[0];continue}else if(s===34||s===39||s===92){e+="\\"+String.fromCharCode(s)}else{e+=String.fromCharCode(s)}}}return e}x.prototype._read_string_recursive=function(t,e,s){var i;var r;if(t==="'"){r=this.__patterns.single_quote}else if(t==='"'){r=this.__patterns.double_quote}else if(t==="`"){r=this.__patterns.template_text}else if(t==="}"){r=this.__patterns.template_expression}var n=r.read();var a="";while(this._input.hasNext()){a=this._input.next();if(a===t||!e&&o.newline.test(a)){this._input.back();break}else if(a==="\\"&&this._input.hasNext()){i=this._input.peek();if(i==="x"||i==="u"){this.has_char_escapes=true}else if(i==="\r"&&this._input.peek(1)==="\n"){this._input.next()}a+=this._input.next()}else if(s){if(s==="${"&&a==="$"&&this._input.peek()==="{"){a+=this._input.next()}if(s===a){if(t==="`"){a+=this._read_string_recursive("}",e,"`")}else{a+=this._read_string_recursive("`",e,"${")}if(this._input.hasNext()){a+=this._input.next()}}}a+=r.read();n+=a}return n};t.exports.d2=x;t.exports.o3=h;t.exports.L2=d.slice();t.exports.O9=g.slice()},2199:(t,e)=>{e.stringify=function stringify(t){if("undefined"==typeof t)return t;if(t&&Buffer.isBuffer(t))return JSON.stringify(":base64:"+t.toString("base64"));if(t&&t.toJSON)t=t.toJSON();if(t&&"object"===typeof t){var e="";var s=Array.isArray(t);e=s?"[":"{";var i=true;for(var r in t){var n="function"==typeof t[r]||!s&&"undefined"===typeof t[r];if(Object.hasOwnProperty.call(t,r)&&!n){if(!i)e+=",";i=false;if(s){if(t[r]==undefined)e+="null";else e+=stringify(t[r])}else if(t[r]!==void 0){e+=stringify(r)+":"+stringify(t[r])}}}e+=s?"]":"}";return e}else if("string"===typeof t){return JSON.stringify(/^:/.test(t)?":"+t:t)}else if("undefined"===typeof t){return"null"}else return JSON.stringify(t)};e.parse=function(t){return JSON.parse(t,function(t,e){if("string"===typeof e){if(/^:base64:/.test(e))return Buffer.from(e.substring(8),"base64");else return/^:/.test(e)?e.substring(1):e}return e})}},3347:(t,e,s)=>{"use strict";const i=s(8614);const r=s(2199);const n=t=>{const e={redis:"@keyv/redis",mongodb:"@keyv/mongo",mongo:"@keyv/mongo",sqlite:"@keyv/sqlite",postgresql:"@keyv/postgres",postgres:"@keyv/postgres",mysql:"@keyv/mysql"};if(t.adapter||t.uri){const s=t.adapter||/^[^:]*/.exec(t.uri)[0];return new(require(e[s]))(t)}return new Map};class Keyv extends i{constructor(t,e){super();this.opts=Object.assign({namespace:"keyv",serialize:r.stringify,deserialize:r.parse},typeof t==="string"?{uri:t}:t,e);if(!this.opts.store){const t=Object.assign({},this.opts);this.opts.store=n(t)}if(typeof this.opts.store.on==="function"){this.opts.store.on("error",t=>this.emit("error",t))}this.opts.store.namespace=this.opts.namespace}_getKeyPrefix(t){return`${this.opts.namespace}:${t}`}get(t,e){const s=this._getKeyPrefix(t);const{store:i}=this.opts;return Promise.resolve().then(()=>i.get(s)).then(t=>{return typeof t==="string"?this.opts.deserialize(t):t}).then(s=>{if(s===undefined){return undefined}if(typeof s.expires==="number"&&Date.now()>s.expires){this.delete(t);return undefined}return e&&e.raw?s:s.value})}set(t,e,s){const i=this._getKeyPrefix(t);if(typeof s==="undefined"){s=this.opts.ttl}if(s===0){s=undefined}const{store:r}=this.opts;return Promise.resolve().then(()=>{const t=typeof s==="number"?Date.now()+s:null;e={value:e,expires:t};return this.opts.serialize(e)}).then(t=>r.set(i,t,s)).then(()=>true)}delete(t){const e=this._getKeyPrefix(t);const{store:s}=this.opts;return Promise.resolve().then(()=>s.delete(e))}clear(){const{store:t}=this.opts;return Promise.resolve().then(()=>t.clear())}}t.exports=Keyv},2878:t=>{"use strict";t.exports=(t=>{const e={};for(const[s,i]of Object.entries(t)){e[s.toLowerCase()]=i}return e})},4206:t=>{"use strict";const e=["destroy","setTimeout","socket","headers","trailers","rawHeaders","statusCode","httpVersion","httpVersionMinor","httpVersionMajor","rawTrailers","statusMessage"];t.exports=((t,s)=>{const i=new Set(Object.keys(t).concat(e));for(const e of i){if(e in s){continue}s[e]=typeof t[e]==="function"?t[e].bind(t):t[e]}})},9044:(t,e,s)=>{"use strict";const i=typeof URL==="undefined"?s(8835).URL:URL;const r="text/plain";const n="us-ascii";const a=(t,e)=>{return e.some(e=>e instanceof RegExp?e.test(t):e===t)};const o=(t,{stripHash:e})=>{const s=t.match(/^data:(.*?),(.*?)(?:#(.*))?$/);if(!s){throw new Error(`Invalid URL: ${t}`)}const i=s[1].split(";");const a=s[2];const o=e?"":s[3];let u=false;if(i[i.length-1]==="base64"){i.pop();u=true}const _=(i.shift()||"").toLowerCase();const h=i.map(t=>{let[e,s=""]=t.split("=").map(t=>t.trim());if(e==="charset"){s=s.toLowerCase();if(s===n){return""}}return`${e}${s?`=${s}`:""}`}).filter(Boolean);const l=[...h];if(u){l.push("base64")}if(l.length!==0||_&&_!==r){l.unshift(_)}return`data:${l.join(";")},${u?a.trim():a}${o?`#${o}`:""}`};const u=(t,e)=>{e={defaultProtocol:"http:",normalizeProtocol:true,forceHttp:false,forceHttps:false,stripAuthentication:true,stripHash:false,stripWWW:true,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:true,removeDirectoryIndex:false,sortQueryParameters:true,...e};if(Reflect.has(e,"normalizeHttps")){throw new Error("options.normalizeHttps is renamed to options.forceHttp")}if(Reflect.has(e,"normalizeHttp")){throw new Error("options.normalizeHttp is renamed to options.forceHttps")}if(Reflect.has(e,"stripFragment")){throw new Error("options.stripFragment is renamed to options.stripHash")}t=t.trim();if(/^data:/i.test(t)){return o(t,e)}const s=t.startsWith("//");const r=!s&&/^\.*\//.test(t);if(!r){t=t.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,e.defaultProtocol)}const n=new i(t);if(e.forceHttp&&e.forceHttps){throw new Error("The `forceHttp` and `forceHttps` options cannot be used together")}if(e.forceHttp&&n.protocol==="https:"){n.protocol="http:"}if(e.forceHttps&&n.protocol==="http:"){n.protocol="https:"}if(e.stripAuthentication){n.username="";n.password=""}if(e.stripHash){n.hash=""}if(n.pathname){n.pathname=n.pathname.replace(/((?!:).|^)\/{2,}/g,(t,e)=>{if(/^(?!\/)/g.test(e)){return`${e}/`}return"/"})}if(n.pathname){n.pathname=decodeURI(n.pathname)}if(e.removeDirectoryIndex===true){e.removeDirectoryIndex=[/^index\.[a-z]+$/]}if(Array.isArray(e.removeDirectoryIndex)&&e.removeDirectoryIndex.length>0){let t=n.pathname.split("/");const s=t[t.length-1];if(a(s,e.removeDirectoryIndex)){t=t.slice(0,t.length-1);n.pathname=t.slice(1).join("/")+"/"}}if(n.hostname){n.hostname=n.hostname.replace(/\.$/,"");if(e.stripWWW&&/^www\.([a-z\-\d]{2,63})\.([a-z.]{2,5})$/.test(n.hostname)){n.hostname=n.hostname.replace(/^www\./,"")}}if(Array.isArray(e.removeQueryParameters)){for(const t of[...n.searchParams.keys()]){if(a(t,e.removeQueryParameters)){n.searchParams.delete(t)}}}if(e.sortQueryParameters){n.searchParams.sort()}if(e.removeTrailingSlash){n.pathname=n.pathname.replace(/\/$/,"")}t=n.toString();if((e.removeTrailingSlash||n.pathname==="/")&&n.hash===""){t=t.replace(/\/$/,"")}if(s&&!e.normalizeProtocol){t=t.replace(/^http:\/\//,"//")}if(e.stripProtocol){t=t.replace(/^(?:https?:)?\/\//,"")}return t};t.exports=u;t.exports.default=u},9691:(t,e,s)=>{var i=s(7799);t.exports=i(once);t.exports.strict=i(onceStrict);once.proto=once(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return once(this)},configurable:true});Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return onceStrict(this)},configurable:true})});function once(t){var e=function(){if(e.called)return e.value;e.called=true;return e.value=t.apply(this,arguments)};e.called=false;return e}function onceStrict(t){var e=function(){if(e.called)throw new Error(e.onceError);e.called=true;return e.value=t.apply(this,arguments)};var s=t.name||"Function wrapped with `once`";e.onceError=s+" shouldn't be called more than once";e.called=false;return e}},9163:t=>{"use strict";class CancelError extends Error{constructor(t){super(t||"Promise was canceled");this.name="CancelError"}get isCanceled(){return true}}class PCancelable{static fn(t){return(...e)=>{return new PCancelable((s,i,r)=>{e.push(r);t(...e).then(s,i)})}}constructor(t){this._cancelHandlers=[];this._isPending=true;this._isCanceled=false;this._rejectOnCancel=true;this._promise=new Promise((e,s)=>{this._reject=s;const i=t=>{if(!this._isCanceled||!n.shouldReject){this._isPending=false;e(t)}};const r=t=>{this._isPending=false;s(t)};const n=t=>{if(!this._isPending){throw new Error("The `onCancel` handler was attached after the promise settled.")}this._cancelHandlers.push(t)};Object.defineProperties(n,{shouldReject:{get:()=>this._rejectOnCancel,set:t=>{this._rejectOnCancel=t}}});return t(i,r,n)})}then(t,e){return this._promise.then(t,e)}catch(t){return this._promise.catch(t)}finally(t){return this._promise.finally(t)}cancel(t){if(!this._isPending||this._isCanceled){return}this._isCanceled=true;if(this._cancelHandlers.length>0){try{for(const t of this._cancelHandlers){t()}}catch(t){this._reject(t);return}}if(this._rejectOnCancel){this._reject(new CancelError(t))}}get isCanceled(){return this._isCanceled}}Object.setPrototypeOf(PCancelable.prototype,Promise.prototype);t.exports=PCancelable;t.exports.CancelError=CancelError},838:(t,e,s)=>{var i=s(9691);var r=s(3254);var n=s(5747);var a=function(){};var o=/^v?\.0/.test(process.version);var u=function(t){return typeof t==="function"};var _=function(t){if(!o)return false;if(!n)return false;return(t instanceof(n.ReadStream||a)||t instanceof(n.WriteStream||a))&&u(t.close)};var h=function(t){return t.setHeader&&u(t.abort)};var l=function(t,e,s,n){n=i(n);var o=false;t.on("close",function(){o=true});r(t,{readable:e,writable:s},function(t){if(t)return n(t);o=true;n()});var l=false;return function(e){if(o)return;if(l)return;l=true;if(_(t))return t.close(a);if(h(t))return t.abort();if(u(t.destroy))return t.destroy();n(e||new Error("stream was destroyed"))}};var f=function(t){t()};var c=function(t,e){return t.pipe(e)};var p=function(){var t=Array.prototype.slice.call(arguments);var e=u(t[t.length-1]||a)&&t.pop()||a;if(Array.isArray(t[0]))t=t[0];if(t.length<2)throw new Error("pump requires two streams per minimum");var s;var i=t.map(function(r,n){var a=n<t.length-1;var o=n>0;return l(r,a,o,function(t){if(!s)s=t;if(t)i.forEach(f);if(a)return;i.forEach(f);e(s)})});return t.reduce(c)};t.exports=p},7973:t=>{"use strict";class QuickLRU{constructor(t={}){if(!(t.maxSize&&t.maxSize>0)){throw new TypeError("`maxSize` must be a number greater than 0")}this.maxSize=t.maxSize;this.onEviction=t.onEviction;this.cache=new Map;this.oldCache=new Map;this._size=0}_set(t,e){this.cache.set(t,e);this._size++;if(this._size>=this.maxSize){this._size=0;if(typeof this.onEviction==="function"){for(const[t,e]of this.oldCache.entries()){this.onEviction(t,e)}}this.oldCache=this.cache;this.cache=new Map}}get(t){if(this.cache.has(t)){return this.cache.get(t)}if(this.oldCache.has(t)){const e=this.oldCache.get(t);this.oldCache.delete(t);this._set(t,e);return e}}set(t,e){if(this.cache.has(t)){this.cache.set(t,e)}else{this._set(t,e)}return this}has(t){return this.cache.has(t)||this.oldCache.has(t)}peek(t){if(this.cache.has(t)){return this.cache.get(t)}if(this.oldCache.has(t)){return this.oldCache.get(t)}}delete(t){const e=this.cache.delete(t);if(e){this._size--}return this.oldCache.delete(t)||e}clear(){this.cache.clear();this.oldCache.clear();this._size=0}*keys(){for(const[t]of this){yield t}}*values(){for(const[,t]of this){yield t}}*[Symbol.iterator](){for(const t of this.cache){yield t}for(const t of this.oldCache){const[e]=t;if(!this.cache.has(e)){yield t}}}get size(){let t=0;for(const e of this.oldCache.keys()){if(!this.cache.has(e)){t++}}return Math.min(this._size+t,this.maxSize)}}t.exports=QuickLRU},8080:(t,e,s)=>{"use strict";const i=s(4016);t.exports=((t={})=>new Promise((e,s)=>{const r=i.connect(t,()=>{if(t.resolveSocket){r.off("error",s);e({alpnProtocol:r.alpnProtocol,socket:r})}else{r.destroy();e({alpnProtocol:r.alpnProtocol})}});r.on("error",s)}))},1762:(t,e,s)=>{"use strict";const i=s(2413).Readable;const r=s(2878);class Response extends i{constructor(t,e,s,i){if(typeof t!=="number"){throw new TypeError("Argument `statusCode` should be a number")}if(typeof e!=="object"){throw new TypeError("Argument `headers` should be an object")}if(!(s instanceof Buffer)){throw new TypeError("Argument `body` should be a buffer")}if(typeof i!=="string"){throw new TypeError("Argument `url` should be a string")}super();this.statusCode=t;this.headers=r(e);this.body=s;this.url=i}_read(){this.push(this.body);this.push(null)}}t.exports=Response},7799:t=>{t.exports=wrappy;function wrappy(t,e){if(t&&e)return wrappy(t)(e);if(typeof t!=="function")throw new TypeError("need wrapper function");Object.keys(t).forEach(function(e){wrapper[e]=t[e]});return wrapper;function wrapper(){var e=new Array(arguments.length);for(var s=0;s<e.length;s++){e[s]=arguments[s]}var i=t.apply(this,e);var r=e[e.length-1];if(typeof i==="function"&&i!==r){Object.keys(r).forEach(function(t){i[t]=r[t]})}return i}}},4293:t=>{"use strict";t.exports=require("buffer")},881:t=>{"use strict";t.exports=require("dns")},8614:t=>{"use strict";t.exports=require("events")},5747:t=>{"use strict";t.exports=require("fs")},8605:t=>{"use strict";t.exports=require("http")},7565:t=>{"use strict";t.exports=require("http2")},7211:t=>{"use strict";t.exports=require("https")},1631:t=>{"use strict";t.exports=require("net")},2087:t=>{"use strict";t.exports=require("os")},2413:t=>{"use strict";t.exports=require("stream")},4016:t=>{"use strict";t.exports=require("tls")},8835:t=>{"use strict";t.exports=require("url")},1669:t=>{"use strict";t.exports=require("util")},8761:t=>{"use strict";t.exports=require("zlib")}};var e={};function __nccwpck_require__(s){if(e[s]){return e[s].exports}var i=e[s]={id:s,loaded:false,exports:{}};var r=true;try{t[s].call(i.exports,i,i.exports,__nccwpck_require__);r=false}finally{if(r)delete e[s]}i.loaded=true;return i.exports}(()=>{__nccwpck_require__.nmd=(t=>{t.paths=[];if(!t.children)t.children=[];return t})})();__nccwpck_require__.ab=__dirname+"/";return __nccwpck_require__(7333)})();